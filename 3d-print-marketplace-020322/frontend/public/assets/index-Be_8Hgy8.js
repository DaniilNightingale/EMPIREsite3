function tf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function nf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zc={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),rf=Symbol.for("react.portal"),sf=Symbol.for("react.fragment"),lf=Symbol.for("react.strict_mode"),af=Symbol.for("react.profiler"),of=Symbol.for("react.provider"),cf=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),mf=Symbol.for("react.memo"),ff=Symbol.for("react.lazy"),po=Symbol.iterator;function pf(e){return e===null||typeof e!="object"?null:(e=po&&e[po]||e["@@iterator"],typeof e=="function"?e:null)}var eu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tu=Object.assign,nu={};function Bn(e,t,n){this.props=e,this.context=t,this.refs=nu,this.updater=n||eu}Bn.prototype.isReactComponent={};Bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ru(){}ru.prototype=Bn.prototype;function oi(e,t,n){this.props=e,this.context=t,this.refs=nu,this.updater=n||eu}var ci=oi.prototype=new ru;ci.constructor=oi;tu(ci,Bn.prototype);ci.isPureReactComponent=!0;var ho=Array.isArray,su=Object.prototype.hasOwnProperty,ui={current:null},lu={key:!0,ref:!0,__self:!0,__source:!0};function au(e,t,n){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)su.call(t,r)&&!lu.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Fr,type:e,key:a,ref:i,props:l,_owner:ui.current}}function hf(e,t){return{$$typeof:Fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function di(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fr}function xf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xo=/\/+/g;function zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xf(""+e.key):t.toString(36)}function gs(e,t,n,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fr:case rf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+zl(i,0):r,ho(l)?(n="",e!=null&&(n=e.replace(xo,"$&/")+"/"),gs(l,t,n,"",function(u){return u})):l!=null&&(di(l)&&(l=hf(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(xo,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",ho(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+zl(a,o);i+=gs(a,t,n,c,l)}else if(c=pf(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+zl(a,o++),i+=gs(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Yr(e,t,n){if(e==null)return e;var r=[],l=0;return gs(e,r,"","",function(a){return t.call(n,a,l++)}),r}function gf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},vs={transition:null},vf={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:vs,ReactCurrentOwner:ui};function iu(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Yr,forEach:function(e,t,n){Yr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yr(e,function(){t++}),t},toArray:function(e){return Yr(e,function(t){return t})||[]},only:function(e){if(!di(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Bn;Q.Fragment=sf;Q.Profiler=af;Q.PureComponent=oi;Q.StrictMode=lf;Q.Suspense=df;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vf;Q.act=iu;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tu({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ui.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)su.call(t,c)&&!lu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Fr,type:e.type,key:l,ref:a,props:r,_owner:i}};Q.createContext=function(e){return e={$$typeof:cf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:of,_context:e},e.Consumer=e};Q.createElement=au;Q.createFactory=function(e){var t=au.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:uf,render:e}};Q.isValidElement=di;Q.lazy=function(e){return{$$typeof:ff,_payload:{_status:-1,_result:e},_init:gf}};Q.memo=function(e,t){return{$$typeof:mf,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=vs.transition;vs.transition={};try{e()}finally{vs.transition=t}};Q.unstable_act=iu;Q.useCallback=function(e,t){return _e.current.useCallback(e,t)};Q.useContext=function(e){return _e.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};Q.useEffect=function(e,t){return _e.current.useEffect(e,t)};Q.useId=function(){return _e.current.useId()};Q.useImperativeHandle=function(e,t,n){return _e.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return _e.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return _e.current.useReducer(e,t,n)};Q.useRef=function(e){return _e.current.useRef(e)};Q.useState=function(e){return _e.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return _e.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return _e.current.useTransition()};Q.version="18.3.1";Zc.exports=Q;var k=Zc.exports;const pt=nf(k),yf=tf({__proto__:null,default:pt},[k]);var ou={exports:{}},$e={},cu={exports:{}},uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var $=T.length;T.push(A);e:for(;0<$;){var B=$-1>>>1,W=T[B];if(0<l(W,A))T[B]=A,T[$]=W,$=B;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var A=T[0],$=T.pop();if($!==A){T[0]=$;e:for(var B=0,W=T.length,be=W>>>1;B<be;){var H=2*(B+1)-1,J=T[H],K=H+1,ae=T[K];if(0>l(J,$))K<W&&0>l(ae,J)?(T[B]=ae,T[K]=$,B=K):(T[B]=J,T[H]=$,B=H);else if(K<W&&0>l(ae,$))T[B]=ae,T[K]=$,B=K;else break e}}return A}function l(T,A){var $=T.sortIndex-A.sortIndex;return $!==0?$:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,h=null,p=3,_=!1,w=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=T)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function b(T){if(v=!1,x(T),!w)if(n(c)!==null)w=!0,R(E);else{var A=n(u);A!==null&&D(b,A.startTime-T)}}function E(T,A){w=!1,v&&(v=!1,f(g),g=-1),_=!0;var $=p;try{for(x(A),h=n(c);h!==null&&(!(h.expirationTime>A)||T&&!N());){var B=h.callback;if(typeof B=="function"){h.callback=null,p=h.priorityLevel;var W=B(h.expirationTime<=A);A=e.unstable_now(),typeof W=="function"?h.callback=W:h===n(c)&&r(c),x(A)}else r(c);h=n(c)}if(h!==null)var be=!0;else{var H=n(u);H!==null&&D(b,H.startTime-A),be=!1}return be}finally{h=null,p=$,_=!1}}var P=!1,S=null,g=-1,O=5,L=-1;function N(){return!(e.unstable_now()-L<O)}function j(){if(S!==null){var T=e.unstable_now();L=T;var A=!0;try{A=S(!0,T)}finally{A?I():(P=!1,S=null)}}else P=!1}var I;if(typeof m=="function")I=function(){m(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,y=M.port2;M.port1.onmessage=j,I=function(){y.postMessage(null)}}else I=function(){C(j,0)};function R(T){S=T,P||(P=!0,I())}function D(T,A){g=C(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||_||(w=!0,R(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var $=p;p=A;try{return T()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return A()}finally{p=$}},e.unstable_scheduleCallback=function(T,A,$){var B=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,T){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,T={id:d++,callback:A,priorityLevel:T,startTime:$,expirationTime:W,sortIndex:-1},$>B?(T.sortIndex=$,t(u,T),n(c)===null&&T===n(u)&&(v?(f(g),g=-1):v=!0,D(b,$-B))):(T.sortIndex=W,t(c,T),w||_||(w=!0,R(E))),T},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(T){var A=p;return function(){var $=p;p=A;try{return T.apply(this,arguments)}finally{p=$}}}})(uu);cu.exports=uu;var jf=cu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf=k,Ae=jf;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var du=new Set,hr={};function un(e,t){Ln(e,t),Ln(e+"Capture",t)}function Ln(e,t){for(hr[e]=t,e=0;e<t.length;e++)du.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=Object.prototype.hasOwnProperty,wf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,go={},vo={};function bf(e){return oa.call(vo,e)?!0:oa.call(go,e)?!1:wf.test(e)?vo[e]=!0:(go[e]=!0,!1)}function Sf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kf(e,t,n,r){if(t===null||typeof t>"u"||Sf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,n,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var mi=/[\-:]([a-z])/g;function fi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mi,fi);ge[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mi,fi);ge[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mi,fi);ge[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function pi(e,t,n,r){var l=ge.hasOwnProperty(t)?ge[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kf(t,n,l,r)&&(n=null),r||l===null?bf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jt=Nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zr=Symbol.for("react.element"),xn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),hi=Symbol.for("react.strict_mode"),ca=Symbol.for("react.profiler"),mu=Symbol.for("react.provider"),fu=Symbol.for("react.context"),xi=Symbol.for("react.forward_ref"),ua=Symbol.for("react.suspense"),da=Symbol.for("react.suspense_list"),gi=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),pu=Symbol.for("react.offscreen"),yo=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=yo&&e[yo]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Tl;function nr(e){if(Tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tl=t&&t[1]||""}return`
`+Tl+e}var Ll=!1;function Il(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?nr(e):""}function _f(e){switch(e.tag){case 5:return nr(e.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 2:case 15:return e=Il(e.type,!1),e;case 11:return e=Il(e.type.render,!1),e;case 1:return e=Il(e.type,!0),e;default:return""}}function ma(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gn:return"Fragment";case xn:return"Portal";case ca:return"Profiler";case hi:return"StrictMode";case ua:return"Suspense";case da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fu:return(e.displayName||"Context")+".Consumer";case mu:return(e._context.displayName||"Context")+".Provider";case xi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gi:return t=e.displayName||null,t!==null?t:ma(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return ma(e(t))}catch{}}return null}function Cf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ma(t);case 8:return t===hi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ef(e){var t=hu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=Ef(e))}function xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fa(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gu(e,t){t=t.checked,t!=null&&pi(e,"checked",t,!1)}function pa(e,t){gu(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ha(e,t.type,n):t.hasOwnProperty("defaultValue")&&ha(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function No(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ha(e,t,n){(t!=="number"||zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rr=Array.isArray;function En(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(rr(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function vu(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ga(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pf=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(e){Pf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});function Nu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function wu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Nu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Rf=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(e,t){if(t){if(Rf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function ya(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function vi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,Pn=null,Rn=null;function So(e){if(e=Ur(e)){if(typeof Na!="function")throw Error(F(280));var t=e.stateNode;t&&(t=dl(t),Na(e.stateNode,e.type,t))}}function bu(e){Pn?Rn?Rn.push(e):Rn=[e]:Pn=e}function Su(){if(Pn){var e=Pn,t=Rn;if(Rn=Pn=null,So(e),t)for(e=0;e<t.length;e++)So(t[e])}}function ku(e,t){return e(t)}function _u(){}var Ml=!1;function Cu(e,t,n){if(Ml)return e(t,n);Ml=!0;try{return ku(e,t,n)}finally{Ml=!1,(Pn!==null||Rn!==null)&&(_u(),Su())}}function gr(e,t){var n=e.stateNode;if(n===null)return null;var r=dl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var wa=!1;if(xt)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){wa=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{wa=!1}function Of(e,t,n,r,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ir=!1,Ts=null,Ls=!1,ba=null,zf={onError:function(e){ir=!0,Ts=e}};function Tf(e,t,n,r,l,a,i,o,c){ir=!1,Ts=null,Of.apply(zf,arguments)}function Lf(e,t,n,r,l,a,i,o,c){if(Tf.apply(this,arguments),ir){if(ir){var u=Ts;ir=!1,Ts=null}else throw Error(F(198));Ls||(Ls=!0,ba=u)}}function dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ko(e){if(dn(e)!==e)throw Error(F(188))}function If(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return ko(l),e;if(a===r)return ko(l),t;a=a.sibling}throw Error(F(188))}if(n.return!==r.return)n=l,r=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Pu(e){return e=If(e),e!==null?Ru(e):null}function Ru(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ru(e);if(t!==null)return t;e=e.sibling}return null}var Ou=Ae.unstable_scheduleCallback,_o=Ae.unstable_cancelCallback,Mf=Ae.unstable_shouldYield,Df=Ae.unstable_requestPaint,oe=Ae.unstable_now,Ff=Ae.unstable_getCurrentPriorityLevel,yi=Ae.unstable_ImmediatePriority,zu=Ae.unstable_UserBlockingPriority,Is=Ae.unstable_NormalPriority,Af=Ae.unstable_LowPriority,Tu=Ae.unstable_IdlePriority,il=null,ot=null;function $f(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(il,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Vf,Uf=Math.log,Bf=Math.LN2;function Vf(e){return e>>>=0,e===0?32:31-(Uf(e)/Bf|0)|0}var ns=64,rs=4194304;function sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?r=sr(o):(a&=i,a!==0&&(r=sr(a)))}else i=n&~l,i!==0?r=sr(i):a!==0&&(r=sr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ze(t),l=1<<n,r|=e[n],t&=~l;return r}function Hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ze(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&r)&&(l[i]=Hf(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lu(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function Dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ar(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=n}function qf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ze(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function ji(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ze(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Y=0;function Iu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mu,Ni,Du,Fu,Au,ka=!1,ss=[],Ot=null,zt=null,Tt=null,vr=new Map,yr=new Map,_t=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Co(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(t.pointerId)}}function Kn(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Ur(t),t!==null&&Ni(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Qf(e,t,n,r,l){switch(t){case"focusin":return Ot=Kn(Ot,e,t,n,r,l),!0;case"dragenter":return zt=Kn(zt,e,t,n,r,l),!0;case"mouseover":return Tt=Kn(Tt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return vr.set(a,Kn(vr.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,yr.set(a,Kn(yr.get(a)||null,e,t,n,r,l)),!0}return!1}function $u(e){var t=Qt(e.target);if(t!==null){var n=dn(t);if(n!==null){if(t=n.tag,t===13){if(t=Eu(n),t!==null){e.blockedOn=t,Au(e.priority,function(){Du(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ja=r,n.target.dispatchEvent(r),ja=null}else return t=Ur(n),t!==null&&Ni(t),e.blockedOn=n,!1;t.shift()}return!0}function Eo(e,t,n){ys(e)&&n.delete(t)}function Kf(){ka=!1,Ot!==null&&ys(Ot)&&(Ot=null),zt!==null&&ys(zt)&&(zt=null),Tt!==null&&ys(Tt)&&(Tt=null),vr.forEach(Eo),yr.forEach(Eo)}function Gn(e,t){e.blockedOn===t&&(e.blockedOn=null,ka||(ka=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Kf)))}function jr(e){function t(l){return Gn(l,e)}if(0<ss.length){Gn(ss[0],e);for(var n=1;n<ss.length;n++){var r=ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ot!==null&&Gn(Ot,e),zt!==null&&Gn(zt,e),Tt!==null&&Gn(Tt,e),vr.forEach(t),yr.forEach(t),n=0;n<_t.length;n++)r=_t[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&(n=_t[0],n.blockedOn===null);)$u(n),n.blockedOn===null&&_t.shift()}var On=jt.ReactCurrentBatchConfig,Ds=!0;function Gf(e,t,n,r){var l=Y,a=On.transition;On.transition=null;try{Y=1,wi(e,t,n,r)}finally{Y=l,On.transition=a}}function Xf(e,t,n,r){var l=Y,a=On.transition;On.transition=null;try{Y=4,wi(e,t,n,r)}finally{Y=l,On.transition=a}}function wi(e,t,n,r){if(Ds){var l=_a(e,t,n,r);if(l===null)Jl(e,t,r,Fs,n),Co(e,r);else if(Qf(l,e,t,n,r))r.stopPropagation();else if(Co(e,r),t&4&&-1<Jf.indexOf(e)){for(;l!==null;){var a=Ur(l);if(a!==null&&Mu(a),a=_a(e,t,n,r),a===null&&Jl(e,t,r,Fs,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else Jl(e,t,r,null,n)}}var Fs=null;function _a(e,t,n,r){if(Fs=null,e=vi(r),e=Qt(e),e!==null)if(t=dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Eu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fs=e,null}function Uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ff()){case yi:return 1;case zu:return 4;case Is:case Af:return 16;case Tu:return 536870912;default:return 16}default:return 16}}var Et=null,bi=null,js=null;function Bu(){if(js)return js;var e,t=bi,n=t.length,r,l="value"in Et?Et.value:Et.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[a-r];r++);return js=l.slice(e,1<r?1-r:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Po(){return!1}function Ue(e){function t(n,r,l,a,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ls:Po,this.isPropagationStopped=Po,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ue(Vn),$r=le({},Vn,{view:0,detail:0}),Yf=Ue($r),Fl,Al,Xn,ol=le({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Fl=e.screenX-Xn.screenX,Al=e.screenY-Xn.screenY):Al=Fl=0,Xn=e),Fl)},movementY:function(e){return"movementY"in e?e.movementY:Al}}),Ro=Ue(ol),Zf=le({},ol,{dataTransfer:0}),ep=Ue(Zf),tp=le({},$r,{relatedTarget:0}),$l=Ue(tp),np=le({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),rp=Ue(np),sp=le({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lp=Ue(sp),ap=le({},Vn,{data:0}),Oo=Ue(ap),ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cp[e])?!!t[e]:!1}function ki(){return up}var dp=le({},$r,{key:function(e){if(e.key){var t=ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mp=Ue(dp),fp=le({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=Ue(fp),pp=le({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),hp=Ue(pp),xp=le({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=Ue(xp),vp=le({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yp=Ue(vp),jp=[9,13,27,32],_i=xt&&"CompositionEvent"in window,or=null;xt&&"documentMode"in document&&(or=document.documentMode);var Np=xt&&"TextEvent"in window&&!or,Vu=xt&&(!_i||or&&8<or&&11>=or),To=" ",Lo=!1;function Hu(e,t){switch(e){case"keyup":return jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function wp(e,t){switch(e){case"compositionend":return Wu(t);case"keypress":return t.which!==32?null:(Lo=!0,To);case"textInput":return e=t.data,e===To&&Lo?null:e;default:return null}}function bp(e,t){if(vn)return e==="compositionend"||!_i&&Hu(e,t)?(e=Bu(),js=bi=Et=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vu&&t.locale!=="ko"?null:t.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sp[e.type]:t==="textarea"}function qu(e,t,n,r){bu(r),t=As(t,"onChange"),0<t.length&&(n=new Si("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cr=null,Nr=null;function kp(e){rd(e,0)}function cl(e){var t=Nn(e);if(xu(t))return e}function _p(e,t){if(e==="change")return t}var Ju=!1;if(xt){var Ul;if(xt){var Bl="oninput"in document;if(!Bl){var Mo=document.createElement("div");Mo.setAttribute("oninput","return;"),Bl=typeof Mo.oninput=="function"}Ul=Bl}else Ul=!1;Ju=Ul&&(!document.documentMode||9<document.documentMode)}function Do(){cr&&(cr.detachEvent("onpropertychange",Qu),Nr=cr=null)}function Qu(e){if(e.propertyName==="value"&&cl(Nr)){var t=[];qu(t,Nr,e,vi(e)),Cu(kp,t)}}function Cp(e,t,n){e==="focusin"?(Do(),cr=t,Nr=n,cr.attachEvent("onpropertychange",Qu)):e==="focusout"&&Do()}function Ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Nr)}function Pp(e,t){if(e==="click")return cl(t)}function Rp(e,t){if(e==="input"||e==="change")return cl(t)}function Op(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:Op;function wr(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!oa.call(t,l)||!tt(e[l],t[l]))return!1}return!0}function Fo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ao(e,t){var n=Fo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fo(n)}}function Ku(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ku(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gu(){for(var e=window,t=zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zs(e.document)}return t}function Ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zp(e){var t=Gu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ku(n.ownerDocument.documentElement,n)){if(r!==null&&Ci(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=Ao(n,a);var i=Ao(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tp=xt&&"documentMode"in document&&11>=document.documentMode,yn=null,Ca=null,ur=null,Ea=!1;function $o(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ea||yn==null||yn!==zs(r)||(r=yn,"selectionStart"in r&&Ci(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ur&&wr(ur,r)||(ur=r,r=As(Ca,"onSelect"),0<r.length&&(t=new Si("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yn)))}function as(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jn={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Vl={},Xu={};xt&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function ul(e){if(Vl[e])return Vl[e];if(!jn[e])return e;var t=jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xu)return Vl[e]=t[n];return e}var Yu=ul("animationend"),Zu=ul("animationiteration"),ed=ul("animationstart"),td=ul("transitionend"),nd=new Map,Uo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){nd.set(e,t),un(t,[e])}for(var Hl=0;Hl<Uo.length;Hl++){var Wl=Uo[Hl],Lp=Wl.toLowerCase(),Ip=Wl[0].toUpperCase()+Wl.slice(1);Vt(Lp,"on"+Ip)}Vt(Yu,"onAnimationEnd");Vt(Zu,"onAnimationIteration");Vt(ed,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(td,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(lr));function Bo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lf(r,t,void 0,e),e.currentTarget=null}function rd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;Bo(l,o,u),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;Bo(l,o,u),a=c}}}if(Ls)throw e=ba,Ls=!1,ba=null,e}function ee(e,t){var n=t[Ta];n===void 0&&(n=t[Ta]=new Set);var r=e+"__bubble";n.has(r)||(sd(t,e,2,!1),n.add(r))}function ql(e,t,n){var r=0;t&&(r|=4),sd(n,e,r,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function br(e){if(!e[is]){e[is]=!0,du.forEach(function(n){n!=="selectionchange"&&(Mp.has(n)||ql(n,!1,e),ql(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,ql("selectionchange",!1,t))}}function sd(e,t,n,r){switch(Uu(t)){case 1:var l=Gf;break;case 4:l=Xf;break;default:l=wi}n=l.bind(null,t,n,e),l=void 0,!wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Jl(e,t,n,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Qt(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}Cu(function(){var u=a,d=vi(n),h=[];e:{var p=nd.get(e);if(p!==void 0){var _=Si,w=e;switch(e){case"keypress":if(Ns(n)===0)break e;case"keydown":case"keyup":_=mp;break;case"focusin":w="focus",_=$l;break;case"focusout":w="blur",_=$l;break;case"beforeblur":case"afterblur":_=$l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=hp;break;case Yu:case Zu:case ed:_=rp;break;case td:_=gp;break;case"scroll":_=Yf;break;case"wheel":_=yp;break;case"copy":case"cut":case"paste":_=lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=zo}var v=(t&4)!==0,C=!v&&e==="scroll",f=v?p!==null?p+"Capture":null:p;v=[];for(var m=u,x;m!==null;){x=m;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,f!==null&&(b=gr(m,f),b!=null&&v.push(Sr(m,b,x)))),C)break;m=m.return}0<v.length&&(p=new _(p,w,null,n,d),h.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",p&&n!==ja&&(w=n.relatedTarget||n.fromElement)&&(Qt(w)||w[gt]))break e;if((_||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,_?(w=n.relatedTarget||n.toElement,_=u,w=w?Qt(w):null,w!==null&&(C=dn(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(_=null,w=u),_!==w)){if(v=Ro,b="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=zo,b="onPointerLeave",f="onPointerEnter",m="pointer"),C=_==null?p:Nn(_),x=w==null?p:Nn(w),p=new v(b,m+"leave",_,n,d),p.target=C,p.relatedTarget=x,b=null,Qt(d)===u&&(v=new v(f,m+"enter",w,n,d),v.target=x,v.relatedTarget=C,b=v),C=b,_&&w)t:{for(v=_,f=w,m=0,x=v;x;x=pn(x))m++;for(x=0,b=f;b;b=pn(b))x++;for(;0<m-x;)v=pn(v),m--;for(;0<x-m;)f=pn(f),x--;for(;m--;){if(v===f||f!==null&&v===f.alternate)break t;v=pn(v),f=pn(f)}v=null}else v=null;_!==null&&Vo(h,p,_,v,!1),w!==null&&C!==null&&Vo(h,C,w,v,!0)}}e:{if(p=u?Nn(u):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var E=_p;else if(Io(p))if(Ju)E=Rp;else{E=Ep;var P=Cp}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Pp);if(E&&(E=E(e,u))){qu(h,E,n,d);break e}P&&P(e,p,u),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&ha(p,"number",p.value)}switch(P=u?Nn(u):window,e){case"focusin":(Io(P)||P.contentEditable==="true")&&(yn=P,Ca=u,ur=null);break;case"focusout":ur=Ca=yn=null;break;case"mousedown":Ea=!0;break;case"contextmenu":case"mouseup":case"dragend":Ea=!1,$o(h,n,d);break;case"selectionchange":if(Tp)break;case"keydown":case"keyup":$o(h,n,d)}var S;if(_i)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else vn?Hu(e,n)&&(g="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Vu&&n.locale!=="ko"&&(vn||g!=="onCompositionStart"?g==="onCompositionEnd"&&vn&&(S=Bu()):(Et=d,bi="value"in Et?Et.value:Et.textContent,vn=!0)),P=As(u,g),0<P.length&&(g=new Oo(g,e,null,n,d),h.push({event:g,listeners:P}),S?g.data=S:(S=Wu(n),S!==null&&(g.data=S)))),(S=Np?wp(e,n):bp(e,n))&&(u=As(u,"onBeforeInput"),0<u.length&&(d=new Oo("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}rd(h,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function As(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=gr(e,n),a!=null&&r.unshift(Sr(e,a,l)),a=gr(e,t),a!=null&&r.push(Sr(e,a,l))),e=e.return}return r}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vo(e,t,n,r,l){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,l?(c=gr(n,a),c!=null&&i.unshift(Sr(n,c,o))):l||(c=gr(n,a),c!=null&&i.push(Sr(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Dp=/\r\n?/g,Fp=/\u0000|\uFFFD/g;function Ho(e){return(typeof e=="string"?e:""+e).replace(Dp,`
`).replace(Fp,"")}function os(e,t,n){if(t=Ho(t),Ho(e)!==t&&n)throw Error(F(425))}function $s(){}var Pa=null,Ra=null;function Oa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,Wo=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Wo<"u"?function(e){return Wo.resolve(null).then(e).catch(Up)}:za;function Up(e){setTimeout(function(){throw e})}function Ql(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),jr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);jr(t)}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),at="__reactFiber$"+Hn,kr="__reactProps$"+Hn,gt="__reactContainer$"+Hn,Ta="__reactEvents$"+Hn,Bp="__reactListeners$"+Hn,Vp="__reactHandles$"+Hn;function Qt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qo(e);e!==null;){if(n=e[at])return n;e=qo(e)}return t}e=n,n=e.parentNode}return null}function Ur(e){return e=e[at]||e[gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function dl(e){return e[kr]||null}var La=[],wn=-1;function Ht(e){return{current:e}}function te(e){0>wn||(e.current=La[wn],La[wn]=null,wn--)}function Z(e,t){wn++,La[wn]=e.current,e.current=t}var Bt={},we=Ht(Bt),Oe=Ht(!1),nn=Bt;function In(e,t){var n=e.type.contextTypes;if(!n)return Bt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ze(e){return e=e.childContextTypes,e!=null}function Us(){te(Oe),te(we)}function Jo(e,t,n){if(we.current!==Bt)throw Error(F(168));Z(we,t),Z(Oe,n)}function ld(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(F(108,Cf(e)||"Unknown",l));return le({},n,r)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,nn=we.current,Z(we,e),Z(Oe,Oe.current),!0}function Qo(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=ld(e,t,nn),r.__reactInternalMemoizedMergedChildContext=e,te(Oe),te(we),Z(we,e)):te(Oe),Z(Oe,n)}var dt=null,ml=!1,Kl=!1;function ad(e){dt===null?dt=[e]:dt.push(e)}function Hp(e){ml=!0,ad(e)}function Wt(){if(!Kl&&dt!==null){Kl=!0;var e=0,t=Y;try{var n=dt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dt=null,ml=!1}catch(l){throw dt!==null&&(dt=dt.slice(e+1)),Ou(yi,Wt),l}finally{Y=t,Kl=!1}}return null}var bn=[],Sn=0,Vs=null,Hs=0,Be=[],Ve=0,rn=null,mt=1,ft="";function qt(e,t){bn[Sn++]=Hs,bn[Sn++]=Vs,Vs=e,Hs=t}function id(e,t,n){Be[Ve++]=mt,Be[Ve++]=ft,Be[Ve++]=rn,rn=e;var r=mt;e=ft;var l=32-Ze(r)-1;r&=~(1<<l),n+=1;var a=32-Ze(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,mt=1<<32-Ze(t)+l|n<<l|r,ft=a+e}else mt=1<<a|n<<l|r,ft=e}function Ei(e){e.return!==null&&(qt(e,1),id(e,1,0))}function Pi(e){for(;e===Vs;)Vs=bn[--Sn],bn[Sn]=null,Hs=bn[--Sn],bn[Sn]=null;for(;e===rn;)rn=Be[--Ve],Be[Ve]=null,ft=Be[--Ve],Be[Ve]=null,mt=Be[--Ve],Be[Ve]=null}var Fe=null,De=null,ne=!1,Ye=null;function od(e,t){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ko(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,De=Lt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rn!==null?{id:mt,overflow:ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fe=e,De=null,!0):!1;default:return!1}}function Ia(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ma(e){if(ne){var t=De;if(t){var n=t;if(!Ko(e,t)){if(Ia(e))throw Error(F(418));t=Lt(n.nextSibling);var r=Fe;t&&Ko(e,t)?od(r,n):(e.flags=e.flags&-4097|2,ne=!1,Fe=e)}}else{if(Ia(e))throw Error(F(418));e.flags=e.flags&-4097|2,ne=!1,Fe=e}}}function Go(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function cs(e){if(e!==Fe)return!1;if(!ne)return Go(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oa(e.type,e.memoizedProps)),t&&(t=De)){if(Ia(e))throw cd(),Error(F(418));for(;t;)od(e,t),t=Lt(t.nextSibling)}if(Go(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=Lt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=Fe?Lt(e.stateNode.nextSibling):null;return!0}function cd(){for(var e=De;e;)e=Lt(e.nextSibling)}function Mn(){De=Fe=null,ne=!1}function Ri(e){Ye===null?Ye=[e]:Ye.push(e)}var Wp=jt.ReactCurrentBatchConfig;function Yn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function us(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){var t=e._init;return t(e._payload)}function ud(e){function t(f,m){if(e){var x=f.deletions;x===null?(f.deletions=[m],f.flags|=16):x.push(m)}}function n(f,m){if(!e)return null;for(;m!==null;)t(f,m),m=m.sibling;return null}function r(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function l(f,m){return f=Ft(f,m),f.index=0,f.sibling=null,f}function a(f,m,x){return f.index=x,e?(x=f.alternate,x!==null?(x=x.index,x<m?(f.flags|=2,m):x):(f.flags|=2,m)):(f.flags|=1048576,m)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,m,x,b){return m===null||m.tag!==6?(m=na(x,f.mode,b),m.return=f,m):(m=l(m,x),m.return=f,m)}function c(f,m,x,b){var E=x.type;return E===gn?d(f,m,x.props.children,b,x.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===St&&Xo(E)===m.type)?(b=l(m,x.props),b.ref=Yn(f,m,x),b.return=f,b):(b=Es(x.type,x.key,x.props,null,f.mode,b),b.ref=Yn(f,m,x),b.return=f,b)}function u(f,m,x,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=ra(x,f.mode,b),m.return=f,m):(m=l(m,x.children||[]),m.return=f,m)}function d(f,m,x,b,E){return m===null||m.tag!==7?(m=Zt(x,f.mode,b,E),m.return=f,m):(m=l(m,x),m.return=f,m)}function h(f,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=na(""+m,f.mode,x),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zr:return x=Es(m.type,m.key,m.props,null,f.mode,x),x.ref=Yn(f,null,m),x.return=f,x;case xn:return m=ra(m,f.mode,x),m.return=f,m;case St:var b=m._init;return h(f,b(m._payload),x)}if(rr(m)||Jn(m))return m=Zt(m,f.mode,x,null),m.return=f,m;us(f,m)}return null}function p(f,m,x,b){var E=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:o(f,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zr:return x.key===E?c(f,m,x,b):null;case xn:return x.key===E?u(f,m,x,b):null;case St:return E=x._init,p(f,m,E(x._payload),b)}if(rr(x)||Jn(x))return E!==null?null:d(f,m,x,b,null);us(f,x)}return null}function _(f,m,x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return f=f.get(x)||null,o(m,f,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zr:return f=f.get(b.key===null?x:b.key)||null,c(m,f,b,E);case xn:return f=f.get(b.key===null?x:b.key)||null,u(m,f,b,E);case St:var P=b._init;return _(f,m,x,P(b._payload),E)}if(rr(b)||Jn(b))return f=f.get(x)||null,d(m,f,b,E,null);us(m,b)}return null}function w(f,m,x,b){for(var E=null,P=null,S=m,g=m=0,O=null;S!==null&&g<x.length;g++){S.index>g?(O=S,S=null):O=S.sibling;var L=p(f,S,x[g],b);if(L===null){S===null&&(S=O);break}e&&S&&L.alternate===null&&t(f,S),m=a(L,m,g),P===null?E=L:P.sibling=L,P=L,S=O}if(g===x.length)return n(f,S),ne&&qt(f,g),E;if(S===null){for(;g<x.length;g++)S=h(f,x[g],b),S!==null&&(m=a(S,m,g),P===null?E=S:P.sibling=S,P=S);return ne&&qt(f,g),E}for(S=r(f,S);g<x.length;g++)O=_(S,f,g,x[g],b),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?g:O.key),m=a(O,m,g),P===null?E=O:P.sibling=O,P=O);return e&&S.forEach(function(N){return t(f,N)}),ne&&qt(f,g),E}function v(f,m,x,b){var E=Jn(x);if(typeof E!="function")throw Error(F(150));if(x=E.call(x),x==null)throw Error(F(151));for(var P=E=null,S=m,g=m=0,O=null,L=x.next();S!==null&&!L.done;g++,L=x.next()){S.index>g?(O=S,S=null):O=S.sibling;var N=p(f,S,L.value,b);if(N===null){S===null&&(S=O);break}e&&S&&N.alternate===null&&t(f,S),m=a(N,m,g),P===null?E=N:P.sibling=N,P=N,S=O}if(L.done)return n(f,S),ne&&qt(f,g),E;if(S===null){for(;!L.done;g++,L=x.next())L=h(f,L.value,b),L!==null&&(m=a(L,m,g),P===null?E=L:P.sibling=L,P=L);return ne&&qt(f,g),E}for(S=r(f,S);!L.done;g++,L=x.next())L=_(S,f,g,L.value,b),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?g:L.key),m=a(L,m,g),P===null?E=L:P.sibling=L,P=L);return e&&S.forEach(function(j){return t(f,j)}),ne&&qt(f,g),E}function C(f,m,x,b){if(typeof x=="object"&&x!==null&&x.type===gn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zr:e:{for(var E=x.key,P=m;P!==null;){if(P.key===E){if(E=x.type,E===gn){if(P.tag===7){n(f,P.sibling),m=l(P,x.props.children),m.return=f,f=m;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===St&&Xo(E)===P.type){n(f,P.sibling),m=l(P,x.props),m.ref=Yn(f,P,x),m.return=f,f=m;break e}n(f,P);break}else t(f,P);P=P.sibling}x.type===gn?(m=Zt(x.props.children,f.mode,b,x.key),m.return=f,f=m):(b=Es(x.type,x.key,x.props,null,f.mode,b),b.ref=Yn(f,m,x),b.return=f,f=b)}return i(f);case xn:e:{for(P=x.key;m!==null;){if(m.key===P)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(f,m.sibling),m=l(m,x.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else t(f,m);m=m.sibling}m=ra(x,f.mode,b),m.return=f,f=m}return i(f);case St:return P=x._init,C(f,m,P(x._payload),b)}if(rr(x))return w(f,m,x,b);if(Jn(x))return v(f,m,x,b);us(f,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(f,m.sibling),m=l(m,x),m.return=f,f=m):(n(f,m),m=na(x,f.mode,b),m.return=f,f=m),i(f)):n(f,m)}return C}var Dn=ud(!0),dd=ud(!1),Ws=Ht(null),qs=null,kn=null,Oi=null;function zi(){Oi=kn=qs=null}function Ti(e){var t=Ws.current;te(Ws),e._currentValue=t}function Da(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){qs=e,Oi=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(Oi!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(qs===null)throw Error(F(308));kn=e,qs.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var Kt=null;function Li(e){Kt===null?Kt=[e]:Kt.push(e)}function md(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Li(t)):(n.next=l.next,l.next=n),t.interleaved=n,vt(e,r)}function vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kt=!1;function Ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,vt(e,n)}return l=r.interleaved,l===null?(t.next=t,Li(r)):(t.next=l.next,l.next=t),r.interleaved=t,vt(e,n)}function ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ji(e,n)}}function Yo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,r){var l=e.updateQueue;kt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=l.baseState;i=0,d=u=c=null,o=a;do{var p=o.lane,_=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:_,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,v=o;switch(p=t,_=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(_,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(_,h,p):w,p==null)break e;h=le({},h,p);break e;case 2:kt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[o]:p.push(o))}else _={eventTime:_,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=_,c=h):d=d.next=_,i|=p;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;p=o,o=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(d===null&&(c=h),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=d,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);ln|=i,e.lanes=i,e.memoizedState=h}}function Zo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(F(191,l));l.call(r)}}}var Br={},ct=Ht(Br),_r=Ht(Br),Cr=Ht(Br);function Gt(e){if(e===Br)throw Error(F(174));return e}function Mi(e,t){switch(Z(Cr,t),Z(_r,e),Z(ct,Br),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ga(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ga(t,e)}te(ct),Z(ct,t)}function Fn(){te(ct),te(_r),te(Cr)}function pd(e){Gt(Cr.current);var t=Gt(ct.current),n=ga(t,e.type);t!==n&&(Z(_r,e),Z(ct,n))}function Di(e){_r.current===e&&(te(ct),te(_r))}var re=Ht(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Fi(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var bs=jt.ReactCurrentDispatcher,Xl=jt.ReactCurrentBatchConfig,sn=0,se=null,de=null,fe=null,Ks=!1,dr=!1,Er=0,qp=0;function ve(){throw Error(F(321))}function Ai(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tt(e[n],t[n]))return!1;return!0}function $i(e,t,n,r,l,a){if(sn=a,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bs.current=e===null||e.memoizedState===null?Gp:Xp,e=n(r,l),dr){a=0;do{if(dr=!1,Er=0,25<=a)throw Error(F(301));a+=1,fe=de=null,t.updateQueue=null,bs.current=Yp,e=n(r,l)}while(dr)}if(bs.current=Gs,t=de!==null&&de.next!==null,sn=0,fe=de=se=null,Ks=!1,t)throw Error(F(300));return e}function Ui(){var e=Er!==0;return Er=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?se.memoizedState=fe=e:fe=fe.next=e,fe}function Qe(){if(de===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=fe===null?se.memoizedState:fe.next;if(t!==null)fe=t,de=e;else{if(e===null)throw Error(F(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},fe===null?se.memoizedState=fe=e:fe=fe.next=e}return fe}function Pr(e,t){return typeof t=="function"?t(e):t}function Yl(e){var t=Qe(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=de,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var o=i=null,c=null,u=a;do{var d=u.lane;if((sn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,i=r):c=c.next=h,se.lanes|=d,ln|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=o,tt(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,se.lanes|=a,ln|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zl(e){var t=Qe(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);tt(a,t.memoizedState)||(Pe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function hd(){}function xd(e,t){var n=se,r=Qe(),l=t(),a=!tt(r.memoizedState,l);if(a&&(r.memoizedState=l,Pe=!0),r=r.queue,Bi(yd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,Rr(9,vd.bind(null,n,r,l,t),void 0,null),pe===null)throw Error(F(349));sn&30||gd(n,t,l)}return l}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vd(e,t,n,r){t.value=n,t.getSnapshot=r,jd(t)&&Nd(e)}function yd(e,t,n){return n(function(){jd(t)&&Nd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tt(e,n)}catch{return!0}}function Nd(e){var t=vt(e,1);t!==null&&et(t,e,1,-1)}function ec(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:e},t.queue=e,e=e.dispatch=Kp.bind(null,se,e),[t.memoizedState,e]}function Rr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wd(){return Qe().memoizedState}function Ss(e,t,n,r){var l=lt();se.flags|=e,l.memoizedState=Rr(1|t,n,void 0,r===void 0?null:r)}function fl(e,t,n,r){var l=Qe();r=r===void 0?null:r;var a=void 0;if(de!==null){var i=de.memoizedState;if(a=i.destroy,r!==null&&Ai(r,i.deps)){l.memoizedState=Rr(t,n,a,r);return}}se.flags|=e,l.memoizedState=Rr(1|t,n,a,r)}function tc(e,t){return Ss(8390656,8,e,t)}function Bi(e,t){return fl(2048,8,e,t)}function bd(e,t){return fl(4,2,e,t)}function Sd(e,t){return fl(4,4,e,t)}function kd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _d(e,t,n){return n=n!=null?n.concat([e]):null,fl(4,4,kd.bind(null,t,e),n)}function Vi(){}function Cd(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ai(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ed(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ai(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pd(e,t,n){return sn&21?(tt(n,t)||(n=Lu(),se.lanes|=n,ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function Jp(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Xl.transition;Xl.transition={};try{e(!1),t()}finally{Y=n,Xl.transition=r}}function Rd(){return Qe().memoizedState}function Qp(e,t,n){var r=Dt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Od(e))zd(t,n);else if(n=md(e,t,n,r),n!==null){var l=ke();et(n,e,r,l),Td(n,t,r)}}function Kp(e,t,n){var r=Dt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Od(e))zd(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,tt(o,i)){var c=t.interleaved;c===null?(l.next=l,Li(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=md(e,t,l,r),n!==null&&(l=ke(),et(n,e,r,l),Td(n,t,r))}}function Od(e){var t=e.alternate;return e===se||t!==null&&t===se}function zd(e,t){dr=Ks=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Td(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ji(e,n)}}var Gs={readContext:Je,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Gp={readContext:Je,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:tc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ss(4194308,4,kd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qp.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:ec,useDebugValue:Vi,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=ec(!1),t=e[0];return e=Jp.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,l=lt();if(ne){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),pe===null)throw Error(F(349));sn&30||gd(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,tc(yd.bind(null,r,a,e),[e]),r.flags|=2048,Rr(9,vd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=lt(),t=pe.identifierPrefix;if(ne){var n=ft,r=mt;n=(r&~(1<<32-Ze(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Er++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xp={readContext:Je,useCallback:Cd,useContext:Je,useEffect:Bi,useImperativeHandle:_d,useInsertionEffect:bd,useLayoutEffect:Sd,useMemo:Ed,useReducer:Yl,useRef:wd,useState:function(){return Yl(Pr)},useDebugValue:Vi,useDeferredValue:function(e){var t=Qe();return Pd(t,de.memoizedState,e)},useTransition:function(){var e=Yl(Pr)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:hd,useSyncExternalStore:xd,useId:Rd,unstable_isNewReconciler:!1},Yp={readContext:Je,useCallback:Cd,useContext:Je,useEffect:Bi,useImperativeHandle:_d,useInsertionEffect:bd,useLayoutEffect:Sd,useMemo:Ed,useReducer:Zl,useRef:wd,useState:function(){return Zl(Pr)},useDebugValue:Vi,useDeferredValue:function(e){var t=Qe();return de===null?t.memoizedState=e:Pd(t,de.memoizedState,e)},useTransition:function(){var e=Zl(Pr)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:hd,useSyncExternalStore:xd,useId:Rd,unstable_isNewReconciler:!1};function Ge(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pl={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ke(),l=Dt(e),a=ht(r,l);a.payload=t,n!=null&&(a.callback=n),t=It(e,a,l),t!==null&&(et(t,e,l,r),ws(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ke(),l=Dt(e),a=ht(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=It(e,a,l),t!==null&&(et(t,e,l,r),ws(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),r=Dt(e),l=ht(n,r);l.tag=2,t!=null&&(l.callback=t),t=It(e,l,r),t!==null&&(et(t,e,r,n),ws(t,e,r))}};function nc(e,t,n,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!wr(n,r)||!wr(l,a):!0}function Ld(e,t,n){var r=!1,l=Bt,a=t.contextType;return typeof a=="object"&&a!==null?a=Je(a):(l=ze(t)?nn:we.current,r=t.contextTypes,a=(r=r!=null)?In(e,l):Bt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function rc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function Aa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ii(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=Je(a):(a=ze(t)?nn:we.current,l.context=In(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fa(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&pl.enqueueReplaceState(l,l.state,null),Js(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function An(e,t){try{var n="",r=t;do n+=_f(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function ea(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $a(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zp=typeof WeakMap=="function"?WeakMap:Map;function Id(e,t,n){n=ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Ga=r),$a(e,t)},n}function Md(e,t,n){n=ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){$a(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){$a(e,t),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function sc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zp;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=fh.bind(null,e,t,n),t.then(e,e))}function lc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ac(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ht(-1,1),t.tag=2,It(n,t,1))),n.lanes|=1),e)}var eh=jt.ReactCurrentOwner,Pe=!1;function Se(e,t,n,r){t.child=e===null?dd(t,null,n,r):Dn(t,e.child,n,r)}function ic(e,t,n,r,l){n=n.render;var a=t.ref;return zn(t,l),r=$i(e,t,n,r,a,l),n=Ui(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,yt(e,t,l)):(ne&&n&&Ei(t),t.flags|=1,Se(e,t,r,l),t.child)}function oc(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!Xi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Dd(e,t,a,r,l)):(e=Es(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:wr,n(i,r)&&e.ref===t.ref)return yt(e,t,l)}return t.flags|=1,e=Ft(a,r),e.ref=t.ref,e.return=t,t.child=e}function Dd(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(wr(a,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,yt(e,t,l)}return Ua(e,t,n,r,l)}function Fd(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Cn,Me),Me|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Cn,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Z(Cn,Me),Me|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Z(Cn,Me),Me|=r;return Se(e,t,l,n),t.child}function Ad(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ua(e,t,n,r,l){var a=ze(n)?nn:we.current;return a=In(t,a),zn(t,l),n=$i(e,t,n,r,a,l),r=Ui(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,yt(e,t,l)):(ne&&r&&Ei(t),t.flags|=1,Se(e,t,n,l),t.child)}function cc(e,t,n,r,l){if(ze(n)){var a=!0;Bs(t)}else a=!1;if(zn(t,l),t.stateNode===null)ks(e,t),Ld(t,n,r),Aa(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=ze(n)?nn:we.current,u=In(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&rc(t,i,r,u),kt=!1;var p=t.memoizedState;i.state=p,Js(t,r,i,l),c=t.memoizedState,o!==r||p!==c||Oe.current||kt?(typeof d=="function"&&(Fa(t,n,d,r),c=t.memoizedState),(o=kt||nc(t,n,o,r,p,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,fd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ge(t.type,o),i.props=u,h=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Je(c):(c=ze(n)?nn:we.current,c=In(t,c));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||p!==c)&&rc(t,i,r,c),kt=!1,p=t.memoizedState,i.state=p,Js(t,r,i,l);var w=t.memoizedState;o!==h||p!==w||Oe.current||kt?(typeof _=="function"&&(Fa(t,n,_,r),w=t.memoizedState),(u=kt||nc(t,n,u,r,p,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ba(e,t,n,r,a,l)}function Ba(e,t,n,r,l,a){Ad(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Qo(t,n,!1),yt(e,t,a);r=t.stateNode,eh.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Dn(t,e.child,null,a),t.child=Dn(t,null,o,a)):Se(e,t,o,a),t.memoizedState=r.state,l&&Qo(t,n,!0),t.child}function $d(e){var t=e.stateNode;t.pendingContext?Jo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jo(e,t.context,!1),Mi(e,t.containerInfo)}function uc(e,t,n,r,l){return Mn(),Ri(l),t.flags|=256,Se(e,t,n,r),t.child}var Va={dehydrated:null,treeContext:null,retryLane:0};function Ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ud(e,t,n){var r=t.pendingProps,l=re.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Z(re,l&1),e===null)return Ma(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=gl(i,r,0,null),e=Zt(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ha(n),t.memoizedState=Va,e):Hi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return th(e,t,i,r,o,l,n);if(a){a=r.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ft(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Ft(o,a):(a=Zt(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Ha(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Va,r}return a=e.child,e=a.sibling,r=Ft(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hi(e,t){return t=gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&Ri(r),Dn(t,e.child,null,n),e=Hi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function th(e,t,n,r,l,a,i){if(n)return t.flags&256?(t.flags&=-257,r=ea(Error(F(422))),ds(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=gl({mode:"visible",children:r.children},l,0,null),a=Zt(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Dn(t,e.child,null,i),t.child.memoizedState=Ha(i),t.memoizedState=Va,a);if(!(t.mode&1))return ds(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(F(419)),r=ea(a,r,void 0),ds(e,t,i,r)}if(o=(i&e.childLanes)!==0,Pe||o){if(r=pe,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,vt(e,l),et(r,e,l,-1))}return Gi(),r=ea(Error(F(421))),ds(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=ph.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,De=Lt(l.nextSibling),Fe=t,ne=!0,Ye=null,e!==null&&(Be[Ve++]=mt,Be[Ve++]=ft,Be[Ve++]=rn,mt=e.id,ft=e.overflow,rn=t),t=Hi(t,r.children),t.flags|=4096,t)}function dc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Da(e.return,t,n)}function ta(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function Bd(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Se(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dc(e,n,t);else if(e.tag===19)dc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(re,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Qs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ta(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Qs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ta(t,!0,n,null,a);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nh(e,t,n){switch(t.tag){case 3:$d(t),Mn();break;case 5:pd(t);break;case 1:ze(t.type)&&Bs(t);break;case 4:Mi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Z(Ws,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Ud(e,t,n):(Z(re,re.current&1),e=yt(e,t,n),e!==null?e.sibling:null);Z(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Z(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,Fd(e,t,n)}return yt(e,t,n)}var Vd,Wa,Hd,Wd;Vd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wa=function(){};Hd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Gt(ct.current);var a=null;switch(n){case"input":l=fa(e,l),r=fa(e,r),a=[];break;case"select":l=le({},l,{value:void 0}),r=le({},r,{value:void 0}),a=[];break;case"textarea":l=xa(e,l),r=xa(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$s)}va(n,r);var i;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ee("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Wd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rh(e,t,n){var r=t.pendingProps;switch(Pi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return ze(t.type)&&Us(),ye(t),null;case 3:return r=t.stateNode,Fn(),te(Oe),te(we),Fi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(Za(Ye),Ye=null))),Wa(e,t),ye(t),null;case 5:Di(t);var l=Gt(Cr.current);if(n=t.type,e!==null&&t.stateNode!=null)Hd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return ye(t),null}if(e=Gt(ct.current),cs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[at]=t,r[kr]=a,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(l=0;l<lr.length;l++)ee(lr[l],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":jo(r,a),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ee("invalid",r);break;case"textarea":wo(r,a),ee("invalid",r)}va(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&os(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&os(r.textContent,o,e),l=["children",""+o]):hr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ee("scroll",r)}switch(n){case"input":es(r),No(r,a,!0);break;case"textarea":es(r),bo(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=$s)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[at]=t,e[kr]=r,Vd(e,t,!1,!1),t.stateNode=e;e:{switch(i=ya(n,r),n){case"dialog":ee("cancel",e),ee("close",e),l=r;break;case"iframe":case"object":case"embed":ee("load",e),l=r;break;case"video":case"audio":for(l=0;l<lr.length;l++)ee(lr[l],e);l=r;break;case"source":ee("error",e),l=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),l=r;break;case"details":ee("toggle",e),l=r;break;case"input":jo(e,r),l=fa(e,r),ee("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=le({},r,{value:void 0}),ee("invalid",e);break;case"textarea":wo(e,r),l=xa(e,r),ee("invalid",e);break;default:l=r}va(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?wu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ju(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xr(e,c):typeof c=="number"&&xr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ee("scroll",e):c!=null&&pi(e,a,c,i))}switch(n){case"input":es(e),No(e,r,!1);break;case"textarea":es(e),bo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?En(e,!!r.multiple,a,!1):r.defaultValue!=null&&En(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=$s)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)Wd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Gt(Cr.current),Gt(ct.current),cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(a=r.nodeValue!==n)&&(e=Fe,e!==null))switch(e.tag){case 3:os(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return ye(t),null;case 13:if(te(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&De!==null&&t.mode&1&&!(t.flags&128))cd(),Mn(),t.flags|=98560,a=!1;else if(a=cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(F(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[at]=t}else Mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),a=!1}else Ye!==null&&(Za(Ye),Ye=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?me===0&&(me=3):Gi())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Fn(),Wa(e,t),e===null&&br(t.stateNode.containerInfo),ye(t),null;case 10:return Ti(t.type._context),ye(t),null;case 17:return ze(t.type)&&Us(),ye(t),null;case 19:if(te(re),a=t.memoizedState,a===null)return ye(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Zn(a,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Qs(e),i!==null){for(t.flags|=128,Zn(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(re,re.current&1|2),t.child}e=e.sibling}a.tail!==null&&oe()>$n&&(t.flags|=128,r=!0,Zn(a,!1),t.lanes=4194304)}else{if(!r)if(e=Qs(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ne)return ye(t),null}else 2*oe()-a.renderingStartTime>$n&&n!==1073741824&&(t.flags|=128,r=!0,Zn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=oe(),t.sibling=null,n=re.current,Z(re,r?n&1|2:n&1),t):(ye(t),null);case 22:case 23:return Ki(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Me&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function sh(e,t){switch(Pi(t),t.tag){case 1:return ze(t.type)&&Us(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),te(Oe),te(we),Fi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Di(t),null;case 13:if(te(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(re),null;case 4:return Fn(),null;case 10:return Ti(t.type._context),null;case 22:case 23:return Ki(),null;case 24:return null;default:return null}}var ms=!1,je=!1,lh=typeof WeakSet=="function"?WeakSet:Set,V=null;function _n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function qa(e,t,n){try{n()}catch(r){ie(e,t,r)}}var mc=!1;function ah(e,t){if(Pa=Ds,e=Gu(),Ci(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var _;h!==n||l!==0&&h.nodeType!==3||(o=i+l),h!==a||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(_=h.firstChild)!==null;)p=h,h=_;for(;;){if(h===e)break t;if(p===n&&++u===l&&(o=i),p===a&&++d===r&&(c=i),(_=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=_}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ra={focusedElem:e,selectionRange:n},Ds=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,C=w.memoizedState,f=t.stateNode,m=f.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ge(t.type,v),C);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){ie(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return w=mc,mc=!1,w}function mr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&qa(t,n,a)}l=l.next}while(l!==r)}}function hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ja(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qd(e){var t=e.alternate;t!==null&&(e.alternate=null,qd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[kr],delete t[Ta],delete t[Bp],delete t[Vp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jd(e){return e.tag===5||e.tag===3||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$s));else if(r!==4&&(e=e.child,e!==null))for(Qa(e,t,n),e=e.sibling;e!==null;)Qa(e,t,n),e=e.sibling}function Ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ka(e,t,n),e=e.sibling;e!==null;)Ka(e,t,n),e=e.sibling}var he=null,Xe=!1;function bt(e,t,n){for(n=n.child;n!==null;)Qd(e,t,n),n=n.sibling}function Qd(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 5:je||_n(n,t);case 6:var r=he,l=Xe;he=null,bt(e,t,n),he=r,Xe=l,he!==null&&(Xe?(e=he,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Xe?(e=he,n=n.stateNode,e.nodeType===8?Ql(e.parentNode,n):e.nodeType===1&&Ql(e,n),jr(e)):Ql(he,n.stateNode));break;case 4:r=he,l=Xe,he=n.stateNode.containerInfo,Xe=!0,bt(e,t,n),he=r,Xe=l;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&qa(n,t,i),l=l.next}while(l!==r)}bt(e,t,n);break;case 1:if(!je&&(_n(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ie(n,t,o)}bt(e,t,n);break;case 21:bt(e,t,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,bt(e,t,n),je=r):bt(e,t,n);break;default:bt(e,t,n)}}function pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lh),t.forEach(function(r){var l=hh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ke(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:he=o.stateNode,Xe=!1;break e;case 3:he=o.stateNode.containerInfo,Xe=!0;break e;case 4:he=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(he===null)throw Error(F(160));Qd(a,i,l),he=null,Xe=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){ie(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kd(t,e),t=t.sibling}function Kd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),rt(e),r&4){try{mr(3,e,e.return),hl(3,e)}catch(v){ie(e,e.return,v)}try{mr(5,e,e.return)}catch(v){ie(e,e.return,v)}}break;case 1:Ke(t,e),rt(e),r&512&&n!==null&&_n(n,n.return);break;case 5:if(Ke(t,e),rt(e),r&512&&n!==null&&_n(n,n.return),e.flags&32){var l=e.stateNode;try{xr(l,"")}catch(v){ie(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&gu(l,a),ya(o,i);var u=ya(o,a);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?wu(l,h):d==="dangerouslySetInnerHTML"?ju(l,h):d==="children"?xr(l,h):pi(l,d,h,u)}switch(o){case"input":pa(l,a);break;case"textarea":vu(l,a);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var _=a.value;_!=null?En(l,!!a.multiple,_,!1):p!==!!a.multiple&&(a.defaultValue!=null?En(l,!!a.multiple,a.defaultValue,!0):En(l,!!a.multiple,a.multiple?[]:"",!1))}l[kr]=a}catch(v){ie(e,e.return,v)}}break;case 6:if(Ke(t,e),rt(e),r&4){if(e.stateNode===null)throw Error(F(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(v){ie(e,e.return,v)}}break;case 3:if(Ke(t,e),rt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jr(t.containerInfo)}catch(v){ie(e,e.return,v)}break;case 4:Ke(t,e),rt(e);break;case 13:Ke(t,e),rt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Ji=oe())),r&4&&pc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(je=(u=je)||d,Ke(t,e),je=u):Ke(t,e),rt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(h=V=d;V!==null;){switch(p=V,_=p.child,p.tag){case 0:case 11:case 14:case 15:mr(4,p,p.return);break;case 1:_n(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){ie(r,n,v)}}break;case 5:_n(p,p.return);break;case 22:if(p.memoizedState!==null){xc(h);continue}}_!==null?(_.return=p,V=_):xc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{l=h.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Nu("display",i))}catch(v){ie(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ie(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(t,e),rt(e),r&4&&pc(e);break;case 21:break;default:Ke(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jd(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(xr(l,""),r.flags&=-33);var a=fc(e);Ka(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,o=fc(e);Qa(e,o,i);break;default:throw Error(F(161))}}catch(c){ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ih(e,t,n){V=e,Gd(e)}function Gd(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var l=V,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||ms;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||je;o=ms;var u=je;if(ms=i,(je=c)&&!u)for(V=l;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?gc(l):c!==null?(c.return=i,V=c):gc(l);for(;a!==null;)V=a,Gd(a),a=a.sibling;V=l,ms=o,je=u}hc(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,V=a):hc(e)}}function hc(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!je)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ge(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Zo(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zo(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&jr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}je||t.flags&512&&Ja(t)}catch(p){ie(t,t.return,p)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function xc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function gc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(c){ie(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){ie(t,l,c)}}var a=t.return;try{Ja(t)}catch(c){ie(t,a,c)}break;case 5:var i=t.return;try{Ja(t)}catch(c){ie(t,i,c)}}}catch(c){ie(t,t.return,c)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var oh=Math.ceil,Xs=jt.ReactCurrentDispatcher,Wi=jt.ReactCurrentOwner,We=jt.ReactCurrentBatchConfig,X=0,pe=null,ce=null,xe=0,Me=0,Cn=Ht(0),me=0,Or=null,ln=0,xl=0,qi=0,fr=null,Ee=null,Ji=0,$n=1/0,ut=null,Ys=!1,Ga=null,Mt=null,fs=!1,Pt=null,Zs=0,pr=0,Xa=null,_s=-1,Cs=0;function ke(){return X&6?oe():_s!==-1?_s:_s=oe()}function Dt(e){return e.mode&1?X&2&&xe!==0?xe&-xe:Wp.transition!==null?(Cs===0&&(Cs=Lu()),Cs):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Uu(e.type)),e):1}function et(e,t,n,r){if(50<pr)throw pr=0,Xa=null,Error(F(185));Ar(e,n,r),(!(X&2)||e!==pe)&&(e===pe&&(!(X&2)&&(xl|=n),me===4&&Ct(e,xe)),Te(e,r),n===1&&X===0&&!(t.mode&1)&&($n=oe()+500,ml&&Wt()))}function Te(e,t){var n=e.callbackNode;Wf(e,t);var r=Ms(e,e===pe?xe:0);if(r===0)n!==null&&_o(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_o(n),t===1)e.tag===0?Hp(vc.bind(null,e)):ad(vc.bind(null,e)),$p(function(){!(X&6)&&Wt()}),n=null;else{switch(Iu(r)){case 1:n=yi;break;case 4:n=zu;break;case 16:n=Is;break;case 536870912:n=Tu;break;default:n=Is}n=sm(n,Xd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xd(e,t){if(_s=-1,Cs=0,X&6)throw Error(F(327));var n=e.callbackNode;if(Tn()&&e.callbackNode!==n)return null;var r=Ms(e,e===pe?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=el(e,r);else{t=r;var l=X;X|=2;var a=Zd();(pe!==e||xe!==t)&&(ut=null,$n=oe()+500,Yt(e,t));do try{dh();break}catch(o){Yd(e,o)}while(!0);zi(),Xs.current=a,X=l,ce!==null?t=0:(pe=null,xe=0,t=me)}if(t!==0){if(t===2&&(l=Sa(e),l!==0&&(r=l,t=Ya(e,l))),t===1)throw n=Or,Yt(e,0),Ct(e,r),Te(e,oe()),n;if(t===6)Ct(e,r);else{if(l=e.current.alternate,!(r&30)&&!ch(l)&&(t=el(e,r),t===2&&(a=Sa(e),a!==0&&(r=a,t=Ya(e,a))),t===1))throw n=Or,Yt(e,0),Ct(e,r),Te(e,oe()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Jt(e,Ee,ut);break;case 3:if(Ct(e,r),(r&130023424)===r&&(t=Ji+500-oe(),10<t)){if(Ms(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ke(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=za(Jt.bind(null,e,Ee,ut),t);break}Jt(e,Ee,ut);break;case 4:if(Ct(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Ze(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oh(r/1960))-r,10<r){e.timeoutHandle=za(Jt.bind(null,e,Ee,ut),r);break}Jt(e,Ee,ut);break;case 5:Jt(e,Ee,ut);break;default:throw Error(F(329))}}}return Te(e,oe()),e.callbackNode===n?Xd.bind(null,e):null}function Ya(e,t){var n=fr;return e.current.memoizedState.isDehydrated&&(Yt(e,t).flags|=256),e=el(e,t),e!==2&&(t=Ee,Ee=n,t!==null&&Za(t)),e}function Za(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function ch(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!tt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ct(e,t){for(t&=~qi,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ze(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(X&6)throw Error(F(327));Tn();var t=Ms(e,0);if(!(t&1))return Te(e,oe()),null;var n=el(e,t);if(e.tag!==0&&n===2){var r=Sa(e);r!==0&&(t=r,n=Ya(e,r))}if(n===1)throw n=Or,Yt(e,0),Ct(e,t),Te(e,oe()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jt(e,Ee,ut),Te(e,oe()),null}function Qi(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&($n=oe()+500,ml&&Wt())}}function an(e){Pt!==null&&Pt.tag===0&&!(X&6)&&Tn();var t=X;X|=1;var n=We.transition,r=Y;try{if(We.transition=null,Y=1,e)return e()}finally{Y=r,We.transition=n,X=t,!(X&6)&&Wt()}}function Ki(){Me=Cn.current,te(Cn)}function Yt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ap(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(Pi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Us();break;case 3:Fn(),te(Oe),te(we),Fi();break;case 5:Di(r);break;case 4:Fn();break;case 13:te(re);break;case 19:te(re);break;case 10:Ti(r.type._context);break;case 22:case 23:Ki()}n=n.return}if(pe=e,ce=e=Ft(e.current,null),xe=Me=t,me=0,Or=null,qi=xl=ln=0,Ee=fr=null,Kt!==null){for(t=0;t<Kt.length;t++)if(n=Kt[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}n.pending=r}Kt=null}return e}function Yd(e,t){do{var n=ce;try{if(zi(),bs.current=Gs,Ks){for(var r=se.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ks=!1}if(sn=0,fe=de=se=null,dr=!1,Er=0,Wi.current=null,n===null||n.return===null){me=1,Or=t,ce=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=lc(i);if(_!==null){_.flags&=-257,ac(_,i,o,a,t),_.mode&1&&sc(a,u,t),t=_,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){sc(a,u,t),Gi();break e}c=Error(F(426))}}else if(ne&&o.mode&1){var C=lc(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ac(C,i,o,a,t),Ri(An(c,o));break e}}a=c=An(c,o),me!==4&&(me=2),fr===null?fr=[a]:fr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=Id(a,c,t);Yo(a,f);break e;case 1:o=c;var m=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Mt===null||!Mt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Md(a,o,t);Yo(a,b);break e}}a=a.return}while(a!==null)}tm(n)}catch(E){t=E,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Zd(){var e=Xs.current;return Xs.current=Gs,e===null?Gs:e}function Gi(){(me===0||me===3||me===2)&&(me=4),pe===null||!(ln&268435455)&&!(xl&268435455)||Ct(pe,xe)}function el(e,t){var n=X;X|=2;var r=Zd();(pe!==e||xe!==t)&&(ut=null,Yt(e,t));do try{uh();break}catch(l){Yd(e,l)}while(!0);if(zi(),X=n,Xs.current=r,ce!==null)throw Error(F(261));return pe=null,xe=0,me}function uh(){for(;ce!==null;)em(ce)}function dh(){for(;ce!==null&&!Mf();)em(ce)}function em(e){var t=rm(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?tm(e):ce=t,Wi.current=null}function tm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sh(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,ce=null;return}}else if(n=rh(n,t,Me),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);me===0&&(me=5)}function Jt(e,t,n){var r=Y,l=We.transition;try{We.transition=null,Y=1,mh(e,t,n,r)}finally{We.transition=l,Y=r}return null}function mh(e,t,n,r){do Tn();while(Pt!==null);if(X&6)throw Error(F(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(qf(e,a),e===pe&&(ce=pe=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fs||(fs=!0,sm(Is,function(){return Tn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=We.transition,We.transition=null;var i=Y;Y=1;var o=X;X|=4,Wi.current=null,ah(e,n),Kd(n,e),zp(Ra),Ds=!!Pa,Ra=Pa=null,e.current=n,ih(n),Df(),X=o,Y=i,We.transition=a}else e.current=n;if(fs&&(fs=!1,Pt=e,Zs=l),a=e.pendingLanes,a===0&&(Mt=null),$f(n.stateNode),Te(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ys)throw Ys=!1,e=Ga,Ga=null,e;return Zs&1&&e.tag!==0&&Tn(),a=e.pendingLanes,a&1?e===Xa?pr++:(pr=0,Xa=e):pr=0,Wt(),null}function Tn(){if(Pt!==null){var e=Iu(Zs),t=We.transition,n=Y;try{if(We.transition=null,Y=16>e?16:e,Pt===null)var r=!1;else{if(e=Pt,Pt=null,Zs=0,X&6)throw Error(F(331));var l=X;for(X|=4,V=e.current;V!==null;){var a=V,i=a.child;if(V.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:mr(8,d,a)}var h=d.child;if(h!==null)h.return=d,V=h;else for(;V!==null;){d=V;var p=d.sibling,_=d.return;if(qd(d),d===u){V=null;break}if(p!==null){p.return=_,V=p;break}V=_}}}var w=a.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}V=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,V=i;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:mr(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,V=f;break e}V=a.return}}var m=e.current;for(V=m;V!==null;){i=V;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,V=x;else e:for(i=m;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hl(9,o)}}catch(E){ie(o,o.return,E)}if(o===i){V=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,V=b;break e}V=o.return}}if(X=l,Wt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(il,e)}catch{}r=!0}return r}finally{Y=n,We.transition=t}}return!1}function yc(e,t,n){t=An(n,t),t=Id(e,t,1),e=It(e,t,1),t=ke(),e!==null&&(Ar(e,1,t),Te(e,t))}function ie(e,t,n){if(e.tag===3)yc(e,e,n);else for(;t!==null;){if(t.tag===3){yc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){e=An(n,e),e=Md(t,e,1),t=It(t,e,1),e=ke(),t!==null&&(Ar(t,1,e),Te(t,e));break}}t=t.return}}function fh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(xe&n)===n&&(me===4||me===3&&(xe&130023424)===xe&&500>oe()-Ji?Yt(e,0):qi|=n),Te(e,t)}function nm(e,t){t===0&&(e.mode&1?(t=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):t=1);var n=ke();e=vt(e,t),e!==null&&(Ar(e,t,n),Te(e,n))}function ph(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),nm(e,n)}function hh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),nm(e,n)}var rm;rm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,nh(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,ne&&t.flags&1048576&&id(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ks(e,t),e=t.pendingProps;var l=In(t,we.current);zn(t,n),l=$i(null,t,r,e,l,n);var a=Ui();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(a=!0,Bs(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ii(t),l.updater=pl,t.stateNode=l,l._reactInternals=t,Aa(t,r,e,n),t=Ba(null,t,r,!0,a,n)):(t.tag=0,ne&&a&&Ei(t),Se(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ks(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=gh(r),e=Ge(r,e),l){case 0:t=Ua(null,t,r,e,n);break e;case 1:t=cc(null,t,r,e,n);break e;case 11:t=ic(null,t,r,e,n);break e;case 14:t=oc(null,t,r,Ge(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ge(r,l),Ua(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ge(r,l),cc(e,t,r,l,n);case 3:e:{if($d(t),e===null)throw Error(F(387));r=t.pendingProps,a=t.memoizedState,l=a.element,fd(e,t),Js(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=An(Error(F(423)),t),t=uc(e,t,r,n,l);break e}else if(r!==l){l=An(Error(F(424)),t),t=uc(e,t,r,n,l);break e}else for(De=Lt(t.stateNode.containerInfo.firstChild),Fe=t,ne=!0,Ye=null,n=dd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),r===l){t=yt(e,t,n);break e}Se(e,t,r,n)}t=t.child}return t;case 5:return pd(t),e===null&&Ma(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,Oa(r,l)?i=null:a!==null&&Oa(r,a)&&(t.flags|=32),Ad(e,t),Se(e,t,i,n),t.child;case 6:return e===null&&Ma(t),null;case 13:return Ud(e,t,n);case 4:return Mi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dn(t,null,r,n):Se(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ge(r,l),ic(e,t,r,l,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,Z(Ws,r._currentValue),r._currentValue=i,a!==null)if(tt(a.value,i)){if(a.children===l.children&&!Oe.current){t=yt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ht(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Da(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(F(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Da(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Se(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,zn(t,n),l=Je(l),r=r(l),t.flags|=1,Se(e,t,r,n),t.child;case 14:return r=t.type,l=Ge(r,t.pendingProps),l=Ge(r.type,l),oc(e,t,r,l,n);case 15:return Dd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ge(r,l),ks(e,t),t.tag=1,ze(r)?(e=!0,Bs(t)):e=!1,zn(t,n),Ld(t,r,l),Aa(t,r,l,n),Ba(null,t,r,!0,e,n);case 19:return Bd(e,t,n);case 22:return Fd(e,t,n)}throw Error(F(156,t.tag))};function sm(e,t){return Ou(e,t)}function xh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,n,r){return new xh(e,t,n,r)}function Xi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gh(e){if(typeof e=="function")return Xi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xi)return 11;if(e===gi)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=He(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Es(e,t,n,r,l,a){var i=2;if(r=e,typeof e=="function")Xi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case gn:return Zt(n.children,l,a,t);case hi:i=8,l|=8;break;case ca:return e=He(12,n,t,l|2),e.elementType=ca,e.lanes=a,e;case ua:return e=He(13,n,t,l),e.elementType=ua,e.lanes=a,e;case da:return e=He(19,n,t,l),e.elementType=da,e.lanes=a,e;case pu:return gl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mu:i=10;break e;case fu:i=9;break e;case xi:i=11;break e;case gi:i=14;break e;case St:i=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=He(i,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function Zt(e,t,n,r){return e=He(7,e,r,t),e.lanes=n,e}function gl(e,t,n,r){return e=He(22,e,r,t),e.elementType=pu,e.lanes=n,e.stateNode={isHidden:!1},e}function na(e,t,n){return e=He(6,e,null,t),e.lanes=n,e}function ra(e,t,n){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Yi(e,t,n,r,l,a,i,o,c){return e=new vh(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=He(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(a),e}function yh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lm(e){if(!e)return Bt;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(ze(n))return ld(e,n,t)}return t}function am(e,t,n,r,l,a,i,o,c){return e=Yi(n,r,!0,e,l,a,i,o,c),e.context=lm(null),n=e.current,r=ke(),l=Dt(n),a=ht(r,l),a.callback=t??null,It(n,a,l),e.current.lanes=l,Ar(e,l,r),Te(e,r),e}function vl(e,t,n,r){var l=t.current,a=ke(),i=Dt(l);return n=lm(n),t.context===null?t.context=n:t.pendingContext=n,t=ht(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=It(l,t,i),e!==null&&(et(e,l,i,a),ws(e,l,i)),i}function tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zi(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}function jh(){return null}var im=typeof reportError=="function"?reportError:function(e){console.error(e)};function eo(e){this._internalRoot=e}yl.prototype.render=eo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));vl(e,t,null,null)};yl.prototype.unmount=eo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){vl(null,e,null,null)}),t[gt]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&t!==0&&t<_t[n].priority;n++);_t.splice(n,0,e),n===0&&$u(e)}};function to(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function Nh(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var u=tl(i);a.call(u)}}var i=am(t,r,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=i,e[gt]=i.current,br(e.nodeType===8?e.parentNode:e),an(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var u=tl(c);o.call(u)}}var c=Yi(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=c,e[gt]=c.current,br(e.nodeType===8?e.parentNode:e),an(function(){vl(t,c,n,r)}),c}function Nl(e,t,n,r,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=tl(i);o.call(c)}}vl(t,i,e,l)}else i=Nh(n,t,e,l,r);return tl(i)}Mu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sr(t.pendingLanes);n!==0&&(ji(t,n|1),Te(t,oe()),!(X&6)&&($n=oe()+500,Wt()))}break;case 13:an(function(){var r=vt(e,1);if(r!==null){var l=ke();et(r,e,1,l)}}),Zi(e,1)}};Ni=function(e){if(e.tag===13){var t=vt(e,134217728);if(t!==null){var n=ke();et(t,e,134217728,n)}Zi(e,134217728)}};Du=function(e){if(e.tag===13){var t=Dt(e),n=vt(e,t);if(n!==null){var r=ke();et(n,e,t,r)}Zi(e,t)}};Fu=function(){return Y};Au=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Na=function(e,t,n){switch(t){case"input":if(pa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=dl(r);if(!l)throw Error(F(90));xu(r),pa(r,l)}}}break;case"textarea":vu(e,n);break;case"select":t=n.value,t!=null&&En(e,!!n.multiple,t,!1)}};ku=Qi;_u=an;var wh={usingClientEntryPoint:!1,Events:[Ur,Nn,dl,bu,Su,Qi]},er={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bh={bundleType:er.bundleType,version:er.version,rendererPackageName:er.rendererPackageName,rendererConfig:er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pu(e),e===null?null:e.stateNode},findFiberByHostInstance:er.findFiberByHostInstance||jh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{il=ps.inject(bh),ot=ps}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wh;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!to(t))throw Error(F(200));return yh(e,t,null,n)};$e.createRoot=function(e,t){if(!to(e))throw Error(F(299));var n=!1,r="",l=im;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Yi(e,1,!1,null,null,n,!1,r,l),e[gt]=t.current,br(e.nodeType===8?e.parentNode:e),new eo(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Pu(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return an(e)};$e.hydrate=function(e,t,n){if(!jl(t))throw Error(F(200));return Nl(null,e,t,!0,n)};$e.hydrateRoot=function(e,t,n){if(!to(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",i=im;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=am(t,null,e,1,n??null,l,!1,a,i),e[gt]=t.current,br(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new yl(t)};$e.render=function(e,t,n){if(!jl(t))throw Error(F(200));return Nl(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!jl(e))throw Error(F(40));return e._reactRootContainer?(an(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[gt]=null})}),!0):!1};$e.unstable_batchedUpdates=Qi;$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Nl(e,t,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(om)}catch(e){console.error(e)}}om(),ou.exports=$e;var Sh=ou.exports,cm,wc=Sh;cm=wc.createRoot,wc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zr.apply(this,arguments)}var Rt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rt||(Rt={}));const bc="popstate";function kh(e){e===void 0&&(e={});function t(l,a){let{pathname:i="/",search:o="",hash:c=""}=mn(l.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),ei("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(l,a){let i=l.document.querySelector("base"),o="";if(i&&i.getAttribute("href")){let c=l.location.href,u=c.indexOf("#");o=u===-1?c:c.slice(0,u)}return o+"#"+(typeof a=="string"?a:um(a))}function r(l,a){no(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Ch(t,n,r,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function no(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _h(){return Math.random().toString(36).substr(2,8)}function Sc(e,t){return{usr:e.state,key:e.key,idx:t}}function ei(e,t,n,r){return n===void 0&&(n=null),zr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mn(t):t,{state:n,key:t&&t.key||r||_h()})}function um(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ch(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,i=l.history,o=Rt.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(zr({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){o=Rt.Pop;let C=d(),f=C==null?null:C-u;u=C,c&&c({action:o,location:v.location,delta:f})}function p(C,f){o=Rt.Push;let m=ei(v.location,C,f);n&&n(m,C),u=d()+1;let x=Sc(m,u),b=v.createHref(m);try{i.pushState(x,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;l.location.assign(b)}a&&c&&c({action:o,location:v.location,delta:1})}function _(C,f){o=Rt.Replace;let m=ei(v.location,C,f);n&&n(m,C),u=d();let x=Sc(m,u),b=v.createHref(m);i.replaceState(x,"",b),a&&c&&c({action:o,location:v.location,delta:0})}function w(C){let f=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof C=="string"?C:um(C);return m=m.replace(/ $/,"%20"),ue(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let v={get action(){return o},get location(){return e(l,i)},listen(C){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(bc,h),c=C,()=>{l.removeEventListener(bc,h),c=null}},createHref(C){return t(l,C)},createURL:w,encodeLocation(C){let f=w(C);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:_,go(C){return i.go(C)}};return v}var kc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kc||(kc={}));function Eh(e,t,n){return n===void 0&&(n="/"),Ph(e,t,n)}function Ph(e,t,n,r){let l=typeof t=="string"?mn(t):t,a=fm(l.pathname||"/",n);if(a==null)return null;let i=dm(e);Rh(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=Bh(a);o=Ah(i[c],u)}return o}function dm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ue(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=en([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dm(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Dh(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of mm(a.path))l(a,i,c)}),t}function mm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let i=mm(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Rh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Fh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Oh=/^:[\w-]+$/,zh=3,Th=2,Lh=1,Ih=10,Mh=-2,_c=e=>e==="*";function Dh(e,t){let n=e.split("/"),r=n.length;return n.some(_c)&&(r+=Mh),t&&(r+=Th),n.filter(l=>!_c(l)).reduce((l,a)=>l+(Oh.test(a)?zh:a===""?Lh:Ih),r)}function Fh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Ah(e,t,n){let{routesMeta:r}=e,l={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=$h({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(l,h.params),i.push({params:l,pathname:en([a,h.pathname]),pathnameBase:qh(en([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=en([a,h.pathnameBase]))}return i}function $h(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Uh(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:_}=d;if(p==="*"){let v=o[h]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[h];return _&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Uh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),no(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Bh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return no(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Vh(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?mn(e):e;return{pathname:n?n.startsWith("/")?n:Hh(n,t):t,search:Jh(r),hash:Qh(l)}}function Hh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function sa(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pm(e,t){let n=Wh(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hm(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=mn(e):(l=zr({},e),ue(!l.pathname||!l.pathname.includes("?"),sa("?","pathname","search",l)),ue(!l.pathname||!l.pathname.includes("#"),sa("#","pathname","hash",l)),ue(!l.search||!l.search.includes("#"),sa("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;l.pathname=p.join("/")}o=h>=0?t[h]:"/"}let c=Vh(l,o),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const en=e=>e.join("/").replace(/\/\/+/g,"/"),qh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Qh=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xm=["post","put","patch","delete"];new Set(xm);const Gh=["get",...xm];new Set(Gh);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(this,arguments)}const ro=k.createContext(null),Xh=k.createContext(null),Vr=k.createContext(null),wl=k.createContext(null),fn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),gm=k.createContext(null);function Hr(){return k.useContext(wl)!=null}function so(){return Hr()||ue(!1),k.useContext(wl).location}function vm(e){k.useContext(Vr).static||k.useLayoutEffect(e)}function Yh(){let{isDataRoute:e}=k.useContext(fn);return e?dx():Zh()}function Zh(){Hr()||ue(!1);let e=k.useContext(ro),{basename:t,future:n,navigator:r}=k.useContext(Vr),{matches:l}=k.useContext(fn),{pathname:a}=so(),i=JSON.stringify(pm(l,n.v7_relativeSplatPath)),o=k.useRef(!1);return vm(()=>{o.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=hm(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:en([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,a,e])}function ex(e,t){return tx(e,t)}function tx(e,t,n,r){Hr()||ue(!1);let{navigator:l}=k.useContext(Vr),{matches:a}=k.useContext(fn),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=so(),d;if(t){var h;let C=typeof t=="string"?mn(t):t;c==="/"||(h=C.pathname)!=null&&h.startsWith(c)||ue(!1),d=C}else d=u;let p=d.pathname||"/",_=p;if(c!=="/"){let C=c.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=Eh(e,{pathname:_}),v=ax(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:en([c,l.encodeLocation?l.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:en([c,l.encodeLocation?l.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return t&&v?k.createElement(wl.Provider,{value:{location:Tr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rt.Pop}},v):v}function nx(){let e=ux(),t=Kh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:l},n):null,null)}const rx=k.createElement(nx,null);class sx extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(fn.Provider,{value:this.props.routeContext},k.createElement(gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lx(e){let{routeContext:t,match:n,children:r}=e,l=k.useContext(ro);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(fn.Provider,{value:t},r)}function ax(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ue(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:_}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!_||_[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,p)=>{let _,w=!1,v=null,C=null;n&&(_=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||rx,c&&(u<0&&p===0?(mx("route-fallback"),w=!0,C=null):u===p&&(w=!0,C=h.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,p+1)),m=()=>{let x;return _?x=v:w?x=C:h.route.Component?x=k.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,k.createElement(lx,{match:h,routeContext:{outlet:d,matches:f,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?k.createElement(sx,{location:n.location,revalidation:n.revalidation,component:v,error:_,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var ym=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ym||{}),jm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jm||{});function ix(e){let t=k.useContext(ro);return t||ue(!1),t}function ox(e){let t=k.useContext(Xh);return t||ue(!1),t}function cx(e){let t=k.useContext(fn);return t||ue(!1),t}function Nm(e){let t=cx(),n=t.matches[t.matches.length-1];return n.route.id||ue(!1),n.route.id}function ux(){var e;let t=k.useContext(gm),n=ox(),r=Nm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function dx(){let{router:e}=ix(ym.UseNavigateStable),t=Nm(jm.UseNavigateStable),n=k.useRef(!1);return vm(()=>{n.current=!0}),k.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Tr({fromRouteId:t},a)))},[e,t])}const Cc={};function mx(e,t,n){Cc[e]||(Cc[e]=!0)}function fx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hs(e){let{to:t,replace:n,state:r,relative:l}=e;Hr()||ue(!1);let{future:a,static:i}=k.useContext(Vr),{matches:o}=k.useContext(fn),{pathname:c}=so(),u=Yh(),d=hm(t,pm(o,a.v7_relativeSplatPath),c,l==="path"),h=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:l}),[u,h,l,n,r]),null}function hn(e){ue(!1)}function px(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Rt.Pop,navigator:a,static:i=!1,future:o}=e;Hr()&&ue(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:a,static:i,future:Tr({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=mn(r));let{pathname:d="/",search:h="",hash:p="",state:_=null,key:w="default"}=r,v=k.useMemo(()=>{let C=fm(d,c);return C==null?null:{location:{pathname:C,search:h,hash:p,state:_,key:w},navigationType:l}},[c,d,h,p,_,w,l]);return v==null?null:k.createElement(Vr.Provider,{value:u},k.createElement(wl.Provider,{children:n,value:v}))}function hx(e){let{children:t,location:n}=e;return ex(ti(t),n)}new Promise(()=>{});function ti(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,l)=>{if(!k.isValidElement(r))return;let a=[...t,l];if(r.type===k.Fragment){n.push.apply(n,ti(r.props.children,a));return}r.type!==hn&&ue(!1),!r.props.index||!r.props.children||ue(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ti(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xx="6";try{window.__reactRouterVersion=xx}catch{}const gx="startTransition",Ec=yf[gx];function vx(e){let{basename:t,children:n,future:r,window:l}=e,a=k.useRef();a.current==null&&(a.current=kh({window:l,v5Compat:!0}));let i=a.current,[o,c]=k.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=k.useCallback(h=>{u&&Ec?Ec(()=>c(h)):c(h)},[c,u]);return k.useLayoutEffect(()=>i.listen(d),[i,d]),k.useEffect(()=>fx(r),[r]),k.createElement(px,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}var Pc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pc||(Pc={}));var Rc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rc||(Rc={}));var wm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Oc=pt.createContext&&pt.createContext(wm),yx=["attr","size","title"];function jx(e,t){if(e==null)return{};var n=Nx(e,t),r,l;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)r=a[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nx(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nl.apply(this,arguments)}function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zc(Object(n),!0).forEach(function(r){wx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wx(e,t,n){return t=bx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bx(e){var t=Sx(e,"string");return typeof t=="symbol"?t:t+""}function Sx(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bm(e){return e&&e.map((t,n)=>pt.createElement(t.tag,rl({key:n},t.attr),bm(t.child)))}function G(e){return t=>pt.createElement(kx,nl({attr:rl({},e.attr)},t),bm(e.child))}function kx(e){var t=n=>{var{attr:r,size:l,title:a}=e,i=jx(e,yx),o=l||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),pt.createElement("svg",nl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:c,style:rl(rl({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&pt.createElement("title",null,a),e.children)};return Oc!==void 0?pt.createElement(Oc.Consumer,null,n=>t(n)):t(wm)}function bl(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function on(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function it(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function Sm(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function _x(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Tc(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Cx(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Lc(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function At(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Ex(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function Px(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function Rx(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function lo(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Sl(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function $t(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function Lr(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function Ox(e){return G({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function zx(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Tx(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function sl(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Lx(e){return G({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M635.7 167.2L556.1 31.7c-8.8-15-28.3-20.1-43.5-11.5l-69 39.1L503.3 161c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L416 75l-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L333.2 122 278 153.3 337.8 255c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-59.7-101.7-55.2 31.3 27.9 47.4c2.2 3.8.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9l-27.9-47.5-55.2 31.3 59.7 101.7c2.2 3.7.9 8.5-2.9 10.7l-13.8 7.8c-3.8 2.2-8.7.9-10.9-2.9L84.9 262.9l-69 39.1C.7 310.7-4.6 329.8 4.2 344.8l79.6 135.6c8.8 15 28.3 20.1 43.5 11.5L624.1 210c15.2-8.6 20.4-27.8 11.6-42.8z"},child:[]}]})(e)}function Ix(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Wr(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Re(e){return G({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function Mx(e){return G({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"},child:[]}]})(e)}function Dx(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"},child:[]}]})(e)}function Fx(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160zm400 128H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"},child:[]}]})(e)}function Ax(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(e)}function qr(e){return G({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Un(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function $x(e){return G({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function km(e){return G({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(e)}function Ux(e){return G({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function qe(e){return G({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function xs(e){return G({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function _m(e,t){return function(){return e.apply(t,arguments)}}const{toString:Bx}=Object.prototype,{getPrototypeOf:ao}=Object,{iterator:kl,toStringTag:Cm}=Symbol,_l=(e=>t=>{const n=Bx.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nt=e=>(e=e.toLowerCase(),t=>_l(t)===e),Cl=e=>t=>typeof t===e,{isArray:Wn}=Array,Ir=Cl("undefined");function Jr(e){return e!==null&&!Ir(e)&&e.constructor!==null&&!Ir(e.constructor)&&Le(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Em=nt("ArrayBuffer");function Vx(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Em(e.buffer),t}const Hx=Cl("string"),Le=Cl("function"),Pm=Cl("number"),Qr=e=>e!==null&&typeof e=="object",Wx=e=>e===!0||e===!1,Ps=e=>{if(_l(e)!=="object")return!1;const t=ao(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cm in e)&&!(kl in e)},qx=e=>{if(!Qr(e)||Jr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Jx=nt("Date"),Qx=nt("File"),Kx=nt("Blob"),Gx=nt("FileList"),Xx=e=>Qr(e)&&Le(e.pipe),Yx=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Le(e.append)&&((t=_l(e))==="formdata"||t==="object"&&Le(e.toString)&&e.toString()==="[object FormData]"))},Zx=nt("URLSearchParams"),[eg,tg,ng,rg]=["ReadableStream","Request","Response","Headers"].map(nt),sg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,l;if(typeof e!="object"&&(e=[e]),Wn(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{if(Jr(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(r=0;r<i;r++)o=a[r],t.call(null,e[o],o,e)}}function Rm(e,t){if(Jr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const Xt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Om=e=>!Ir(e)&&e!==Xt;function ni(){const{caseless:e}=Om(this)&&this||{},t={},n=(r,l)=>{const a=e&&Rm(t,l)||l;Ps(t[a])&&Ps(r)?t[a]=ni(t[a],r):Ps(r)?t[a]=ni({},r):Wn(r)?t[a]=r.slice():t[a]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&Kr(arguments[r],n);return t}const lg=(e,t,n,{allOwnKeys:r}={})=>(Kr(t,(l,a)=>{n&&Le(l)?e[a]=_m(l,n):e[a]=l},{allOwnKeys:r}),e),ag=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ig=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},og=(e,t,n,r)=>{let l,a,i;const o={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),a=l.length;a-- >0;)i=l[a],(!r||r(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&ao(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},cg=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ug=e=>{if(!e)return null;if(Wn(e))return e;let t=e.length;if(!Pm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},dg=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ao(Uint8Array)),mg=(e,t)=>{const r=(e&&e[kl]).call(e);let l;for(;(l=r.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},fg=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},pg=nt("HTMLFormElement"),hg=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),Ic=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xg=nt("RegExp"),zm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Kr(n,(l,a)=>{let i;(i=t(l,a,e))!==!1&&(r[a]=i||l)}),Object.defineProperties(e,r)},gg=e=>{zm(e,(t,n)=>{if(Le(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Le(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vg=(e,t)=>{const n={},r=l=>{l.forEach(a=>{n[a]=!0})};return Wn(e)?r(e):r(String(e).split(t)),n},yg=()=>{},jg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ng(e){return!!(e&&Le(e.append)&&e[Cm]==="FormData"&&e[kl])}const wg=e=>{const t=new Array(10),n=(r,l)=>{if(Qr(r)){if(t.indexOf(r)>=0)return;if(Jr(r))return r;if(!("toJSON"in r)){t[l]=r;const a=Wn(r)?[]:{};return Kr(r,(i,o)=>{const c=n(i,l+1);!Ir(c)&&(a[o]=c)}),t[l]=void 0,a}}return r};return n(e,0)},bg=nt("AsyncFunction"),Sg=e=>e&&(Qr(e)||Le(e))&&Le(e.then)&&Le(e.catch),Tm=((e,t)=>e?setImmediate:t?((n,r)=>(Xt.addEventListener("message",({source:l,data:a})=>{l===Xt&&a===n&&r.length&&r.shift()()},!1),l=>{r.push(l),Xt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Le(Xt.postMessage)),kg=typeof queueMicrotask<"u"?queueMicrotask.bind(Xt):typeof process<"u"&&process.nextTick||Tm,_g=e=>e!=null&&Le(e[kl]),z={isArray:Wn,isArrayBuffer:Em,isBuffer:Jr,isFormData:Yx,isArrayBufferView:Vx,isString:Hx,isNumber:Pm,isBoolean:Wx,isObject:Qr,isPlainObject:Ps,isEmptyObject:qx,isReadableStream:eg,isRequest:tg,isResponse:ng,isHeaders:rg,isUndefined:Ir,isDate:Jx,isFile:Qx,isBlob:Kx,isRegExp:xg,isFunction:Le,isStream:Xx,isURLSearchParams:Zx,isTypedArray:dg,isFileList:Gx,forEach:Kr,merge:ni,extend:lg,trim:sg,stripBOM:ag,inherits:ig,toFlatObject:og,kindOf:_l,kindOfTest:nt,endsWith:cg,toArray:ug,forEachEntry:mg,matchAll:fg,isHTMLForm:pg,hasOwnProperty:Ic,hasOwnProp:Ic,reduceDescriptors:zm,freezeMethods:gg,toObjectSet:vg,toCamelCase:hg,noop:yg,toFiniteNumber:jg,findKey:Rm,global:Xt,isContextDefined:Om,isSpecCompliantForm:Ng,toJSONObject:wg,isAsyncFn:bg,isThenable:Sg,setImmediate:Tm,asap:kg,isIterable:_g};function q(e,t,n,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}z.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const Lm=q.prototype,Im={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Im[e]={value:e}});Object.defineProperties(q,Im);Object.defineProperty(Lm,"isAxiosError",{value:!0});q.from=(e,t,n,r,l,a)=>{const i=Object.create(Lm);return z.toFlatObject(e,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),q.call(i,e.message,t,n,r,l),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Cg=null;function ri(e){return z.isPlainObject(e)||z.isArray(e)}function Mm(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function Mc(e,t,n){return e?e.concat(t).map(function(l,a){return l=Mm(l),!n&&a?"["+l+"]":l}).join(n?".":""):t}function Eg(e){return z.isArray(e)&&!e.some(ri)}const Pg=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function El(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,C){return!z.isUndefined(C[v])});const r=n.metaTokens,l=n.visitor||d,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(l))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(z.isDate(w))return w.toISOString();if(z.isBoolean(w))return w.toString();if(!c&&z.isBlob(w))throw new q("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(w)||z.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,v,C){let f=w;if(w&&!C&&typeof w=="object"){if(z.endsWith(v,"{}"))v=r?v:v.slice(0,-2),w=JSON.stringify(w);else if(z.isArray(w)&&Eg(w)||(z.isFileList(w)||z.endsWith(v,"[]"))&&(f=z.toArray(w)))return v=Mm(v),f.forEach(function(x,b){!(z.isUndefined(x)||x===null)&&t.append(i===!0?Mc([v],b,a):i===null?v:v+"[]",u(x))}),!1}return ri(w)?!0:(t.append(Mc(C,v,a),u(w)),!1)}const h=[],p=Object.assign(Pg,{defaultVisitor:d,convertValue:u,isVisitable:ri});function _(w,v){if(!z.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(w),z.forEach(w,function(f,m){(!(z.isUndefined(f)||f===null)&&l.call(t,f,z.isString(m)?m.trim():m,v,p))===!0&&_(f,v?v.concat(m):[m])}),h.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Dc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function io(e,t){this._pairs=[],e&&El(e,this,t)}const Dm=io.prototype;Dm.append=function(t,n){this._pairs.push([t,n])};Dm.toString=function(t){const n=t?function(r){return t.call(this,r,Dc)}:Dc;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function Rg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fm(e,t,n){if(!t)return e;const r=n&&n.encode||Rg;z.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let a;if(l?a=l(t,n):a=z.isURLSearchParams(t)?t.toString():new io(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Fc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Am={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Og=typeof URLSearchParams<"u"?URLSearchParams:io,zg=typeof FormData<"u"?FormData:null,Tg=typeof Blob<"u"?Blob:null,Lg={isBrowser:!0,classes:{URLSearchParams:Og,FormData:zg,Blob:Tg},protocols:["http","https","file","blob","url","data"]},oo=typeof window<"u"&&typeof document<"u",si=typeof navigator=="object"&&navigator||void 0,Ig=oo&&(!si||["ReactNative","NativeScript","NS"].indexOf(si.product)<0),Mg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dg=oo&&window.location.href||"http://localhost",Fg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oo,hasStandardBrowserEnv:Ig,hasStandardBrowserWebWorkerEnv:Mg,navigator:si,origin:Dg},Symbol.toStringTag,{value:"Module"})),Ne={...Fg,...Lg};function Ag(e,t){return El(e,new Ne.classes.URLSearchParams,{visitor:function(n,r,l,a){return Ne.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function $g(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ug(e){const t={},n=Object.keys(e);let r;const l=n.length;let a;for(r=0;r<l;r++)a=n[r],t[a]=e[a];return t}function $m(e){function t(n,r,l,a){let i=n[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=a>=n.length;return i=!i&&z.isArray(l)?l.length:i,c?(z.hasOwnProp(l,i)?l[i]=[l[i],r]:l[i]=r,!o):((!l[i]||!z.isObject(l[i]))&&(l[i]=[]),t(n,r,l[i],a)&&z.isArray(l[i])&&(l[i]=Ug(l[i])),!o)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(r,l)=>{t($g(r),l,n,0)}),n}return null}function Bg(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Gr={transitional:Am,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,a=z.isObject(t);if(a&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return l?JSON.stringify($m(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ag(t,this.formSerializer).toString();if((o=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return El(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||l?(n.setContentType("application/json",!1),Bg(t)):t}],transformResponse:[function(t){const n=this.transitional||Gr.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||l)){const i=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?q.from(o,q.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ne.classes.FormData,Blob:Ne.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Gr.headers[e]={}});const Vg=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hg=e=>{const t={};let n,r,l;return e&&e.split(`
`).forEach(function(i){l=i.indexOf(":"),n=i.substring(0,l).trim().toLowerCase(),r=i.substring(l+1).trim(),!(!n||t[n]&&Vg[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ac=Symbol("internals");function tr(e){return e&&String(e).trim().toLowerCase()}function Rs(e){return e===!1||e==null?e:z.isArray(e)?e.map(Rs):String(e)}function Wg(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const qg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function la(e,t,n,r,l){if(z.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!z.isString(t)){if(z.isString(r))return t.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(t)}}function Jg(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Qg(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,a,i){return this[r].call(this,t,l,a,i)},configurable:!0})})}let Ie=class{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function a(o,c,u){const d=tr(c);if(!d)throw new Error("header name must be a non-empty string");const h=z.findKey(l,d);(!h||l[h]===void 0||u===!0||u===void 0&&l[h]!==!1)&&(l[h||c]=Rs(o))}const i=(o,c)=>z.forEach(o,(u,d)=>a(u,d,c));if(z.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(z.isString(t)&&(t=t.trim())&&!qg(t))i(Hg(t),n);else if(z.isObject(t)&&z.isIterable(t)){let o={},c,u;for(const d of t){if(!z.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?z.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(o,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=tr(t),t){const r=z.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return Wg(l);if(z.isFunction(n))return n.call(this,l,r);if(z.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=tr(t),t){const r=z.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||la(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function a(i){if(i=tr(i),i){const o=z.findKey(r,i);o&&(!n||la(r,r[o],o,n))&&(delete r[o],l=!0)}}return z.isArray(t)?t.forEach(a):a(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const a=n[r];(!t||la(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){const n=this,r={};return z.forEach(this,(l,a)=>{const i=z.findKey(r,a);if(i){n[i]=Rs(l),delete n[a];return}const o=t?Jg(a):String(a).trim();o!==a&&delete n[a],n[o]=Rs(l),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[Ac]=this[Ac]={accessors:{}}).accessors,l=this.prototype;function a(i){const o=tr(i);r[o]||(Qg(l,i),r[o]=!0)}return z.isArray(t)?t.forEach(a):a(t),this}};Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Ie.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});z.freezeMethods(Ie);function aa(e,t){const n=this||Gr,r=t||n,l=Ie.from(r.headers);let a=r.data;return z.forEach(e,function(o){a=o.call(n,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function Um(e){return!!(e&&e.__CANCEL__)}function qn(e,t,n){q.call(this,e??"canceled",q.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(qn,q,{__CANCEL__:!0});function Bm(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Kg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gg(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];i||(i=u),n[l]=c,r[l]=u;let h=a,p=0;for(;h!==l;)p+=n[h++],h=h%e;if(l=(l+1)%e,l===a&&(a=(a+1)%e),u-i<t)return;const _=d&&u-d;return _?Math.round(p*1e3/_):void 0}}function Xg(e,t){let n=0,r=1e3/t,l,a;const i=(u,d=Date.now())=>{n=d,l=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?i(u,d):(l=u,a||(a=setTimeout(()=>{a=null,i(l)},r-h)))},()=>l&&i(l)]}const ll=(e,t,n=3)=>{let r=0;const l=Gg(50,250);return Xg(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-r,u=l(c),d=i<=o;r=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-i)/u:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},n)},$c=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Uc=e=>(...t)=>z.asap(()=>e(...t)),Yg=Ne.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ne.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ne.origin),Ne.navigator&&/(msie|trident)/i.test(Ne.navigator.userAgent)):()=>!0,Zg=Ne.hasStandardBrowserEnv?{write(e,t,n,r,l,a){const i=[e+"="+encodeURIComponent(t)];z.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),z.isString(r)&&i.push("path="+r),z.isString(l)&&i.push("domain="+l),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function e0(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function t0(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vm(e,t,n){let r=!e0(t);return e&&(r||n==!1)?t0(e,t):t}const Bc=e=>e instanceof Ie?{...e}:e;function cn(e,t){t=t||{};const n={};function r(u,d,h,p){return z.isPlainObject(u)&&z.isPlainObject(d)?z.merge.call({caseless:p},u,d):z.isPlainObject(d)?z.merge({},d):z.isArray(d)?d.slice():d}function l(u,d,h,p){if(z.isUndefined(d)){if(!z.isUndefined(u))return r(void 0,u,h,p)}else return r(u,d,h,p)}function a(u,d){if(!z.isUndefined(d))return r(void 0,d)}function i(u,d){if(z.isUndefined(d)){if(!z.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,d,h)=>l(Bc(u),Bc(d),h,!0)};return z.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||l,p=h(e[d],t[d],d);z.isUndefined(p)&&h!==o||(n[d]=p)}),n}const Hm=e=>{const t=cn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:a,headers:i,auth:o}=t;t.headers=i=Ie.from(i),t.url=Fm(Vm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(z.isFormData(n)){if(Ne.hasStandardBrowserEnv||Ne.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ne.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(t)),r||r!==!1&&Yg(t.url))){const u=l&&a&&Zg.read(a);u&&i.set(l,u)}return t},n0=typeof XMLHttpRequest<"u",r0=n0&&function(e){return new Promise(function(n,r){const l=Hm(e);let a=l.data;const i=Ie.from(l.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=l,d,h,p,_,w;function v(){_&&_(),w&&w(),l.cancelToken&&l.cancelToken.unsubscribe(d),l.signal&&l.signal.removeEventListener("abort",d)}let C=new XMLHttpRequest;C.open(l.method.toUpperCase(),l.url,!0),C.timeout=l.timeout;function f(){if(!C)return;const x=Ie.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:x,config:e,request:C};Bm(function(S){n(S),v()},function(S){r(S),v()},E),C=null}"onloadend"in C?C.onloadend=f:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(f)},C.onabort=function(){C&&(r(new q("Request aborted",q.ECONNABORTED,e,C)),C=null)},C.onerror=function(){r(new q("Network Error",q.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let b=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const E=l.transitional||Am;l.timeoutErrorMessage&&(b=l.timeoutErrorMessage),r(new q(b,E.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,e,C)),C=null},a===void 0&&i.setContentType(null),"setRequestHeader"in C&&z.forEach(i.toJSON(),function(b,E){C.setRequestHeader(E,b)}),z.isUndefined(l.withCredentials)||(C.withCredentials=!!l.withCredentials),o&&o!=="json"&&(C.responseType=l.responseType),u&&([p,w]=ll(u,!0),C.addEventListener("progress",p)),c&&C.upload&&([h,_]=ll(c),C.upload.addEventListener("progress",h),C.upload.addEventListener("loadend",_)),(l.cancelToken||l.signal)&&(d=x=>{C&&(r(!x||x.type?new qn(null,e,C):x),C.abort(),C=null)},l.cancelToken&&l.cancelToken.subscribe(d),l.signal&&(l.signal.aborted?d():l.signal.addEventListener("abort",d)));const m=Kg(l.url);if(m&&Ne.protocols.indexOf(m)===-1){r(new q("Unsupported protocol "+m+":",q.ERR_BAD_REQUEST,e));return}C.send(a||null)})},s0=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const a=function(u){if(!l){l=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof q?d:new qn(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new q(`timeout ${t} of ms exceeded`,q.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>z.asap(o),c}},l0=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},a0=async function*(e,t){for await(const n of i0(e))yield*l0(n,t)},i0=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Vc=(e,t,n,r)=>{const l=a0(e,t);let a=0,i,o=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await l.next();if(u){o(),c.close();return}let h=d.byteLength;if(n){let p=a+=h;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),l.return()}},{highWaterMark:2})},Pl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Wm=Pl&&typeof ReadableStream=="function",o0=Pl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),qm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},c0=Wm&&qm(()=>{let e=!1;const t=new Request(Ne.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Hc=64*1024,li=Wm&&qm(()=>z.isReadableStream(new Response("").body)),al={stream:li&&(e=>e.body)};Pl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!al[t]&&(al[t]=z.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new q(`Response type '${t}' is not supported`,q.ERR_NOT_SUPPORT,r)})})})(new Response);const u0=async e=>{if(e==null)return 0;if(z.isBlob(e))return e.size;if(z.isSpecCompliantForm(e))return(await new Request(Ne.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(z.isArrayBufferView(e)||z.isArrayBuffer(e))return e.byteLength;if(z.isURLSearchParams(e)&&(e=e+""),z.isString(e))return(await o0(e)).byteLength},d0=async(e,t)=>{const n=z.toFiniteNumber(e.getContentLength());return n??u0(t)},m0=Pl&&(async e=>{let{url:t,method:n,data:r,signal:l,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=Hm(e);u=u?(u+"").toLowerCase():"text";let _=s0([l,a&&a.toAbortSignal()],i),w;const v=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let C;try{if(c&&c0&&n!=="get"&&n!=="head"&&(C=await d0(d,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),P;if(z.isFormData(r)&&(P=E.headers.get("content-type"))&&d.setContentType(P),E.body){const[S,g]=$c(C,ll(Uc(c)));r=Vc(E.body,Hc,S,g)}}z.isString(h)||(h=h?"include":"omit");const f="credentials"in Request.prototype;w=new Request(t,{...p,signal:_,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:f?h:void 0});let m=await fetch(w,p);const x=li&&(u==="stream"||u==="response");if(li&&(o||x&&v)){const E={};["status","statusText","headers"].forEach(O=>{E[O]=m[O]});const P=z.toFiniteNumber(m.headers.get("content-length")),[S,g]=o&&$c(P,ll(Uc(o),!0))||[];m=new Response(Vc(m.body,Hc,S,()=>{g&&g(),v&&v()}),E)}u=u||"text";let b=await al[z.findKey(al,u)||"text"](m,e);return!x&&v&&v(),await new Promise((E,P)=>{Bm(E,P,{data:b,headers:Ie.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:w})})}catch(f){throw v&&v(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,e,w),{cause:f.cause||f}):q.from(f,f&&f.code,e,w)}}),ai={http:Cg,xhr:r0,fetch:m0};z.forEach(ai,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Wc=e=>`- ${e}`,f0=e=>z.isFunction(e)||e===null||e===!1,Jm={getAdapter:e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let n,r;const l={};for(let a=0;a<t;a++){n=e[a];let i;if(r=n,!f0(n)&&(r=ai[(i=String(n)).toLowerCase()],r===void 0))throw new q(`Unknown adapter '${i}'`);if(r)break;l[i||"#"+a]=r}if(!r){const a=Object.entries(l).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(Wc).join(`
`):" "+Wc(a[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:ai};function ia(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qn(null,e)}function qc(e){return ia(e),e.headers=Ie.from(e.headers),e.data=aa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Jm.getAdapter(e.adapter||Gr.adapter)(e).then(function(r){return ia(e),r.data=aa.call(e,e.transformResponse,r),r.headers=Ie.from(r.headers),r},function(r){return Um(r)||(ia(e),r&&r.response&&(r.response.data=aa.call(e,e.transformResponse,r.response),r.response.headers=Ie.from(r.response.headers))),Promise.reject(r)})}const Qm="1.11.0",Rl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Rl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Jc={};Rl.transitional=function(t,n,r){function l(a,i){return"[Axios v"+Qm+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,o)=>{if(t===!1)throw new q(l(i," has been removed"+(n?" in "+n:"")),q.ERR_DEPRECATED);return n&&!Jc[i]&&(Jc[i]=!0,console.warn(l(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,o):!0}};Rl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function p0(e,t,n){if(typeof e!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const a=r[l],i=t[a];if(i){const o=e[a],c=o===void 0||i(o,a,e);if(c!==!0)throw new q("option "+a+" must be "+c,q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new q("Unknown option "+a,q.ERR_BAD_OPTION)}}const Os={assertOptions:p0,validators:Rl},st=Os.validators;let tn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Fc,response:new Fc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=cn(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:a}=n;r!==void 0&&Os.assertOptions(r,{silentJSONParsing:st.transitional(st.boolean),forcedJSONParsing:st.transitional(st.boolean),clarifyTimeoutError:st.transitional(st.boolean)},!1),l!=null&&(z.isFunction(l)?n.paramsSerializer={serialize:l}:Os.assertOptions(l,{encode:st.function,serialize:st.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Os.assertOptions(n,{baseUrl:st.spelling("baseURL"),withXsrfToken:st.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&z.merge(a.common,a[n.method]);a&&z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=Ie.concat(i,a);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,p;if(!c){const w=[qc.bind(this),void 0];for(w.unshift(...o),w.push(...u),p=w.length,d=Promise.resolve(n);h<p;)d=d.then(w[h++],w[h++]);return d}p=o.length;let _=n;for(h=0;h<p;){const w=o[h++],v=o[h++];try{_=w(_)}catch(C){v.call(this,C);break}}try{d=qc.call(this,_)}catch(w){return Promise.reject(w)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=cn(this.defaults,t);const n=Vm(t.baseURL,t.url,t.allowAbsoluteUrls);return Fm(n,t.params,t.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(t){tn.prototype[t]=function(n,r){return this.request(cn(r||{},{method:t,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,o){return this.request(cn(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}tn.prototype[t]=n(),tn.prototype[t+"Form"]=n(!0)});let h0=class Km{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(l=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](l);r._listeners=null}),this.promise.then=l=>{let a;const i=new Promise(o=>{r.subscribe(o),a=o}).then(l);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,o){r.reason||(r.reason=new qn(a,i,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Km(function(l){t=l}),cancel:t}}};function x0(e){return function(n){return e.apply(null,n)}}function g0(e){return z.isObject(e)&&e.isAxiosError===!0}const ii={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ii).forEach(([e,t])=>{ii[t]=e});function Gm(e){const t=new tn(e),n=_m(tn.prototype.request,t);return z.extend(n,tn.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return Gm(cn(e,l))},n}const U=Gm(Gr);U.Axios=tn;U.CanceledError=qn;U.CancelToken=h0;U.isCancel=Um;U.VERSION=Qm;U.toFormData=El;U.AxiosError=q;U.Cancel=U.CanceledError;U.all=function(t){return Promise.all(t)};U.spread=x0;U.isAxiosError=g0;U.mergeConfig=cn;U.AxiosHeaders=Ie;U.formToJSON=e=>$m(z.isHTMLForm(e)?new FormData(e):e);U.getAdapter=Jm.getAdapter;U.HttpStatusCode=ii;U.default=U;const{Axios:z0,AxiosError:T0,CanceledError:L0,isCancel:I0,CancelToken:M0,VERSION:D0,all:F0,Cancel:A0,isAxiosError:$0,spread:U0,toFormData:B0,AxiosHeaders:V0,HttpStatusCode:H0,formToJSON:W0,getAdapter:q0,mergeConfig:J0}=U;var Xm={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=k,y0=Symbol.for("react.element"),j0=Symbol.for("react.fragment"),N0=Object.prototype.hasOwnProperty,w0=v0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b0={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,n){var r,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)N0.call(t,r)&&!b0.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:y0,type:e,key:a,ref:i,props:l,_owner:w0.current}}Ol.Fragment=j0;Ol.jsx=Ym;Ol.jsxs=Ym;Xm.exports=Ol;var s=Xm.exports;const Mr=({product:e,onAddToCart:t,showCustomRequest:n=!0})=>{var b,E;const[r,l]=k.useState(null),[a,i]=k.useState(!1),[o,c]=k.useState(!1),[u,d]=k.useState(!1),[h,p]=k.useState(!1),_=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{e.price_options&&e.price_options.length>0&&l(e.price_options[0]),w()},[e]);const w=async()=>{if(_.id)try{const P=JSON.parse(localStorage.getItem(`favorites_${_.id}`)||"[]"),S=Array.isArray(P)&&P.includes(e.id);i(S);try{const g=await U.get(`/api/favorites/${_.id}`,{timeout:3e3});if(g.data&&Array.isArray(g.data)){const O=g.data.map(L=>L.product_id||L.id).filter(Boolean);JSON.stringify(P.sort())!==JSON.stringify(O.sort())&&(localStorage.setItem(`favorites_${_.id}`,JSON.stringify(O)),i(O.includes(e.id)))}}catch{console.warn("Сервер избранного недоступен, используем локальные данные")}}catch(P){console.error("Ошибка проверки избранного:",P),i(!1)}},v=async P=>{if(P.stopPropagation(),!_.id){alert("Войдите в систему для добавления в избранное");return}const S=a;p(!0);try{const g=JSON.parse(localStorage.getItem(`favorites_${_.id}`)||"[]");let O,L;S?(O=g.filter(j=>j!==e.id),L=!1):(O=[...g.filter(j=>j!==e.id),e.id],L=!0),i(L),localStorage.setItem(`favorites_${_.id}`,JSON.stringify(O));const N=e.favorites_count||0;L&&!S?e.favorites_count=N+1:!L&&S&&(e.favorites_count=Math.max(0,N-1));try{await U.post("/api/favorites/toggle",{user_id:_.id,product_id:e.id},{timeout:5e3})}catch(j){console.warn("Не удалось синхронизировать с сервером, используем локальные данные:",j.message)}window.dispatchEvent(new CustomEvent("favoriteUpdated",{detail:{productId:e.id,isFavorite:L}}))}catch(g){console.error("Ошибка обновления избранного:",g),i(S);const O=JSON.parse(localStorage.getItem(`favorites_${_.id}`)||"[]");if(S){const L=[...O.filter(N=>N!==e.id),e.id];localStorage.setItem(`favorites_${_.id}`,JSON.stringify(L))}else{const L=O.filter(N=>N!==e.id);localStorage.setItem(`favorites_${_.id}`,JSON.stringify(L))}alert("Ошибка при обновлении избранного. Данные восстановлены.")}finally{p(!1)}},C=P=>{l(P),c(!1)},f=()=>{if(!_.id){alert("Войдите в систему для добавления товаров в корзину");return}if(!r){alert("Выберите размер товара");return}try{const P=parseFloat(r.price)||0;if(P<=0){alert("Некорректная цена товара");return}const S={id:e.id,name:e.name,main_image:e.main_image,price:P,selectedSize:{...r,price:P},quantity:1,addedAt:new Date().toISOString()},g=JSON.parse(localStorage.getItem(`cart_${_.id}`)||"[]"),O=g.findIndex(L=>{var N;return L.id===e.id&&((N=L.selectedSize)==null?void 0:N.size)===r.size});O>-1?g[O].quantity+=1:g.push(S),localStorage.setItem(`cart_${_.id}`,JSON.stringify(g)),t&&t(S),alert("Товар добавлен в корзину")}catch(P){console.error("Ошибка добавления в корзину:",P),alert("Ошибка при добавлении товара в корзину")}},m=()=>{const P=new CustomEvent("openCustomRequest",{detail:{productId:e.id}});window.dispatchEvent(P)},x=()=>{if(!e.price_options||e.price_options.length===0)return"Цена не указана";const P=e.coefficient||5.25,S=e.price_options.map(L=>Math.round(L.price/5.25*P)),g=Math.min(...S),O=Math.max(...S);return g===O?`${g}₽`:`от ${g}₽ до ${O}₽`};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card h-full flex flex-col transition-all hover:shadow-lg product-card",children:[s.jsxs("div",{className:"relative overflow-hidden product-image-container",children:[e.main_image?s.jsx("img",{src:e.main_image,alt:e.name,className:"w-full h-48 sm:h-48 md:h-56 lg:h-48 object-cover cursor-pointer hover:scale-105 transition-transform product-image",onClick:()=>d(!0)}):s.jsx("div",{className:"w-full h-48 sm:h-48 md:h-56 lg:h-48 bg-gray-200 flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",children:s.jsx(Wr,{className:"text-2xl sm:text-3xl md:text-4xl text-gray-400"})}),s.jsxs("button",{className:`absolute top-2 sm:top-3 right-2 sm:right-3 btn btn-sm rounded-full transition-all duration-200 favorite-btn ${a?"bg-red-500 text-white hover:bg-red-600 scale-105":"bg-white text-gray-600 hover:bg-gray-100"} ${h?"opacity-50 cursor-not-allowed":"hover:scale-110"}`,onClick:v,disabled:h,title:a?"Удалить из избранного":"Добавить в избранное",children:[s.jsx($t,{className:`transition-all duration-200 text-sm sm:text-base ${a?"text-white animate-pulse":""}`}),s.jsx("span",{className:"ml-1 text-xs sm:text-sm font-medium",children:e.favorites_count||0})]})]}),s.jsxs("div",{className:"card-body flex-1 flex flex-col p-3 sm:p-4 lg:p-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-black mb-2 line-clamp-2 text-sm sm:text-base product-title",children:e.name}),e.related_name&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:e.related_name}),e.description&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-3 line-clamp-2 hidden sm:block",children:e.description}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:"text-sm sm:text-base lg:text-lg font-semibold text-accent-blue",children:x()})}),r&&s.jsx("div",{className:"mb-3 p-2 sm:p-3 bg-gray-50 rounded border",children:s.jsxs("div",{className:"text-xs sm:text-sm",children:[s.jsxs("div",{className:"font-medium text-black mb-1",children:["Выбранный размер: ",r.size]}),s.jsxs("div",{className:"text-accent-blue font-semibold mb-1",children:["Цена: ",Math.round(r.price/5.25*(e.coefficient||5.25)),"₽"]})]})})]}),s.jsxs("div",{className:"space-y-2 mt-4 product-actions",children:[s.jsxs("button",{className:"btn btn-secondary w-full flex items-center justify-center text-xs sm:text-sm mobile-btn",onClick:()=>c(!0),disabled:!e.price_options||e.price_options.length===0,children:[s.jsx(Lx,{className:"mr-1 sm:mr-2 text-xs sm:text-sm"}),s.jsx("span",{className:"hidden sm:inline",children:r?"Изменить размер":"Выбрать размер"}),s.jsx("span",{className:"sm:hidden",children:"Размер"})]}),s.jsxs("button",{className:"btn btn-primary w-full flex items-center justify-center text-xs sm:text-sm mobile-btn",onClick:f,disabled:!r,children:[s.jsx(Re,{className:"mr-1 sm:mr-2 text-xs sm:text-sm"}),s.jsx("span",{className:"hidden sm:inline",children:"В корзину"}),s.jsx("span",{className:"sm:hidden",children:"Купить"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 sm:gap-2",children:[s.jsxs("button",{className:"btn btn-ghost btn-sm text-xs mobile-action-btn",onClick:()=>d(!0),children:[s.jsx(Sl,{className:"mr-1 text-xs"}),s.jsx("span",{className:"hidden sm:inline",children:"Подробнее"}),s.jsx("span",{className:"sm:hidden",children:"Инфо"})]}),n&&s.jsxs("button",{className:"btn btn-ghost btn-sm text-xs mobile-action-btn",onClick:m,children:[s.jsx("span",{className:"hidden sm:inline",children:"Другой размер"}),s.jsx("span",{className:"sm:hidden",children:"Замер"})]})]})]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",onClick:P=>{P.target===P.currentTarget&&c(!1)},children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[85vh] overflow-y-auto mx-2 my-4 relative",onClick:P=>P.stopPropagation(),children:[s.jsx("div",{className:"sticky top-0 bg-white z-10 p-4 sm:p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold pr-8",children:"Выберите размер и цену"}),s.jsx("button",{className:"btn btn-ghost btn-sm absolute top-2 right-2 sm:top-4 sm:right-4 bg-white hover:bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center",onClick:()=>c(!1),children:"✕"})]})}),s.jsxs("div",{className:"p-4 sm:p-6 pt-0",children:[s.jsx("div",{className:"space-y-3",children:((b=e.price_options)==null?void 0:b.map((P,S)=>s.jsxs("div",{className:`price-option cursor-pointer border rounded-lg p-3 sm:p-4 transition-all hover:border-accent-blue hover:bg-gray-50 ${(r==null?void 0:r.size)===P.size?"border-accent-blue bg-accent-blue bg-opacity-10":"border-gray-200"}`,onClick:()=>C(P),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"price-info",children:s.jsx("div",{className:"size-text text-sm sm:text-lg font-medium text-black",children:P.size})}),s.jsxs("div",{className:"price-text text-lg sm:text-xl font-semibold text-accent-blue",children:[Math.round(P.price/5.25*(e.coefficient||5.25)),"₽"]})]}),(r==null?void 0:r.size)===P.size&&s.jsx("div",{className:"mt-2 text-xs sm:text-sm text-accent-blue font-medium",children:"✓ Выбран"})]},S)))||s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Варианты размеров не настроены"})}),s.jsxs("div",{className:"mt-6 flex gap-3 sticky bottom-0 bg-white pt-4 border-t border-gray-100",children:[s.jsx("button",{className:"btn btn-primary flex-1 text-sm",onClick:()=>{c(!1),r&&f()},disabled:!r,children:"Добавить в корзину"}),s.jsx("button",{className:"btn btn-ghost flex-1 text-sm",onClick:()=>c(!1),children:"Отмена"})]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",onClick:P=>{P.target===P.currentTarget&&d(!1)},children:s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto mx-2 my-4 relative",onClick:P=>P.stopPropagation(),children:[s.jsx("div",{className:"sticky top-0 bg-white z-10 p-4 sm:p-6 border-b border-gray-100",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold pr-8",children:e.name}),s.jsx("button",{className:"btn btn-ghost btn-sm absolute top-2 right-2 sm:top-4 sm:right-4 bg-white hover:bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center",onClick:()=>d(!1),children:"✕"})]})}),s.jsx("div",{className:"p-4 sm:p-6 pt-0",children:s.jsxs("div",{className:"space-y-4",children:[e.main_image&&s.jsx("img",{src:e.main_image,alt:e.name,className:"w-full h-48 sm:h-64 object-cover rounded border"}),e.additional_images&&e.additional_images.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Дополнительные фото:"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.additional_images.map((P,S)=>s.jsx("img",{src:P,alt:`${e.name} ${S+1}`,className:"w-full h-16 sm:h-20 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(P,"_blank")},S))})]}),e.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Описание:"}),s.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:e.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Характеристики:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"ID товара:"})," ",e.id]}),e.original_height&&s.jsxs("div",{children:[s.jsx("strong",{children:"Исходная высота:"})," ",e.original_height,"см"]}),e.original_width&&s.jsxs("div",{children:[s.jsx("strong",{children:"Исходная ширина:"})," ",e.original_width,"см"]}),e.original_length&&s.jsxs("div",{children:[s.jsx("strong",{children:"Исходная длина:"})," ",e.original_length,"см"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Количество деталей:"})," ",e.parts_count||1]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Продано:"})," ",e.sales_count||0]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2 text-sm sm:text-base",children:"Доступные размеры:"}),s.jsx("div",{className:"space-y-2",children:((E=e.price_options)==null?void 0:E.map((P,S)=>s.jsx("div",{className:"border rounded p-3 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:s.jsx("div",{className:"font-medium text-sm sm:text-base",children:P.size})}),s.jsxs("div",{className:"text-base sm:text-lg font-semibold text-accent-blue",children:[Math.round(P.price/5.25*(e.coefficient||5.25)),"₽"]})]})},S)))||s.jsx("p",{className:"text-gray-500 text-sm",children:"Варианты размеров не настроены"})})]}),s.jsx("div",{className:"sticky bottom-0 bg-white pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{className:"btn btn-primary flex-1 text-sm",onClick:()=>{d(!1),c(!0)},children:[s.jsx(Re,{className:"mr-2"}),"Купить"]}),s.jsx("button",{className:"btn btn-secondary text-sm",onClick:v,children:s.jsx($t,{className:a?"text-red-500":""})}),n&&s.jsx("button",{className:"btn btn-ghost text-sm",onClick:()=>{d(!1),m()},children:"Запросить другой размер"})]})})]})})]})}),s.jsx("style",{jsx:!0,children:`
        .product-card {
          min-height: auto;
        }

        .product-image-container {
          position: relative;
        }

        .product-image {
          transition: transform 0.2s ease;
        }

        .favorite-btn {
          min-width: 40px;
          min-height: 32px;
          padding: 4px 8px;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .product-title {
          line-height: 1.3;
          word-break: break-word;
        }

        .product-actions {
          margin-top: auto;
        }

        .mobile-btn {
          min-height: 40px;
          font-weight: 500;
          border-radius: 6px;
        }

        .mobile-action-btn {
          min-height: 36px;
          padding: 8px 12px;
          font-weight: 400;
        }

        @media (max-width: 640px) {
          .product-card {
            border-radius: 8px;
          }

          .card-body {
            padding: 12px;
          }

          .favorite-btn {
            min-width: 36px;
            min-height: 30px;
            padding: 4px 6px;
          }

          .mobile-btn {
            min-height: 44px;
            font-size: 14px;
          }

          .mobile-action-btn {
            min-height: 40px;
            font-size: 12px;
            padding: 6px 8px;
          }

          .product-title {
            font-size: 14px;
            margin-bottom: 8px;
          }

          .price-option {
            padding: 12px;
          }

          .modal-content {
            margin: 8px;
            max-height: calc(100vh - 32px);
          }
        }

        @media (max-width: 480px) {
          .grid.grid-cols-2 {
            gap: 4px;
          }

          .mobile-action-btn {
            font-size: 11px;
            padding: 4px 6px;
            min-height: 36px;
          }

          .favorite-btn span {
            font-size: 10px;
          }

          .btn {
            -webkit-tap-highlight-color: transparent;
          }
        }

        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        /* Touch optimization */
        @media (hover: none) and (pointer: coarse) {
          .product-image:hover {
            transform: none;
          }

          .btn:active {
            transform: scale(0.98);
          }

          .favorite-btn:active {
            transform: scale(0.95);
          }
        }
      `})]})},Zm=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!1),[l,a]=k.useState(!1),[i,o]=k.useState(""),[c,u]=k.useState(""),[d,h]=k.useState({}),[p,_]=k.useState([]),w=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{v(),f()},[]);const v=()=>{const N=JSON.parse(localStorage.getItem(`cart_${w.id}`)||"[]");t(N)},C=N=>{localStorage.setItem(`cart_${w.id}`,JSON.stringify(N)),t(N)},f=async()=>{try{const N=await U.get("/api/settings");if(h(N.data),o(N.data.payment_info||""),N.data.discount_rules){const j=m(N.data.discount_rules);_(j)}}catch(N){console.error("Ошибка загрузки настроек:",N)}},m=N=>N.filter(j=>!(j.conditions.role&&j.conditions.role!==w.role)),x=(N,j)=>{if(j<1)return;const I=e.map((M,y)=>y===N?{...M,quantity:j}:M);C(I)},b=N=>{if(!confirm("Удалить товар из корзины?"))return;const j=e.filter((I,M)=>M!==N);C(j)},E=N=>{var y;const j=((y=N.selectedSize)==null?void 0:y.price)||N.price||0,I=d.price_coefficient||5.25;return Math.round(j/5.25*I)*N.quantity},P=()=>e.reduce((N,j)=>N+E(j),0),S=()=>{const N=P();let j=0;return p.forEach(I=>{I.type==="percentage"?j+=N*(I.value/100):I.type==="fixed"&&(j+=I.value)}),Math.min(j,N)},g=()=>{const N=P(),j=S();return Math.max(0,N-j)},O=()=>{if(e.length===0){alert("Корзина пуста");return}a(!0)},L=async()=>{var N;if(!w.id){alert("Необходимо войти в систему");return}if(e.length===0){alert("Корзина пуста");return}try{r(!0);const j=e.map(R=>{var $;if(!R.id||!R.name||R.quantity<=0)throw new Error(`Неверные данные товара: ${R.name||"неизвестный товар"}`);const D=(($=R.selectedSize)==null?void 0:$.price)||R.price||0;if(D<=0)throw new Error(`Неверная цена товара: ${R.name}`);const T=d.price_coefficient||5.25,A=Math.round(D/5.25*T);return{id:R.id,name:R.name,quantity:R.quantity,price:A,selectedSize:R.selectedSize||null}}),I=g();if(I<=0)throw new Error("Неверная общая сумма заказа");const M={user_id:w.id,products:j,total_price:I,notes:c.trim()||""};console.log("Отправка данных заказа:",M);const y=await U.post("/api/orders",M,{headers:{"Content-Type":"application/json"},timeout:1e4});if(console.log("Ответ сервера:",y.data),y.status===201||y.status===200)alert("Заказ успешно создан!"),C([]),a(!1),u("");else throw new Error("Неожиданный ответ сервера")}catch(j){console.error("Подробная ошибка создания заказа:",j);let I="Ошибка при создании заказа";j.response?I=((N=j.response.data)==null?void 0:N.error)||`Ошибка сервера: ${j.response.status}`:j.request?I="Нет связи с сервером. Проверьте подключение к интернету.":j.message&&(I=j.message),alert(I)}finally{r(!1)}};return w.id?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(Re,{className:"text-3xl text-accent-blue"}),s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Корзина"}),s.jsx("span",{className:"bg-accent-blue text-white px-3 py-1 rounded-full text-sm",children:e.length})]}),e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Re,{className:"text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Ваша корзина пуста"}),s.jsx("p",{className:"text-gray-400",children:"Добавьте товары из каталога"})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map((N,j)=>s.jsx("div",{className:"cart-item",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:N.main_image?s.jsx("img",{src:N.main_image,alt:N.name,className:"w-20 h-20 object-cover rounded border"}):s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded border flex items-center justify-center",children:s.jsx(Re,{className:"text-gray-400"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-black mb-1",children:N.name}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{children:["ID: ",N.id]}),N.selectedSize&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"font-medium text-accent-blue",children:["Размер: ",N.selectedSize.size]}),N.selectedSize.resin_ml&&w.role==="admin"&&s.jsxs("div",{className:"text-gray-500",children:["Количество смолы: ",N.selectedSize.resin_ml,"мл"]}),s.jsxs("div",{className:"text-gray-700",children:["Цена за единицу: ",Math.round(N.selectedSize.price/5.25*(d.price_coefficient||5.25)),"₽"]})]}),!N.selectedSize&&N.price&&s.jsxs("div",{className:"text-gray-700",children:["Цена за единицу: ",Math.round(N.price/5.25*(d.price_coefficient||5.25)),"₽"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>x(j,N.quantity-1),disabled:N.quantity<=1,children:s.jsx(zx,{})}),s.jsx("span",{className:"w-12 text-center font-medium",children:N.quantity}),s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>x(j,N.quantity+1),children:s.jsx(sl,{})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-lg text-black",children:[E(N),"₽"]}),s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600 mt-2",onClick:()=>b(j),children:s.jsx(Un,{})})]})]})},`${N.id}-${j}`))}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"card sticky top-6",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Итого"})}),s.jsxs("div",{className:"card-body space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Подытог:"}),s.jsxs("span",{children:[P(),"₽"]})]}),p.length>0&&S()>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Скидка:"}),s.jsxs("span",{children:["-",S(),"₽"]})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Итого:"}),s.jsxs("span",{className:"text-accent-blue",children:[g(),"₽"]})]})})]}),p.length>0&&d.show_discount_on_products&&s.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[s.jsx("div",{className:"text-sm font-medium text-green-800 mb-1",children:"Применены скидки:"}),p.map((N,j)=>s.jsxs("div",{className:"text-xs text-green-700",children:[N.name,": ",N.value,N.type==="percentage"?"%":"₽"]},j))]}),s.jsxs("button",{className:"btn btn-primary w-full",onClick:O,disabled:e.length===0,children:[s.jsx(Ex,{className:"mr-2"}),"Перейти к оплате"]})]})]})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Оформление заказа"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Реквизиты для оплаты:"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded border",children:s.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:i})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Детали заказа:"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded border space-y-3",children:e.map((N,j)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:N.name}),N.selectedSize&&s.jsxs("div",{className:"text-gray-600 space-y-1",children:[s.jsxs("div",{children:["Размер: ",N.selectedSize.size]}),N.selectedSize.resin_ml&&w.role==="admin"&&s.jsxs("div",{children:["Смола: ",N.selectedSize.resin_ml,"мл"]}),s.jsxs("div",{children:["Цена: ",Math.round(N.selectedSize.price/5.25*(d.price_coefficient||5.25)),"₽ × ",N.quantity]})]})]}),s.jsxs("div",{className:"font-medium",children:[E(N),"₽"]})]},j))})]}),s.jsx("div",{className:"bg-accent-blue bg-opacity-10 p-4 rounded border border-accent-blue",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Сумма к оплате:"}),s.jsxs("div",{className:"text-2xl font-bold text-accent-blue",children:[g(),"₽"]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Примечание к заказу (необязательно):"}),s.jsx("textarea",{className:"input textarea w-full",placeholder:"Добавьте комментарий к заказу...",value:c,onChange:N=>u(N.target.value),rows:3})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"btn btn-primary flex-1",onClick:L,disabled:n,children:[s.jsx(Cx,{className:"mr-2"}),n?"Создание заказа...":"Подтвердить оплату"]}),s.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>a(!1),disabled:n,children:"Назад"})]})]})]})})}),n&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-black",children:"Создание заказа..."})]})})]}):s.jsxs("div",{className:"p-6 text-center max-w-2xl mx-auto",children:[s.jsx(Re,{className:"text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Войдите в систему для использования корзины"})]})},co=()=>{const[e,t]=k.useState({id:"",username:"",initial_username:"",avatar:"",city:"",birthday:"",notes:"",registration_date:"",role:""}),[n,r]=k.useState(!1),[l,a]=k.useState(!1),[i,o]=k.useState([]),[c,u]=k.useState(null),[d,h]=k.useState(""),[p,_]=k.useState(!1),w=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{v(),C()},[]);const v=async()=>{if(w.id)try{a(!0);const g=await U.get(`/api/users/${w.id}`);t(g.data);const O=g.data.avatar?g.data.avatar:"";h(O)}catch(g){console.error("Ошибка загрузки профиля:",g)}finally{a(!1)}},C=async()=>{try{const[g,O,L]=await Promise.all([U.get(`/api/chat?user_id=${w.id}`),U.get(`/api/orders?user_id=${w.id}&role=${w.role}`),U.get(`/api/custom-requests?user_id=${w.id}&role=${w.role}`)]),N=g.data.filter(y=>new Date(y.created_date)>new Date(Date.now()-24*60*60*1e3)).length,j=O.data.filter(y=>new Date(y.created_date)>new Date(Date.now()-24*60*60*1e3)).length,I=L.data.filter(y=>new Date(y.created_date)>new Date(Date.now()-24*60*60*1e3)).length,M=[];N>0&&M.push(`${N} новых сообщений`),j>0&&M.push(`${j} новых заказов`),I>0&&M.push(`${I} новых заявок`),o(M)}catch(g){console.error("Ошибка загрузки уведомлений:",g)}},f=g=>{const{name:O,value:L}=g.target;t(N=>({...N,[O]:L}))},m=g=>{const O=g.target.files[0];if(O){if(O.size>5*1024*1024){alert("Максимальный размер файла: 5MB"),g.target.value="";return}if(!O.type.startsWith("image/")){alert("Разрешены только изображения (JPG, PNG, GIF, WebP)"),g.target.value="";return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(O.type.toLowerCase())){alert("Поддерживаемые форматы: JPG, PNG, GIF, WebP"),g.target.value="";return}try{d&&d.startsWith("blob:")&&URL.revokeObjectURL(d),u(O);const N=URL.createObjectURL(O);h(N)}catch(N){console.error("Ошибка создания превью:",N),alert("Ошибка обработки изображения"),g.target.value=""}}},x=async()=>{var g;if(!c)return null;try{_(!0);const O=new FormData;O.append("avatar",c),O.append("user_id",w.id);const L=await U.post("/api/upload/avatar",O,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});if(L.data&&L.data.avatar_path)return L.data.avatar_path;throw new Error("Сервер не вернул путь к аватару")}catch(O){throw console.error("Ошибка загрузки аватара:",O),O.response?new Error(((g=O.response.data)==null?void 0:g.error)||"Ошибка сервера при загрузке аватара"):O.request?new Error("Нет ответа от сервера"):O}finally{_(!1)}},b=async()=>{var g,O,L,N;try{a(!0);let j=e.avatar;if(c)try{if(j=await x(),!j)throw new Error("Не удалось получить путь к загруженному аватару")}catch(y){console.error("Ошибка загрузки аватара:",y),alert(`Ошибка при загрузке аватара: ${y.message}. Профиль будет сохранен без изменения аватара.`),j=e.avatar}const I={username:((g=e.username)==null?void 0:g.trim())||e.username,city:((O=e.city)==null?void 0:O.trim())||e.city,birthday:e.birthday||null,notes:((L=e.notes)==null?void 0:L.trim())||e.notes,avatar:j};if((await U.put(`/api/users/${w.id}`,I,{timeout:15e3})).status===200){const y={...w,...I};localStorage.setItem("currentUser",JSON.stringify(y)),alert("Профиль успешно обновлен"),r(!1),u(null),d&&d.startsWith("blob:")&&URL.revokeObjectURL(d),await v()}else throw new Error("Неожиданный ответ сервера")}catch(j){console.error("Ошибка обновления профиля:",j);let I="Ошибка при обновлении профиля";j.response?I=((N=j.response.data)==null?void 0:N.error)||`Ошибка сервера: ${j.response.status}`:j.request?I="Нет связи с сервером":I=j.message,alert(I)}finally{a(!1)}},E=()=>{r(!1),u(null),d&&d.startsWith("blob:")&&URL.revokeObjectURL(d),h(e.avatar||""),v()},P=g=>g?new Date(g).toLocaleDateString("ru-RU"):"Не указано",S=g=>({buyer:"Покупатель",executor:"Исполнитель",admin:"Администратор"})[g]||g;return w.id?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Мой профиль"}),!n&&s.jsxs("button",{className:"btn btn-accent",onClick:()=>r(!0),children:[s.jsx(lo,{className:"mr-2"}),"Редактировать"]})]}),i.length>0&&s.jsx("div",{className:"card mb-6 border-l-4 border-l-accent-blue",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(on,{className:"text-accent-blue text-xl"}),s.jsx("h2",{className:"text-lg font-semibold text-black",children:"Уведомления"})]}),s.jsx("div",{className:"space-y-2",children:i.map((g,O)=>s.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:g},O))})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center",children:[s.jsxs("div",{className:"relative inline-block mb-4",children:[d&&d.trim()?s.jsx("img",{src:(d.startsWith("blob:"),d),alt:"Аватар",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200",onError:g=>{var O;console.warn("Ошибка загрузки аватара:",d),g.target.style.display="none",(O=g.target.nextElementSibling)==null||O.style.setProperty("display","flex","important")}}):null,s.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-200",style:{display:d&&d.trim()?"none":"flex"},children:e.username||w.username?(e.username||w.username).charAt(0).toUpperCase():s.jsx(qe,{className:"text-4xl text-gray-400"})}),s.jsxs("label",{className:"absolute bottom-0 right-0 bg-black text-white rounded-full p-2 cursor-pointer hover:bg-gray-800 transition-all duration-200 shadow-lg",children:[s.jsx(_x,{className:"text-sm"}),s.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden",disabled:p})]}),p&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),s.jsx("h2",{className:"text-xl font-semibold text-black mb-2",children:e.username||w.username}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(qe,{}),s.jsx("span",{children:S(e.role||w.role)})]}),s.jsxs("div",{children:["ID: ",e.id||w.id]})]}),c&&s.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700",children:[s.jsx("div",{className:"font-medium",children:"Выбран новый аватар:"}),s.jsx("div",{children:c.name}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-primary",onClick:b,disabled:l||p,children:p?"Загрузка...":"Сохранить аватар"}),s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:E,disabled:l||p,children:"Отменить"})]})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Нажмите на иконку камеры для изменения аватара"})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Персональная информация"})}),s.jsxs("div",{className:"card-body space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(qe,{}),"Никнейм"]}),n?s.jsx("input",{type:"text",name:"username",className:"input w-full",value:e.username,onChange:f,placeholder:"Введите никнейм"}):s.jsx("div",{className:"p-3 bg-gray-50 rounded border",children:e.username||"Не указано"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(Sm,{}),"Дата рождения"]}),n?s.jsx("input",{type:"date",name:"birthday",className:"input w-full",value:e.birthday||"",onChange:f}):s.jsx("div",{className:"p-3 bg-gray-50 rounded border",children:P(e.birthday)})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(Ox,{}),"Город"]}),n?s.jsx("input",{type:"text",name:"city",className:"input w-full",value:e.city||"",onChange:f,placeholder:"Введите город"}):s.jsx("div",{className:"p-3 bg-gray-50 rounded border",children:e.city||"Не указано"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(Ax,{}),"Личные заметки"]}),n?s.jsx("textarea",{name:"notes",className:"input textarea w-full",value:e.notes||"",onChange:f,placeholder:"Добавьте заметки о себе...",rows:3}):s.jsx("div",{className:"p-3 bg-gray-50 rounded border min-h-[80px]",children:e.notes||"Заметки не добавлены"})]}),n&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs("button",{className:"btn btn-primary flex-1",onClick:b,disabled:l||p,children:[s.jsx(Ix,{className:"mr-2"}),l?"Сохранение...":"Сохранить"]}),s.jsxs("button",{className:"btn btn-ghost flex-1",onClick:E,disabled:l||p,children:[s.jsx(qr,{className:"mr-2"}),"Отмена"]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Системная информация"})}),s.jsxs("div",{className:"card-body space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-gray-700",children:"Дата регистрации:"}),s.jsx("span",{className:"font-medium",children:P(e.registration_date)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[s.jsx("span",{className:"text-gray-700",children:"ID пользователя:"}),s.jsx("span",{className:"font-medium",children:e.id})]}),s.jsxs("div",{className:"flex justify-between items-center py-2",children:[s.jsx("span",{className:"text-gray-700",children:"Никнейм при регистрации:"}),s.jsx("span",{className:"font-medium",children:e.initial_username||"Не указан"})]})]})]})]})]}),(l||p)&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-black",children:p?"Загрузка аватара...":"Обновление профиля..."})]})})]}):s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Необходимо войти в систему"})})},uo=({isAdmin:e=!1,isExecutor:t=!1})=>{const[n,r]=k.useState([]),[l,a]=k.useState(!1),[i,o]=k.useState(""),[c,u]=k.useState(""),[d,h]=k.useState(null),[p,_]=k.useState(null),[w,v]=k.useState(null),[C,f]=k.useState([]),m=JSON.parse(localStorage.getItem("currentUser")||"{}"),x=["создан заказ","принят к исполнению","не оплачено","печатается","красится","упаковывается","отменен","задерживается","готово"];k.useEffect(()=>{b(),e&&E()},[i,c]);const b=async()=>{var N,j,I;try{a(!0);const M=new URLSearchParams;e?M.append("admin","true"):t?M.append("executor_id",m.id):M.append("user_id",m.id),i&&i.trim()&&M.append("search",i.trim()),c&&M.append("status",c),console.log("Загрузка заказов с параметрами:",M.toString());const y=await U.get(`/api/orders?${M.toString()}`,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера заказов:",y.status,y.data),y.data&&Array.isArray(y.data)){const R=y.data.filter(D=>D&&typeof D=="object"&&D.id);console.log("Получены валидные заказы:",R.length),r(R)}else console.warn("Некорректный ответ от сервера заказов:",y.data),r([])}catch(M){console.error("Детальная ошибка загрузки заказов:",{message:M.message,response:(N=M.response)==null?void 0:N.data,status:(j=M.response)==null?void 0:j.status,config:M.config});let y="Ошибка загрузки заказов";M.response?M.response.status===404?y="API заказов не найдено":M.response.status===500?y="Ошибка сервера при загрузке заказов":(I=M.response.data)!=null&&I.error&&(y=M.response.data.error):M.code==="ECONNABORTED"?y="Превышено время ожидания загрузки заказов":M.request&&(y="Нет связи с сервером"),alert(y),r([])}finally{a(!1)}},E=async()=>{var N,j,I,M;if(!m.id||m.id!==1){console.warn("Недостаточно прав для загрузки исполнителей");return}try{console.log("Загрузка исполнителей...");const y=await U.get("/api/admin/users?role_filter=executor",{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера исполнителей:",y.status,y.data),y.data&&Array.isArray(y.data)){const R=y.data.filter(D=>D&&typeof D=="object"&&D.id&&D.username);console.log("Получены валидные исполнители:",R.length),f(R)}else console.warn("Некорректный ответ от сервера исполнителей:",y.data),f([])}catch(y){console.error("Детальная ошибка загрузки исполнителей:",{message:y.message,response:(N=y.response)==null?void 0:N.data,status:(j=y.response)==null?void 0:j.status});let R="Ошибка загрузки исполнителей";((I=y.response)==null?void 0:I.status)===404?R="API пользователей не найдено":((M=y.response)==null?void 0:M.status)===403?R="Недостаточно прав для просмотра исполнителей":y.code==="ECONNABORTED"&&(R="Превышено время ожидания"),console.warn(R),f([])}},P=async(N,j)=>{var I,M,y;if(!N||!j){alert("Некорректные данные для обновления статуса");return}if(!m.id||m.id!==1){alert("Недостаточно прав для изменения статуса");return}try{console.log("Обновление статуса заказа:",N,j);const R={status:j};m.id===1&&(R.admin_id=m.id);const D=await U.put(`/api/orders/${N}`,R,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера на обновление статуса:",D.status,D.data),D.status===200)alert("Статус заказа обновлен"),b(),_(null);else throw new Error(`Неожиданный статус ответа: ${D.status}`)}catch(R){console.error("Детальная ошибка обновления статуса:",{message:R.message,response:(I=R.response)==null?void 0:I.data,status:(M=R.response)==null?void 0:M.status,orderId:N,newStatus:j});let D="Ошибка при обновлении статуса";R.response?R.response.status===404?D="Заказ не найден":R.response.status===403?D="Недостаточно прав для изменения статуса":(y=R.response.data)!=null&&y.error&&(D=R.response.data.error):R.code==="ECONNABORTED"&&(D="Превышено время ожидания обновления"),alert(D)}},S=async(N,j)=>{if(confirm(`Изменить цену заказа на ${j}₽?`))try{await U.put(`/api/orders/${N}`,{total_price:j}),alert("Цена заказа обновлена"),b()}catch(I){console.error("Ошибка обновления цены:",I),alert("Ошибка при обновлении цены")}},g=async(N,j)=>{var I,M;try{console.log("Назначение исполнителей:",N,j);const y=await U.put(`/api/orders/${N}`,{assigned_executors:JSON.stringify(j),status:"принят к исполнению",admin_id:m.id});console.log("Ответ сервера:",y.data),alert("Исполнители назначены"),b(),v(null)}catch(y){console.error("Ошибка назначения исполнителей:",y);const R=((M=(I=y.response)==null?void 0:I.data)==null?void 0:M.error)||"Ошибка при назначении исполнителей";alert(R)}},O=(N,j)=>{const I=`#/chat?user=${N}&order=${j}`;window.location.href=I},L=N=>`status-badge ${{"создан заказ":"status-created","принят к исполнению":"status-processing","не оплачено":"status-cancelled",печатается:"status-processing",красится:"status-processing",упаковывается:"status-processing",отменен:"status-cancelled",задерживается:"status-cancelled",готово:"status-completed"}[N]||"status-created"}`;return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsx("h1",{className:"text-3xl font-bold text-black",children:e?"Управление заказами":t?"Мои назначенные заказы":"Мои заказы"})}),s.jsx("div",{className:"card mb-6",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Поиск по ID заказа...",className:"input pl-10 w-full",value:i,onChange:N=>o(N.target.value)})]}),s.jsx("div",{children:s.jsxs("select",{className:"input select w-full",value:c,onChange:N=>u(N.target.value),children:[s.jsx("option",{value:"",children:"Все статусы"}),x.map(N=>s.jsx("option",{value:N,children:N},N))]})})]})})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold",children:["Заказы (",Array.isArray(n)?n.length:0,")",(m==null?void 0:m.role)&&s.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",m.role==="admin"?"Все":m.role==="executor"?"Назначенные":"Мои"," заказы)"]})]})}),s.jsx("div",{className:"card-body",children:l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка заказов..."}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Пользователь: ",m==null?void 0:m.username," (ID: ",m==null?void 0:m.id,")"]})]}):Array.isArray(n)?n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(it,{className:"text-4xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:i||c?"Заказы не найдены по заданным критериям":"Заказы не найдены"}),(i||c)&&s.jsx("button",{className:"btn btn-ghost btn-sm mt-3",onClick:()=>{o(""),u("")},children:"Сбросить фильтры"})]}):s.jsx("div",{className:"space-y-4",children:n.map(N=>s.jsxs("div",{className:"border rounded-lg p-6 bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-black text-lg",children:["Заказ #",N.id]}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Sm,{}),new Date(N.created_date).toLocaleDateString("ru-RU")]}),e&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qe,{}),"Клиент #",N.user_id]})]})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:L(N.status),children:N.status}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-lg text-accent-blue",children:[N.total_price,"₽"]}),e&&s.jsx("button",{className:"text-xs text-gray-500 hover:text-accent-blue",onClick:()=>{const j=prompt("Новая цена:",N.total_price);j&&!isNaN(j)&&S(N.id,parseFloat(j))},children:"Изменить цену"})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Состав заказа:"}),s.jsx("div",{className:"bg-white p-3 rounded border",children:N.products&&N.products.length>0?s.jsx("div",{className:"space-y-2",children:N.products.map((j,I)=>{var M;return s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:j.name}),s.jsxs("span",{className:"text-gray-600 ml-2",children:["(ID: ",j.id,")"]}),j.selectedSize&&s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[s.jsxs("span",{children:["Размер: ",j.selectedSize.size]}),j.selectedSize.resin_ml&&s.jsxs("span",{children:[" • Смола: ",j.selectedSize.resin_ml,"мл"]}),s.jsxs("span",{children:[" • Цена: ",j.selectedSize.price,"₽"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:["x",j.quantity]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[(((M=j.selectedSize)==null?void 0:M.price)||j.price||0)*j.quantity,"₽"]})]})]},I)})}):s.jsx("p",{className:"text-gray-500",children:"Состав заказа не указан"})})]}),(N.notes||N.admin_notes)&&s.jsxs("div",{className:"mb-4",children:[N.notes&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Примечание клиента:"}),s.jsx("p",{className:"text-sm text-gray-600 bg-white p-2 rounded border mt-1",children:N.notes})]}),N.admin_notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Примечание администратора:"}),s.jsx("p",{className:"text-sm text-gray-600 bg-white p-2 rounded border mt-1",children:N.admin_notes})]})]}),N.assigned_executors&&N.assigned_executors.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Исполнители:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:N.assigned_executors.map((j,I)=>s.jsxs("span",{className:"status-badge status-processing",children:["ID: ",j]},I))})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[s.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:()=>h(N),children:[s.jsx(Sl,{className:"mr-1"}),"Подробнее"]}),s.jsxs("button",{className:"btn btn-accent btn-sm",onClick:()=>O(e?N.user_id:1,N.id),children:[s.jsx(At,{className:"mr-1"}),e?"Чат с клиентом":"Написать администратору"]}),e&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>_(N),children:"Изменить статус"}),s.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>v(N),children:"Назначить исполнителей"})]})]})]},N.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(it,{className:"text-4xl text-red-300 mx-auto mb-4"}),s.jsx("p",{className:"text-red-500",children:"Ошибка загрузки данных заказов"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Некорректный формат ответа сервера"}),s.jsx("button",{className:"btn btn-secondary btn-sm mt-3",onClick:b,children:"Попробовать снова"})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Подробности заказа #",d.id]}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>h(null),children:"✕"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"ID заказа:"})," ",d.id]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Дата:"})," ",new Date(d.created_date).toLocaleString("ru-RU")]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Статус:"})," ",s.jsx("span",{className:L(d.status),children:d.status})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Общая сумма:"})," ",d.total_price,"₽"]}),e&&s.jsxs("div",{children:[s.jsx("strong",{children:"Клиент:"})," #",d.user_id]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Состав заказа:"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded mt-2",children:d.products&&d.products.length>0?s.jsx("div",{className:"space-y-3",children:d.products.map((N,j)=>s.jsxs("div",{className:"border-b pb-2 last:border-b-0",children:[s.jsxs("div",{className:"font-medium",children:[N.name," (ID: ",N.id,")"]}),s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[s.jsxs("div",{children:["Количество: ",N.quantity]}),N.selectedSize&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:["Размер: ",N.selectedSize.size]}),s.jsxs("div",{children:["Цена за единицу: ",N.selectedSize.price,"₽"]}),N.selectedSize.resin_ml&&s.jsxs("div",{children:["Количество смолы: ",N.selectedSize.resin_ml,"мл"]}),s.jsxs("div",{className:"font-medium mt-1",children:["Итого: ",N.selectedSize.price*N.quantity,"₽"]})]})]})]},j))}):s.jsx("p",{className:"text-gray-500",children:"Состав заказа не указан"})})]}),d.notes&&s.jsxs("div",{children:[s.jsx("strong",{children:"Примечание клиента:"}),s.jsx("p",{className:"bg-gray-50 p-3 rounded mt-2",children:d.notes})]}),d.admin_notes&&s.jsxs("div",{children:[s.jsx("strong",{children:"Примечание администратора:"}),s.jsx("p",{className:"bg-gray-50 p-3 rounded mt-2",children:d.admin_notes})]})]})]})})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Изменить статус заказа #",p.id]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Новый статус:"}),s.jsx("select",{className:"input select w-full",defaultValue:p.status,children:x.map(N=>s.jsx("option",{value:N,children:N},N))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn btn-primary flex-1",onClick:N=>{const j=N.target.closest(".p-6").querySelector("select");P(p.id,j.value)},children:"Обновить статус"}),s.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>_(null),children:"Отмена"})]})]})]})})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Назначить исполнителей для заказа #",w.id]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Выберите исполнителей:"}),s.jsx("div",{className:"max-h-40 overflow-y-auto border rounded p-2",children:C.map(N=>{var j;return s.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",defaultChecked:(j=w.assigned_executors)==null?void 0:j.includes(N.id)}),s.jsxs("span",{children:[N.username," (ID: ",N.id,")"]})]},N.id)})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn btn-primary flex-1",onClick:N=>{const j=N.target.closest(".p-6").querySelectorAll('input[type="checkbox"]:checked'),I=Array.from(j).map(M=>{const R=M.closest("label").textContent.match(/ID: (\d+)/);return R?parseInt(R[1]):null}).filter(M=>M!==null);g(w.id,I)},children:"Назначить"}),s.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>v(null),children:"Отмена"})]})]})]})})})]})},mo=({targetUserId:e=null,orderContext:t=null})=>{const[n,r]=k.useState([]),[l,a]=k.useState(""),[i,o]=k.useState([]),[c,u]=k.useState(null),[d,h]=k.useState(!1),[p,_]=k.useState(!1),[w,v]=k.useState(!1),C=k.useRef(null),f=JSON.parse(localStorage.getItem("currentUser")||"{}"),m=f.id===1,x=["😊","😂","😍","👍","👎","❤️","🔥","🎉","😢","😡","🤔","👏"];k.useEffect(()=>{m?b():u(e?{id:e,username:"Администратор",role:"admin"}:{id:1,username:"Администратор",role:"admin"})},[e,m]),k.useEffect(()=>{if(c){console.log("Selected user changed, loading messages for:",c);const j=`chat_messages_${f.id}_${c.id}`,I=localStorage.getItem(j);if(I)try{const y=JSON.parse(I);r(y),console.log("Loaded cached messages:",y.length)}catch(y){console.error("Ошибка парсинга сохраненных сообщений:",y),r([])}else r([]);const M=setTimeout(()=>{E()},100);return t&&a(`Заказ #${t}: `),()=>clearTimeout(M)}},[c,t]),k.useEffect(()=>{console.log("Messages state updated:",{length:n.length,messages:n,selectedUser:c==null?void 0:c.id,loading:d})},[n,c,d]),k.useEffect(()=>{var j;(j=C.current)==null||j.scrollIntoView({behavior:"smooth"})},[n]);const b=async()=>{var j,I;try{const M=await U.get("/api/users",{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Загружены пользователи для чата:",M.data),M.data&&Array.isArray(M.data)){const y=M.data.filter(R=>R.id!==f.id&&R.id&&R.username);console.log("Отфильтровано пользователей:",y.length),o(y)}else console.warn("Некорректный ответ API пользователей:",M.data),o([])}catch(M){console.error("Детальная ошибка загрузки пользователей для чата:",{message:M.message,response:(j=M.response)==null?void 0:j.data,status:(I=M.response)==null?void 0:I.status});try{console.log("Пробуем админский API...");const y=await U.get("/api/admin/users",{timeout:1e4,headers:{"Content-Type":"application/json"}});if(y.data&&Array.isArray(y.data)){const R=y.data.filter(D=>D.id!==f.id&&D.id&&D.username);console.log("Админский API - отфильтровано пользователей:",R.length),o(R)}else console.warn("Админский API вернул некорректные данные"),o([])}catch(y){console.error("Админский API также не удался:",y),o([])}}},E=async()=>{var j,I;if(!c){console.warn("Нет выбранного пользователя для загрузки сообщений");return}try{h(!0),console.log("Загрузка сообщений для пользователя:",c);let M=[];const y=await U.get("/api/chat/messages",{params:{user_id:f.id,with_user_id:c.id,limit:100},timeout:1e4,headers:{"Content-Type":"application/json"}});console.log("Ответ API сообщений:",y.data),y.data&&Array.isArray(y.data)?M=y.data.filter(T=>T&&(T.id||T.message)):(console.warn("API вернул некорректные данные сообщений:",y.data),M=[]);const R=M.map(T=>({id:T.id||`msg_${Date.now()}_${Math.random()}`,content:T.message||T.content||"",created_at:T.created_date||T.created_at||new Date().toISOString(),sender_id:T.from_user_id||T.sender_id||0,receiver_id:T.to_user_id||T.receiver_id||0,sender_name:T.from_username||T.sender_name||(T.from_user_id===f.id?f.username:c.username)})).sort((T,A)=>new Date(T.created_at)-new Date(A.created_at));console.log("Нормализованные сообщения:",R.length),r(R);const D=`chat_messages_${f.id}_${c.id}`;try{localStorage.setItem(D,JSON.stringify(R))}catch(T){console.warn("Не удалось сохранить сообщения в localStorage:",T)}}catch(M){console.error("Детальная ошибка загрузки сообщений:",{message:M.message,response:(j=M.response)==null?void 0:j.data,status:(I=M.response)==null?void 0:I.status,selectedUser:c});const y=`chat_messages_${f.id}_${c.id}`;try{const R=localStorage.getItem(y);if(R){const D=JSON.parse(R);console.log("Загружены кэшированные сообщения:",D.length),r(D)}else console.log("Нет кэшированных сообщений"),r([])}catch(R){console.error("Ошибка загрузки кэшированных сообщений:",R),r([])}}finally{h(!1)}},P=async j=>{if(j.preventDefault(),!l.trim()||!c)return;const I=l.trim();try{const M={from_user_id:f.id,to_user_id:c.id,message:I},y={id:Date.now(),sender_id:f.id,receiver_id:c.id,content:I,sender_name:f.username||"Вы",created_at:new Date().toISOString()};r(D=>{const T=[...D,y],A=`chat_messages_${f.id}_${c.id}`;return localStorage.setItem(A,JSON.stringify(T)),T}),a(""),_(!1);const R=await U.post("/api/chat",M);if(R.data&&R.data.data){const D={...R.data.data,content:R.data.data.message||R.data.data.content,created_at:R.data.data.created_date||new Date().toISOString(),sender_name:R.data.data.from_username||f.username,sender_id:R.data.data.from_user_id,receiver_id:R.data.data.to_user_id};r(T=>{const A=T.map(B=>B.id===y.id?D:B),$=`chat_messages_${f.id}_${c.id}`;return localStorage.setItem($,JSON.stringify(A)),A})}}catch(M){console.error("Ошибка отправки сообщения:",M),r(y=>{const R=y.filter(T=>T.id!==(tempMessage==null?void 0:tempMessage.id)),D=`chat_messages_${f.id}_${c.id}`;return localStorage.setItem(D,JSON.stringify(R)),R}),a(I),alert("Ошибка при отправке сообщения")}},S=j=>{u(j),v(!1)},g=j=>{a(I=>I+j),_(!1)},O=j=>{switch(j){case"admin":return s.jsx(Ux,{className:"text-accent-blue"});case"executor":return s.jsx(km,{className:"text-gray-600"});default:return s.jsx(qe,{className:"text-gray-500"})}},L=j=>({admin:"Администратор",executor:"Исполнитель",buyer:"Покупатель"})[j]||j,N=j=>new Date(j).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"chat-wrapper",children:[s.jsxs("div",{className:"chat-header",children:[s.jsx("h1",{className:"chat-title",children:m?"Чат с клиентами":"Чат с администратором"}),m&&s.jsx("button",{className:"mobile-users-btn",onClick:()=>v(!w),children:w?s.jsx(qr,{}):s.jsx(bl,{})})]}),s.jsxs("div",{className:"chat-container",children:[m&&s.jsxs("div",{className:`users-panel ${w?"mobile-users-open":""}`,children:[s.jsx("div",{className:"users-header",children:s.jsx("h2",{className:"users-title",children:"Пользователи"})}),s.jsx("div",{className:"users-list",children:i.length===0?s.jsx("div",{className:"no-users",children:"Нет доступных пользователей"}):s.jsx("div",{className:"users-scroll",children:i.map(j=>s.jsx("div",{className:`user-item ${(c==null?void 0:c.id)===j.id?"user-selected":""}`,onClick:()=>S(j),children:s.jsxs("div",{className:"user-content",children:[j.avatar?s.jsx("img",{src:j.avatar,alt:j.username,className:"user-avatar"}):s.jsx("div",{className:"user-avatar-placeholder",children:O(j.role)}),s.jsxs("div",{className:"user-info",children:[s.jsx("div",{className:"user-name",children:j.username}),s.jsxs("div",{className:"user-details",children:["ID: ",j.id," • ",L(j.role)]})]})]})},j.id))})})]}),s.jsxs("div",{className:"chat-main",children:[s.jsx("div",{className:"chat-user-header",children:c?s.jsxs("div",{className:"selected-user-info",children:[s.jsx("div",{className:"selected-user-avatar",children:O(c.role)}),s.jsxs("div",{className:"selected-user-details",children:[s.jsx("h2",{className:"selected-user-name",children:c.username}),s.jsx("div",{className:"selected-user-role",children:L(c.role)})]})]}):s.jsx("h2",{className:"no-user-selected",children:"Выберите пользователя"})}),c&&s.jsxs("div",{className:"chat-content",children:[s.jsx("div",{className:"messages-container",children:d?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{className:"loading-text",children:"Загрузка сообщений..."})]}):s.jsxs("div",{className:"messages-list",children:[n.length===0?s.jsxs("div",{className:"empty-messages",children:[s.jsx("i",{className:"fas fa-comment-dots empty-icon"}),s.jsx("p",{className:"empty-text",children:m?"Нет сообщений с этим пользователем":"Нет сообщений. Начните диалог!"}),s.jsx("small",{className:"empty-subtext",children:m?"Начните диалог, отправив первое сообщение":"Администратор отвечает на сообщения в рабочее время"})]}):n.map(j=>{var T,A;if(!j||typeof j!="object")return console.warn("Некорректное сообщение:",j),null;const I=j.id||`msg-${Math.random()}`,M=j.sender_id||j.from_user_id||0,y=j.content||j.message||"";j.sender_name||j.from_username;const R=j.created_at||j.created_date||new Date().toISOString(),D=M===f.id;return s.jsxs("div",{className:`message ${D?"message-sent":"message-received"}`,children:[s.jsx("div",{className:"message-avatar",children:D?((T=f.username)==null?void 0:T.charAt(0).toUpperCase())||"U":m?((A=c==null?void 0:c.username)==null?void 0:A.charAt(0).toUpperCase())||"?":"A"}),s.jsxs("div",{className:"message-content",children:[s.jsx("div",{className:"message-text",children:y}),s.jsx("div",{className:"message-time",children:N(R)})]})]},I)}),s.jsx("div",{ref:C})]})}),s.jsx("div",{className:"message-input-container",children:s.jsxs("form",{onSubmit:P,className:"message-form",children:[s.jsxs("div",{className:"input-wrapper",children:[s.jsx("textarea",{className:"message-input",placeholder:"Введите сообщение...",value:l,onChange:j=>a(j.target.value),rows:2,onKeyDown:j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),P(j))}}),s.jsx("button",{type:"button",className:"emoji-btn",onClick:()=>_(!p),children:s.jsx(Mx,{})}),p&&s.jsx("div",{className:"emoji-picker",children:x.map((j,I)=>s.jsx("button",{type:"button",className:"emoji-item",onClick:()=>g(j),children:j},I))})]}),s.jsx("button",{type:"submit",className:"send-btn",disabled:!l.trim(),children:s.jsx(Tx,{})})]})})]}),!c&&!m&&s.jsxs("div",{className:"no-chat-state",children:[s.jsx(qe,{className:"no-chat-icon"}),s.jsx("p",{className:"no-chat-text",children:"Чат с администратором будет доступен после входа в систему"})]})]})]}),c&&s.jsxs("div",{className:"quick-phrases",children:[s.jsx("div",{className:"quick-phrases-title",children:"Быстрые фразы:"}),s.jsx("div",{className:"quick-phrases-list",children:["Здравствуйте!","Спасибо за помощь","Есть вопрос по заказу","Когда будет готово?","Всё понятно"].map((j,I)=>s.jsx("button",{className:"quick-phrase-btn",onClick:()=>a(j),children:j},I))})]}),s.jsx("style",{jsx:!0,children:`
        .chat-wrapper {
          display: flex;
          flex-direction: column;
          height: calc(100vh - 100px);
          max-width: 1200px;
          margin: 0 auto;
          padding: 1rem;
        }

        .chat-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
          padding: 0 0.5rem;
        }

        .chat-title {
          font-size: 1.5rem;
          font-weight: bold;
          color: #000;
          margin: 0;
        }

        .mobile-users-btn {
          display: none;
          background: var(--accent-blue);
          color: white;
          border: none;
          padding: 0.5rem;
          border-radius: 0.25rem;
          cursor: pointer;
        }

        .chat-container {
          display: grid;
          grid-template-columns: 300px 1fr;
          gap: 1rem;
          height: 100%;
          background: white;
          border-radius: 0.5rem;
          overflow: hidden;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .users-panel {
          border-right: 1px solid #e0e0e0;
          display: flex;
          flex-direction: column;
          background: #f9f9f9;
        }

        .users-header {
          padding: 1rem;
          border-bottom: 1px solid #e0e0e0;
          background: white;
        }

        .users-title {
          font-size: 1.125rem;
          font-weight: 600;
          margin: 0;
          color: #000;
        }

        .users-list {
          flex: 1;
          overflow: hidden;
        }

        .no-users {
          padding: 2rem 1rem;
          text-align: center;
          color: #666;
        }

        .users-scroll {
          height: 100%;
          overflow-y: auto;
        }

        .user-item {
          padding: 1rem;
          border-bottom: 1px solid #e0e0e0;
          cursor: pointer;
          transition: background-color 0.2s;
          background: white;
        }

        .user-item:hover {
          background-color: #f0f0f0;
        }

        .user-selected {
          background-color: rgba(26, 54, 93, 0.1) !important;
          border-left: 4px solid var(--accent-blue);
        }

        .user-content {
          display: flex;
          gap: 0.75rem;
          align-items: center;
        }

        .user-avatar, .user-avatar-placeholder {
          width: 2.5rem;
          height: 2.5rem;
          border-radius: 50%;
          object-fit: cover;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #e0e0e0;
        }

        .user-info {
          flex: 1;
        }

        .user-name {
          font-weight: 500;
          color: #000;
          margin-bottom: 0.25rem;
        }

        .user-details {
          font-size: 0.875rem;
          color: #666;
        }

        .chat-main {
          display: flex;
          flex-direction: column;
          height: 100%;
        }

        .chat-user-header {
          padding: 1rem;
          border-bottom: 1px solid #e0e0e0;
          background: white;
        }

        .selected-user-info {
          display: flex;
          gap: 0.75rem;
          align-items: center;
        }

        .selected-user-avatar {
          width: 2rem;
          height: 2rem;
          border-radius: 50%;
          background: #e0e0e0;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .selected-user-name {
          font-size: 1.125rem;
          font-weight: 600;
          margin: 0;
          color: #000;
        }

        .selected-user-role {
          font-size: 0.875rem;
          color: #666;
        }

        .no-user-selected {
          font-size: 1.125rem;
          font-weight: 600;
          margin: 0;
          color: #666;
        }

        .chat-content {
          display: flex;
          flex-direction: column;
          flex: 1;
        }

        .messages-container {
          flex: 1;
          overflow-y: auto;
          padding: 1rem;
          background: #f9f9f9;
        }

        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
        }

        .loading-spinner {
          width: 2rem;
          height: 2rem;
          border: 3px solid #e0e0e0;
          border-top: 3px solid var(--accent-blue);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 1rem;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .loading-text {
          color: #666;
          margin: 0;
        }

        .messages-list {
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }

        .empty-messages {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
          text-align: center;
          padding: 2rem;
        }

        .empty-icon {
          font-size: 3rem;
          color: #ddd;
          margin-bottom: 1rem;
        }

        .empty-text {
          color: #666;
          margin: 0 0 0.5rem 0;
        }

        .empty-subtext {
          color: #999;
          font-size: 0.875rem;
        }

        .message {
          display: flex;
          gap: 0.5rem;
          align-items: flex-start;
          max-width: 70%;
        }

        .message-sent {
          margin-left: auto;
          flex-direction: row-reverse;
        }

        .message-received {
          margin-right: auto;
        }

        .message-avatar {
          width: 2rem;
          height: 2rem;
          border-radius: 50%;
          background: var(--accent-blue);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 0.75rem;
          font-weight: bold;
          flex-shrink: 0;
        }

        .message-content {
          background: white;
          padding: 0.75rem;
          border-radius: 1rem;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .message-sent .message-content {
          background: var(--accent-blue);
          color: white;
        }

        .message-text {
          margin-bottom: 0.25rem;
          word-wrap: break-word;
        }

        .message-time {
          font-size: 0.75rem;
          opacity: 0.7;
        }

        .message-input-container {
          padding: 1rem;
          background: white;
          border-top: 1px solid #e0e0e0;
        }

        .message-form {
          display: flex;
          gap: 0.5rem;
          align-items: flex-end;
        }

        .input-wrapper {
          position: relative;
          flex: 1;
        }

        .message-input {
          width: 100%;
          padding: 0.75rem;
          border: 1px solid #ddd;
          border-radius: 1rem;
          resize: none;
          outline: none;
          font-family: inherit;
        }

        .message-input:focus {
          border-color: var(--accent-blue);
        }

        .emoji-btn {
          position: absolute;
          bottom: 0.5rem;
          right: 0.5rem;
          background: none;
          border: none;
          color: #666;
          cursor: pointer;
          padding: 0.25rem;
          border-radius: 50%;
          transition: background-color 0.2s;
        }

        .emoji-btn:hover {
          background: #f0f0f0;
        }

        .emoji-picker {
          position: absolute;
          bottom: 100%;
          right: 0;
          background: white;
          border: 1px solid #ddd;
          border-radius: 0.5rem;
          padding: 0.5rem;
          display: grid;
          grid-template-columns: repeat(6, 1fr);
          gap: 0.25rem;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .emoji-item {
          background: none;
          border: none;
          font-size: 1.25rem;
          padding: 0.25rem;
          cursor: pointer;
          border-radius: 0.25rem;
          transition: background-color 0.2s;
        }

        .emoji-item:hover {
          background: #f0f0f0;
        }

        .send-btn {
          background: var(--accent-blue);
          color: white;
          border: none;
          padding: 0.75rem;
          border-radius: 50%;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: background-color 0.2s;
          min-width: 3rem;
          height: 3rem;
        }

        .send-btn:hover:not(:disabled) {
          background: var(--accent-blue-hover);
        }

        .send-btn:disabled {
          background: #ccc;
          cursor: not-allowed;
        }

        .no-chat-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100%;
          padding: 2rem;
          text-align: center;
        }

        .no-chat-icon {
          font-size: 4rem;
          color: #ddd;
          margin-bottom: 1rem;
        }

        .no-chat-text {
          color: #666;
          margin: 0;
        }

        .quick-phrases {
          margin-top: 1rem;
          padding: 1rem;
          background: #f9f9f9;
          border-radius: 0.5rem;
        }

        .quick-phrases-title {
          font-size: 0.875rem;
          color: #666;
          margin-bottom: 0.5rem;
        }

        .quick-phrases-list {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
        }

        .quick-phrase-btn {
          background: white;
          border: 1px solid #ddd;
          padding: 0.25rem 0.75rem;
          border-radius: 1rem;
          font-size: 0.75rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .quick-phrase-btn:hover {
          background: #f0f0f0;
          border-color: var(--accent-blue);
        }

        /* Мобильные стили */
        @media (max-width: 768px) {
          .chat-wrapper {
            padding: 0.5rem;
            height: calc(100vh - 60px);
          }

          .chat-header {
            margin-bottom: 0.5rem;
          }

          .chat-title {
            font-size: 1.125rem;
          }

          .mobile-users-btn {
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .chat-container {
            grid-template-columns: 1fr;
            position: relative;
          }

          .users-panel {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            border-right: none;
          }

          .mobile-users-open {
            transform: translateX(0);
          }

          .users-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
          }

          .message {
            max-width: 85%;
          }

          .message-avatar {
            width: 1.75rem;
            height: 1.75rem;
            font-size: 0.625rem;
          }

          .message-content {
            padding: 0.5rem 0.75rem;
          }

          .message-text {
            font-size: 0.875rem;
          }

          .message-time {
            font-size: 0.6875rem;
          }

          .message-input-container {
            padding: 0.75rem;
          }

          .message-input {
            padding: 0.5rem 2.5rem 0.5rem 0.75rem;
            font-size: 1rem;
          }

          .send-btn {
            min-width: 2.5rem;
            height: 2.5rem;
            padding: 0.5rem;
          }

          .quick-phrases {
            display: none;
          }

          .emoji-picker {
            grid-template-columns: repeat(4, 1fr);
            left: 50%;
            transform: translateX(-50%);
            right: auto;
          }

          .selected-user-name {
            font-size: 1rem;
          }

          .users-title {
            font-size: 1rem;
          }

          .user-item {
            padding: 0.75rem;
          }

          .user-avatar,
          .user-avatar-placeholder {
            width: 2rem;
            height: 2rem;
          }

          .user-name {
            font-size: 0.875rem;
          }

          .user-details {
            font-size: 0.75rem;
          }
        }

        @media (max-width: 480px) {
          .chat-wrapper {
            padding: 0.25rem;
          }

          .chat-title {
            font-size: 1rem;
          }

          .message {
            max-width: 90%;
          }

          .message-content {
            padding: 0.5rem;
          }

          .message-input {
            font-size: 16px; /* Предотвращает зум на iOS */
          }

          .emoji-picker {
            grid-template-columns: repeat(3, 1fr);
          }
        }

        /* Переменные CSS */
        :root {
          --accent-blue: #1a365d;
          --accent-blue-hover: #2c5282;
        }
      `})]})},Dr=({productId:e="",onClose:t})=>{const[n,r]=k.useState({product_name:"",model_links:[""],additional_name:"",required_heights:[""],images:[],product_id:e||""}),[l,a]=k.useState(!1),[i,o]=k.useState([]),[c,u]=k.useState([]),[d,h]=k.useState(!!e);k.useEffect(()=>{JSON.parse(localStorage.getItem("currentUser")||"{}").id&&p()},[]);const p=async()=>{try{const S=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!S.id||!S.role){console.warn("Недостаточно данных пользователя для загрузки заявок"),u([]);return}const g=await U.get(`/api/custom-requests?user_id=${S.id}&role=${S.role}`);g.data&&Array.isArray(g.data)?u(g.data):(console.warn("Некорректный ответ от сервера:",g.data),u([]))}catch(S){console.error("Ошибка загрузки заявок:",S),u([])}},_=S=>{const{name:g,value:O}=S.target;r(L=>({...L,[g]:O}))},w=(S,g,O)=>{r(L=>({...L,[g]:L[g].map((N,j)=>j===S?O:N)}))},v=S=>{if(S==="model_links"&&n.model_links.length>=5){alert("Максимум 5 ссылок на модели");return}if(S==="required_heights"&&n.required_heights.length>=5){alert("Максимум 5 размеров высоты");return}r(g=>({...g,[S]:[...g[S],""]}))},C=(S,g)=>{n[S].length<=1||r(O=>({...O,[S]:O[S].filter((L,N)=>N!==g)}))},f=S=>{const g=Array.from(S.target.files);if(g.length>3){alert("Максимум 3 изображения");return}if(g.filter(N=>N.size>5*1024*1024).length>0){alert("Максимальный размер файла: 5MB");return}r(N=>({...N,images:g}));const L=g.map(N=>URL.createObjectURL(N));o(L)},m=async S=>{if(S.preventDefault(),!n.product_name.trim()){alert("Укажите название товара");return}const g=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!g.id){alert("Необходимо войти в систему");return}try{a(!0);const O=new FormData;O.append("user_id",g.id),O.append("product_name",n.product_name),O.append("additional_name",n.additional_name),O.append("product_id",n.product_id);const L=n.model_links.filter(j=>j.trim()),N=n.required_heights.filter(j=>j.trim());O.append("model_links",JSON.stringify(L)),O.append("required_heights",JSON.stringify(N)),n.images.forEach((j,I)=>{O.append("images",j)}),await U.post("/api/custom-requests",O,{headers:{"Content-Type":"multipart/form-data"}}),alert("Заявка на замер успешно отправлена"),r({product_name:"",model_links:[""],additional_name:"",required_heights:[""],images:[],product_id:""}),o([]),h(!1),p(),t&&t()}catch(O){console.error("Ошибка отправки заявки:",O),alert("Ошибка при отправке заявки")}finally{a(!1)}},x=S=>`status-badge ${{"в обработке":"status-processing",ожидает:"status-created",отказано:"status-cancelled",выполнен:"status-completed"}[S]||"status-created"}`,b=JSON.parse(localStorage.getItem("currentUser")||"{}"),E=b.id===1,P=async(S,g,O="")=>{var L,N,j;if(!S||!g){alert("Некорректные данные для обновления статуса");return}if(!b.id||b.id!==1){alert("Недостаточно прав для изменения статуса");return}try{a(!0),console.log("Обновление статуса заявки:",S,g);const I={status:g};O&&O.trim()&&(I.admin_notes=O.trim());const M=await U.put(`/api/custom-requests/${S}`,I,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера на обновление статуса:",M.status,M.data),M.status===200)alert("Статус заявки обновлен"),p();else throw new Error(`Неожиданный статус ответа: ${M.status}`)}catch(I){console.error("Детальная ошибка обновления статуса:",{message:I.message,response:(L=I.response)==null?void 0:L.data,status:(N=I.response)==null?void 0:N.status,requestId:S,newStatus:g});let M="Ошибка при обновлении статуса";I.response?I.response.status===404?M="Заявка не найдена":I.response.status===403?M="Недостаточно прав для изменения статуса":(j=I.response.data)!=null&&j.error&&(M=I.response.data.error):I.code==="ECONNABORTED"&&(M="Превышено время ожидания обновления"),alert(M)}finally{a(!1)}};return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:E?"Управление заявками на замер":"Заявки на замер"}),!E&&s.jsx("button",{className:"btn btn-accent",onClick:()=>h(!d),children:d?"Скрыть форму":"Подать заявку на замер"})]}),d&&!E&&s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Новая заявка на замер"})}),s.jsx("div",{className:"card-body",children:s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Название товара *"}),s.jsx("input",{type:"text",name:"product_name",className:"input w-full",value:n.product_name,onChange:_,placeholder:"Введите название товара",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Дополнительное название"}),s.jsx("input",{type:"text",name:"additional_name",className:"input w-full",value:n.additional_name,onChange:_,placeholder:"Дополнительная информация о товаре"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"ID существующего товара (необязательно)"}),s.jsx("input",{type:"text",name:"product_id",className:"input w-full",value:n.product_id,onChange:_,placeholder:"Если есть похожий товар в каталоге"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ссылки на модель или сайт"}),n.model_links.map((S,g)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"url",className:"input flex-1",value:S,onChange:O=>w(g,"model_links",O.target.value),placeholder:"https://example.com/model"}),n.model_links.length>1&&s.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>C("model_links",g),children:"Удалить"})]},g)),n.model_links.length<5&&s.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>v("model_links"),children:"Добавить ссылку"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Нужная высота"}),n.required_heights.map((S,g)=>s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",className:"input flex-1",value:S,onChange:O=>w(g,"required_heights",O.target.value),placeholder:"Например: 15 см, 20 см"}),n.required_heights.length>1&&s.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>C("required_heights",g),children:"Удалить"})]},g)),n.required_heights.length<5&&s.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>v("required_heights"),children:"Добавить размер"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Изображения (максимум 3, до 5MB каждое)"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:f,className:"input w-full"}),i.length>0&&s.jsx("div",{className:"flex gap-4 mt-4",children:i.map((S,g)=>s.jsx("div",{className:"relative",children:s.jsx("img",{src:S,alt:`Превью ${g+1}`,className:"w-24 h-24 object-cover rounded border"})},g))})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Отправка...":"Отправить заявку"}),s.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>h(!1),children:"Отмена"})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:E?"Все заявки на замер":"Мои заявки на замер"})}),s.jsx("div",{className:"card-body",children:c.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:E?"Нет заявок на замер":"У вас пока нет заявок на замер"}):s.jsx("div",{className:"space-y-4",children:c.map(S=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-black",children:S.product_name}),S.additional_name&&s.jsx("p",{className:"text-sm text-gray-600",children:S.additional_name}),E&&S.User&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Пользователь: ",S.User.username," (ID: ",S.user_id,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:x(S.status),children:S.status}),E&&s.jsx("div",{className:"flex gap-1",children:s.jsxs("select",{className:"text-xs p-1 border rounded",value:S.status,onChange:g=>{g.target.value!==S.status&&P(S.id,g.target.value)},disabled:l,children:[s.jsx("option",{value:"в обработке",children:"В обработке"}),s.jsx("option",{value:"ожидает",children:"Ожидает"}),s.jsx("option",{value:"выполнен",children:"Выполнен"}),s.jsx("option",{value:"отказано",children:"Отказано"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"ID заявки:"})," ",S.id]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Дата:"})," ",new Date(S.created_date).toLocaleDateString("ru-RU")]}),E&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Пользователь:"})," ID ",S.user_id]}),S.product_id&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"ID товара:"})," ",S.product_id]}),S.required_heights&&(()=>{try{const g=JSON.parse(S.required_heights||"[]");return g.length>0?s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Размеры:"})," ",g.join(", ")]}):null}catch(g){return console.error("Ошибка парсинга размеров:",g),null}})()]}),(S.admin_notes||E)&&s.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Примечание администратора:"}),E?s.jsx("textarea",{className:"w-full mt-1 p-2 border rounded text-sm",placeholder:"Добавить примечание...",defaultValue:S.admin_notes||"",onBlur:g=>{const O=g.target.value.trim(),L=(S.admin_notes||"").trim();O!==L&&P(S.id,S.status,O)},rows:2,disabled:l}):s.jsx("p",{className:"text-gray-600 mt-1",children:S.admin_notes})]}),S.model_links&&(()=>{try{const g=JSON.parse(S.model_links||"[]");return g.length>0?s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{className:"font-medium text-gray-700 block mb-1",children:"Ссылки на модели:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((O,L)=>s.jsxs("a",{href:O,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-accent-blue text-white px-2 py-1 rounded hover:bg-accent-blue-hover",children:["Ссылка ",L+1]},L))})]}):null}catch(g){return console.error("Ошибка парсинга ссылок:",g),null}})(),S.images&&(()=>{try{const g=JSON.parse(S.images||"[]");return g.length>0?s.jsxs("div",{className:"mt-3",children:[s.jsx("span",{className:"font-medium text-gray-700 block mb-2",children:"Изображения:"}),s.jsx("div",{className:"flex gap-2",children:g.map((O,L)=>s.jsx("img",{src:O,alt:`Изображение ${L+1}`,className:"w-16 h-16 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(O,"_blank"),onError:N=>{N.target.style.display="none",console.error("Ошибка загрузки изображения:",O)}},L))})]}):null}catch(g){return console.error("Ошибка парсинга изображений:",g),null}})()]},S.id))})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white p-6 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-2"}),s.jsx("p",{children:"Отправка заявки..."})]})})})]})},Qc=()=>{const[e,t]=k.useState("catalog"),[n,r]=k.useState(null),[l,a]=k.useState([]),[i,o]=k.useState([]),[c,u]=k.useState(""),[d,h]=k.useState("name"),[p,_]=k.useState(!1),[w,v]=k.useState([]),[C,f]=k.useState([]),[m,x]=k.useState([]),[b,E]=k.useState(!1),[P,S]=k.useState(""),[g,O]=k.useState(!1);k.useEffect(()=>{const H=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!H.id||H.role!=="buyer"){window.location.href="#/login";return}r(H),L(),N(),j();const J=ae=>{S(ae.detail.productId),E(!0),t("custom-requests")},K=()=>{N(),D()};return window.addEventListener("openCustomRequest",J),window.addEventListener("favoriteUpdated",K),()=>{window.removeEventListener("openCustomRequest",J),window.removeEventListener("favoriteUpdated",K)}},[]),k.useEffect(()=>{n!=null&&n.id&&l.length>0&&D()},[n,l]);const L=async(H="",J="name")=>{try{_(!0);const K=new URLSearchParams;H&&H.trim()&&(K.append("search",H.trim()),K.append("filter",J));const ae=await U.get(`/api/products?${K.toString()}`);a(ae.data),o(ae.data)}catch(K){console.error("Ошибка загрузки товаров:",K),a([]),o([])}finally{_(!1)}},N=async()=>{if(n!=null&&n.id)try{const H=JSON.parse(localStorage.getItem(`favorites_${n.id}`)||"[]");v(H);try{const J=await U.get(`/api/favorites/${n.id}`);if(J.data&&Array.isArray(J.data)){const K=J.data.map(ae=>ae.product_id||ae.id);localStorage.setItem(`favorites_${n.id}`,JSON.stringify(K)),v(K)}}catch{console.log("Используем локальные данные избранного")}}catch(H){console.error("Ошибка загрузки избранного:",H),v([])}},j=async()=>{if(n!=null&&n.id)try{const[H,J,K]=await Promise.all([U.get(`/api/chat?user_id=${n.id}`),U.get(`/api/orders?user_id=${n.id}&role=${n.role}`),U.get(`/api/custom-requests?user_id=${n.id}&role=${n.role}`)]),ae=H.data.filter(wt=>new Date(wt.created_date)>new Date(Date.now()-24*60*60*1e3)&&wt.to_user_id===n.id).length,Nt=J.data.filter(wt=>new Date(wt.updated_date||wt.created_date)>new Date(Date.now()-24*60*60*1e3)).length,fo=K.data.filter(wt=>new Date(wt.updated_date||wt.created_date)>new Date(Date.now()-24*60*60*1e3)).length,Xr=[];ae>0&&Xr.push(`${ae} новых сообщений`),Nt>0&&Xr.push(`${Nt} изменений в заказах`),fo>0&&Xr.push(`${fo} изменений в заявках`),x(Xr)}catch(H){console.error("Ошибка загрузки уведомлений:",H)}},I=H=>{H.preventDefault(),L(c,d)},M=(H,J,K)=>{if(!J||!J.trim())return H;const ae=J.toLowerCase().trim();return H.filter(Nt=>{switch(K){case"description":return Nt.description&&Nt.description.toLowerCase().includes(ae);case"id":return Nt.id.toString()===ae;case"name":default:return Nt.name&&Nt.name.toLowerCase().includes(ae)}})},y=H=>{if(u(H),H.trim()==="")o(l);else{const J=M(l,H,d);o(J)}},R=H=>{if(h(H),c.trim()!==""){const J=M(l,c,H);o(J)}},D=async()=>{if(n!=null&&n.id)try{const H=await U.get(`/api/favorites/${n.id}`);if(H.data&&Array.isArray(H.data)){const J=H.data.map(K=>({...K,price_options:K.price_options?typeof K.price_options=="string"?JSON.parse(K.price_options):K.price_options:[],additional_images:K.additional_images?typeof K.additional_images=="string"?JSON.parse(K.additional_images):K.additional_images:[],is_favorite:!0}));console.log("Загружены избранные товары:",J),f(J)}}catch(H){console.error("Ошибка загрузки избранных товаров:",H);try{const J=JSON.parse(localStorage.getItem(`favorites_${n.id}`)||"[]");if(J.length>0&&l.length>0){const K=l.filter(ae=>J.includes(ae.id));f(K)}}catch(J){console.error("Fallback также не удался:",J),f([])}}},T=()=>C.length>0?C:w.length>0&&l.length>0?l.filter(H=>w.includes(H.id)):[],A=H=>{j(),N(),D()},$=()=>{u(""),o(l)},B=()=>{O(!1)},W=H=>{t(H),B()},be=()=>{switch(e){case"catalog":return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-4 lg:mb-6 gap-3 lg:gap-0",children:[s.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-black",children:"Каталог товаров"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[s.jsxs("form",{onSubmit:I,className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("select",{className:"input select w-full sm:w-auto",value:d,onChange:J=>R(J.target.value),children:[s.jsx("option",{value:"name",children:"По названию"}),s.jsx("option",{value:"description",children:"По описанию"}),s.jsx("option",{value:"id",children:"По ID"})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Поиск товаров...",className:"input pl-10 w-full",value:c,onChange:J=>y(J.target.value)}),c&&s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:$,children:"✕"})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",children:"Найти"})]}),s.jsx("button",{className:"btn btn-accent w-full sm:w-auto",onClick:()=>E(!0),children:"Подать заявку на замер"})]})]}),c&&s.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded border",children:s.jsxs("div",{className:"text-sm text-gray-600",children:["Поиск по ",d==="name"?"названию":d==="description"?"описанию":"ID",":",s.jsxs("span",{className:"font-medium ml-1",children:['"',c,'"']}),s.jsxs("span",{className:"ml-2",children:["Найдено: ",i.length," из ",l.length," товаров"]}),s.jsx("button",{className:"ml-3 text-accent-blue hover:underline",onClick:$,children:"Очистить"})]})}),p?s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 lg:h-8 lg:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Загрузка товаров..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:c?"Товары не найдены по вашему запросу":"Товары не найдены"}),c&&s.jsx("button",{className:"btn btn-ghost mt-4",onClick:$,children:"Показать все товары"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 lg:gap-6",children:i.map(J=>s.jsx(Mr,{product:J,onAddToCart:A,showCustomRequest:!0},J.id))})]});case"cart":return s.jsx(Zm,{});case"profile":return s.jsx(co,{});case"orders":return s.jsx(uo,{});case"custom-requests":return s.jsx(Dr,{productId:P,onClose:()=>{E(!1),S("")}});case"chat":return s.jsx(mo,{});case"favorites":const H=T();return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 lg:mb-6 gap-3 sm:gap-0",children:[s.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-black",children:"Избранные товары"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[H.length," товаров в избранном"]})]}),p?s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 lg:h-8 lg:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Загрузка избранных товаров..."})]}):H.length===0?s.jsxs("div",{className:"text-center py-8 lg:py-12",children:[s.jsx($t,{className:"text-4xl lg:text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Нет избранных товаров"}),s.jsx("p",{className:"text-xs lg:text-sm text-gray-400 mt-2",children:"Добавляйте товары в избранное, нажимая на сердечко"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 lg:gap-6",children:H.map(J=>s.jsx(Mr,{product:J,onAddToCart:A,showCustomRequest:!0},J.id))})]});default:return s.jsx("div",{children:"Страница не найдена"})}};return n?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"nav shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6",children:[s.jsxs("div",{className:"flex justify-between items-center h-14 lg:h-16",children:[s.jsxs("div",{className:"flex items-center gap-4 lg:gap-8",children:[s.jsxs("div",{className:"header-logo-container",children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/fb4e11b1-32cb-4ee9-a6b8-90711522901e_1759499694999.jpg",alt:"NIGHTINGALE EMPIRE Logo",className:"logo-image"}),s.jsx("h1",{className:"text-base lg:text-xl font-bold text-white",children:"NIGHTINGALE EMPIRE"})]}),s.jsxs("div",{className:"hidden lg:flex gap-1",children:[s.jsxs("button",{className:`nav-link ${e==="catalog"?"active":""}`,onClick:()=>t("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon"}),"Каталог"]}),s.jsxs("button",{className:`nav-link ${e==="cart"?"active":""}`,onClick:()=>t("cart"),children:[s.jsx(Re,{className:"mr-2"}),"Корзина"]}),s.jsxs("button",{className:`nav-link ${e==="orders"?"active":""}`,onClick:()=>t("orders"),children:[s.jsx(it,{className:"mr-2"}),"Заказы"]}),s.jsxs("button",{className:`nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>t("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon"}),"Заявки на замер"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 lg:gap-4",children:[m.length>0&&s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"text-white text-base lg:text-lg"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 lg:w-5 lg:h-5 flex items-center justify-center",children:m.length})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link ${e==="favorites"?"active":""}`,onClick:()=>t("favorites"),children:[s.jsx($t,{className:"mr-2"}),"Избранное"]}),s.jsxs("button",{className:`nav-link ${e==="chat"?"active":""}`,onClick:()=>t("chat"),children:[s.jsx(At,{className:"mr-2"}),"Чат"]}),s.jsxs("button",{className:`nav-link ${e==="profile"?"active":""}`,onClick:()=>t("profile"),children:[s.jsx(qe,{className:"mr-2"}),"Профиль"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.avatar&&s.jsx("img",{src:n.avatar,alt:"Avatar",className:"w-6 h-6 lg:w-8 lg:h-8 rounded-full object-cover"}),s.jsxs("div",{className:"text-xs lg:text-sm hidden sm:block",children:[s.jsx("div",{className:"font-medium",children:n.username}),s.jsx("div",{className:"text-xs text-gray-300",children:"Покупатель"})]})]}),s.jsx("button",{className:"lg:hidden text-white p-2",onClick:()=>O(!g),children:g?s.jsx(qr,{}):s.jsx(bl,{})}),s.jsx("button",{className:"btn btn-ghost text-white hover:bg-gray-800 text-xs lg:text-sm px-2 lg:px-4",onClick:()=>{localStorage.removeItem("currentUser"),window.location.href="#/login"},children:"Выход"})]})]}),g&&s.jsx("div",{className:"lg:hidden bg-gray-800 mt-2 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[s.jsxs("button",{className:`mobile-nav-link ${e==="catalog"?"active":""}`,onClick:()=>W("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon mr-3"}),"Каталог"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="cart"?"active":""}`,onClick:()=>W("cart"),children:[s.jsx(Re,{className:"mr-3"}),"Корзина"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="orders"?"active":""}`,onClick:()=>W("orders"),children:[s.jsx(it,{className:"mr-3"}),"Заказы"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>W("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon mr-3"}),"Заявки на замер"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="favorites"?"active":""}`,onClick:()=>W("favorites"),children:[s.jsx($t,{className:"mr-3"}),"Избранное"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="chat"?"active":""}`,onClick:()=>W("chat"),children:[s.jsx(At,{className:"mr-3"}),"Чат"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="profile"?"active":""}`,onClick:()=>W("profile"),children:[s.jsx(qe,{className:"mr-3"}),"Профиль"]})]})})]})}),m.length>0&&s.jsx("div",{className:"bg-accent-blue bg-opacity-10 border-b border-accent-blue",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-2 lg:py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(on,{className:"text-accent-blue flex-shrink-0"}),s.jsx("div",{className:"text-xs lg:text-sm text-accent-blue",children:s.jsx("div",{className:"truncate",children:m.join(", ")})})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-4 lg:py-8",children:be()}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-4 lg:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold",children:"Подача заявки на замер"}),s.jsx("button",{className:"btn btn-ghost p-2",onClick:()=>{E(!1),S("")},children:"✕"})]}),s.jsx(Dr,{productId:P,onClose:()=>{E(!1),S("")}})]})})}),s.jsx("style",{jsx:!0,children:`
        .mobile-nav-link {
          display: flex;
          align-items: center;
          padding: 12px 16px;
          color: white;
          text-decoration: none;
          border-radius: 6px;
          transition: background-color 0.2s;
          font-size: 14px;
          width: 100%;
          text-align: left;
          background: none;
          border: none;
          cursor: pointer;
        }
        
        .mobile-nav-link:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .mobile-nav-link.active {
          background-color: var(--accent-blue);
        }
      `})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 lg:h-8 lg:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"Загрузка..."})]})})},S0=()=>{var M;const[e,t]=k.useState([]),[n,r]=k.useState(!1),[l,a]=k.useState(""),[i,o]=k.useState(!1),[c,u]=k.useState(null),[d,h]=k.useState(null),[p,_]=k.useState({name:"",related_name:"",description:"",original_height:"",original_width:"",original_length:"",parts_count:1,main_image:null,additional_images:[],price_options:[{size:"",price:"",resin_ml:""}],is_visible:!0}),[w,v]=k.useState({main:null,additional:[]}),C=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{C.id===1&&f()},[l]);const f=async()=>{try{r(!0);const y=new URLSearchParams;l&&y.append("search",l);const R=await U.get(`/api/products?${y.toString()}&admin=true`);t(R.data)}catch(y){console.error("Ошибка загрузки товаров:",y)}finally{r(!1)}},m=y=>{const{name:R,value:D,type:T,checked:A}=y.target;_($=>({...$,[R]:T==="checkbox"?A:D}))},x=(y,R,D)=>{_(T=>({...T,price_options:T.price_options.map((A,$)=>$===y?{...A,[R]:D}:A)}))},b=()=>{_(y=>({...y,price_options:[...y.price_options,{size:"",price:"",resin_ml:""}]}))},E=y=>{p.price_options.length<=1||_(R=>({...R,price_options:R.price_options.filter((D,T)=>T!==y)}))},P=y=>{const R=y.target.files[0];if(R){if(R.size>5*1024*1024){alert("Максимальный размер файла: 5MB");return}_(D=>({...D,main_image:R})),v(D=>({...D,main:URL.createObjectURL(R)}))}},S=y=>{const R=Array.from(y.target.files);if(R.length>4){alert("Максимум 4 дополнительных изображения");return}if(R.filter(A=>A.size>5*1024*1024).length>0){alert("Максимальный размер файла: 5MB");return}_(A=>({...A,additional_images:R}));const T=R.map(A=>URL.createObjectURL(A));v(A=>({...A,additional:T}))},g=async y=>{var R,D,T,A,$;if(y.preventDefault(),!p.name.trim()){alert("Укажите название товара");return}if(p.price_options.some(B=>!B.size||!B.price)){alert("Заполните все варианты размеров и цен");return}for(const B of p.price_options){const W=parseFloat(B.price);if(isNaN(W)||W<=0){alert(`Неверная цена для размера "${B.size}". Цена должна быть положительным числом.`);return}}try{r(!0),console.log("Создание товара:",p);const B=new FormData;B.append("name",p.name.trim()),B.append("related_name",((R=p.related_name)==null?void 0:R.trim())||""),B.append("description",((D=p.description)==null?void 0:D.trim())||""),B.append("original_height",p.original_height||""),B.append("original_width",p.original_width||""),B.append("original_length",p.original_length||""),B.append("parts_count",p.parts_count||1),B.append("is_visible",p.is_visible);const W=p.price_options.filter(H=>H.size&&H.price).map(H=>({...H,price:parseFloat(H.price),resin_ml:H.resin_ml?parseFloat(H.resin_ml):""}));B.append("price_options",JSON.stringify(W)),p.main_image&&B.append("main_image",p.main_image),p.additional_images.forEach(H=>{B.append("additional_images",H)}),console.log("Отправка данных на сервер...");const be=await U.post("/api/products",B,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});console.log("Ответ сервера:",be.data),alert("Товар создан успешно"),N(),f()}catch(B){console.error("Детальная ошибка создания товара:",{message:B.message,response:(T=B.response)==null?void 0:T.data,status:(A=B.response)==null?void 0:A.status,config:B.config});let W="Ошибка при создании товара";B.response?W=(($=B.response.data)==null?void 0:$.error)||`Ошибка сервера: ${B.response.status}`:B.request?W="Нет связи с сервером. Проверьте подключение к интернету.":B.message&&(W=B.message),alert(W)}finally{r(!1)}},O=async y=>{if(y.preventDefault(),!!c)try{r(!0);const R={name:p.name,related_name:p.related_name,description:p.description,original_height:p.original_height,original_width:p.original_width,original_length:p.original_length,parts_count:p.parts_count,is_visible:p.is_visible,price_options:JSON.stringify(p.price_options)};await U.put(`/api/products/${c.id}`,R),alert("Товар обновлен успешно"),u(null),N(),f()}catch(R){console.error("Ошибка обновления товара:",R),alert("Ошибка при обновлении товара")}finally{r(!1)}},L=async y=>{var R,D,T,A;if(confirm("Вы уверены, что хотите удалить этот товар?"))try{r(!0),console.log("Попытка удалить товар с ID:",y);const $=await U.delete(`/api/products/${y}`,{timeout:1e4,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера на удаление:",$.status,$.data),$.status===200||(R=$.data)!=null&&R.success)alert("Товар удален успешно"),f();else throw new Error("Неожиданный ответ сервера")}catch($){console.error("Детальная ошибка удаления товара:",{message:$.message,response:(D=$.response)==null?void 0:D.data,status:(T=$.response)==null?void 0:T.status,productId:y});let B="Ошибка при удалении товара";$.response?$.response.status===404?B="Товар не найден":$.response.status===403?B="Недостаточно прав для удаления товара":(A=$.response.data)!=null&&A.error?B=$.response.data.error:B+=`: ${$.response.status}`:$.code==="ECONNABORTED"?B="Превышено время ожидания удаления товара":$.request&&(B="Нет связи с сервером"),alert(B)}finally{r(!1)}},N=()=>{_({name:"",related_name:"",description:"",original_height:"",original_width:"",original_length:"",parts_count:1,main_image:null,additional_images:[],price_options:[{size:"",price:"",resin_ml:""}],is_visible:!0}),v({main:null,additional:[]}),o(!1),u(null)},j=y=>{u(y),_({name:y.name,related_name:y.related_name||"",description:y.description||"",original_height:y.original_height||"",original_width:y.original_width||"",original_length:y.original_length||"",parts_count:y.parts_count||1,main_image:null,additional_images:[],price_options:y.price_options||[{size:"",price:"",resin_ml:""}],is_visible:y.is_visible}),o(!0)},I=async()=>{try{const y=await U.get("/api/products/export"),R=JSON.stringify(y.data,null,2),D=new Blob([R],{type:"application/json"}),T=URL.createObjectURL(D),A=document.createElement("a");A.href=T,A.download=`products_${new Date().toISOString().split("T")[0]}.json`,A.click(),URL.revokeObjectURL(T)}catch(y){console.error("Ошибка экспорта:",y),alert("Ошибка при экспорте товаров")}};return C.id!==1?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Доступ запрещен. Только для администраторов."})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Управление товарами"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"btn btn-secondary",onClick:I,children:[s.jsx(Rx,{className:"mr-2"}),"Экспорт"]}),s.jsxs("button",{className:"btn btn-accent",onClick:()=>o(!0),children:[s.jsx(sl,{className:"mr-2"}),"Добавить товар"]})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"relative",children:[s.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Поиск по названию, описанию или ID...",className:"input pl-10 w-full",value:l,onChange:y=>a(y.target.value)})]})})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold",children:["Товары (",e.length,")"]})}),s.jsx("div",{className:"card-body",children:n?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка товаров..."})]}):e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Товары не найдены"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"ID"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Изображение"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Название"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Варианты цен"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Продажи"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Статус"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Действия"})]})}),s.jsx("tbody",{children:e.map(y=>{var R;return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-3 font-medium",children:y.id}),s.jsx("td",{className:"p-3",children:y.main_image&&s.jsx("img",{src:y.main_image,alt:y.name,className:"w-12 h-12 object-cover rounded border"})}),s.jsxs("td",{className:"p-3",children:[s.jsx("div",{className:"font-medium",children:y.name}),y.related_name&&s.jsx("div",{className:"text-sm text-gray-500",children:y.related_name})]}),s.jsx("td",{className:"p-3",children:s.jsx("div",{className:"text-sm",children:(R=y.price_options)==null?void 0:R.map((D,T)=>s.jsxs("div",{className:"mb-1",children:[D.size,": ",D.price,"₽",D.resin_ml&&s.jsxs("span",{className:"text-gray-500",children:[" (",D.resin_ml,"мл)"]})]},T))})}),s.jsx("td",{className:"p-3",children:y.sales_count||0}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`status-badge ${y.is_visible?"status-completed":"status-cancelled"}`,children:y.is_visible?"Отображается":"Скрыт"})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>h(y),title:"Просмотр",children:s.jsx(Sl,{})}),s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>j(y),title:"Редактировать",children:s.jsx(lo,{})}),s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>L(y.id),title:"Удалить",children:s.jsx(Un,{})})]})})]},y.id)})})]})})})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"Редактировать товар":"Добавить товар"}),s.jsxs("form",{onSubmit:c?O:g,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Название *"}),s.jsx("input",{type:"text",name:"name",className:"input w-full",value:p.name,onChange:m,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Связанное название"}),s.jsx("input",{type:"text",name:"related_name",className:"input w-full",value:p.related_name,onChange:m})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Описание"}),s.jsx("textarea",{name:"description",className:"input textarea w-full",value:p.description,onChange:m,rows:3})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Исходная высота"}),s.jsx("input",{type:"number",step:"0.1",name:"original_height",className:"input w-full",value:p.original_height,onChange:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Исходная ширина"}),s.jsx("input",{type:"number",step:"0.1",name:"original_width",className:"input w-full",value:p.original_width,onChange:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Исходная длина"}),s.jsx("input",{type:"number",step:"0.1",name:"original_length",className:"input w-full",value:p.original_length,onChange:m})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Количество деталей"}),s.jsx("input",{type:"number",min:"1",name:"parts_count",className:"input w-full",value:p.parts_count,onChange:m})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Варианты размеров и цен *"}),p.price_options.map((y,R)=>s.jsxs("div",{className:"flex gap-3 mb-3 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Размер (например: 10см)",className:"input w-full",value:y.size,onChange:D=>x(R,"size",D.target.value),required:!0})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",placeholder:"Цена в рублях",className:"input w-full",value:y.price,onChange:D=>x(R,"price",D.target.value),required:!0})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",step:"0.1",placeholder:"Количество смолы (мл)",className:"input w-full",value:y.resin_ml,onChange:D=>x(R,"resin_ml",D.target.value)})}),p.price_options.length>1&&s.jsx("button",{type:"button",className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>E(R),children:s.jsx(Un,{})})]},R)),s.jsxs("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:b,children:[s.jsx(sl,{className:"mr-2"}),"Добавить вариант"]})]}),!c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Главное изображение"}),s.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"input w-full"}),w.main&&s.jsx("img",{src:w.main,alt:"Превью",className:"w-24 h-24 object-cover rounded border mt-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Дополнительные изображения (до 4)"}),s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:S,className:"input w-full"}),w.additional.length>0&&s.jsx("div",{className:"flex gap-2 mt-2",children:w.additional.map((y,R)=>s.jsx("img",{src:y,alt:`Превью ${R+1}`,className:"w-16 h-16 object-cover rounded border"},R))})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"is_visible",checked:p.is_visible,onChange:m}),s.jsx("span",{className:"text-sm",children:"Отображать в каталоге"})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:n,children:c?"Обновить":"Создать"}),s.jsx("button",{type:"button",className:"btn btn-ghost flex-1",onClick:N,children:"Отмена"})]})]})]})})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:d.name}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>h(null),children:"✕"})]}),s.jsxs("div",{className:"space-y-4",children:[d.main_image&&s.jsx("img",{src:d.main_image,alt:d.name,className:"w-full h-48 object-cover rounded border"}),s.jsxs("div",{children:[s.jsx("strong",{children:"ID:"})," ",d.id]}),d.related_name&&s.jsxs("div",{children:[s.jsx("strong",{children:"Связанное название:"})," ",d.related_name]}),d.description&&s.jsxs("div",{children:[s.jsx("strong",{children:"Описание:"})," ",d.description]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Варианты размеров и цен:"}),s.jsx("div",{className:"mt-2 space-y-2",children:(M=d.price_options)==null?void 0:M.map((y,R)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Размер:"})," ",y.size]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Цена:"})," ",y.price,"₽"]}),y.resin_ml&&s.jsxs("div",{children:[s.jsx("strong",{children:"Смола:"})," ",y.resin_ml,"мл"]})]},R))})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Продажи:"})," ",d.sales_count||0]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Статус:"})," ",s.jsx("span",{className:`status-badge ${d.is_visible?"status-completed":"status-cancelled"}`,children:d.is_visible?"Отображается":"Скрыт"})]})]})]})})})]})},k0=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!1),[l,a]=k.useState(""),[i,o]=k.useState(""),[c,u]=k.useState("registration_date"),[d,h]=k.useState("desc"),[p,_]=k.useState(!1),[w,v]=k.useState(null),[C,f]=k.useState(null),[m,x]=k.useState([]),[b,E]=k.useState({username:"",password:"",role:"buyer"}),P=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{P.id===1&&S()},[l,i,c,d]);const S=async()=>{var y,R;try{r(!0);const D=new URLSearchParams;l&&D.append("search",l),i&&D.append("role_filter",i),console.log("Загрузка пользователей с параметрами:",D.toString());const T=await U.get(`/api/users?${D.toString()}`,{timeout:15e3,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера пользователей:",T.data),!T.data||!Array.isArray(T.data)){console.error("Некорректный ответ сервера:",T.data);try{const $=await U.get(`/api/admin/users?${D.toString()}`,{timeout:1e4});if($.data&&Array.isArray($.data)){console.log("Использован fallback admin API"),t($.data);return}}catch($){console.error("Fallback API также не работает:",$)}t([]);return}let A=[...T.data];A.sort(($,B)=>{let W,be;switch(c){case"username":W=($.username||"").toLowerCase(),be=(B.username||"").toLowerCase();break;case"registration_date":W=new Date($.registration_date||0),be=new Date(B.registration_date||0);break;case"role":W=$.role||"",be=B.role||"";break;default:W=$.id||0,be=B.id||0}return d==="asc"?W>be?1:-1:W<be?1:-1}),console.log("Загружено пользователей:",A.length),t(A)}catch(D){console.error("Детальная ошибка загрузки пользователей:",{message:D.message,response:(y=D.response)==null?void 0:y.data,status:(R=D.response)==null?void 0:R.status}),console.warn("Не удалось загрузить пользователей, устанавливаем пустой массив"),t([])}finally{r(!1)}},g=async y=>{var R,D;if(y.preventDefault(),!b.username.trim()||!b.password.trim()){alert("Заполните все обязательные поля");return}try{r(!0),console.log("Создание пользователя:",b);const T=await U.post("/api/register",{username:b.username.trim(),password:b.password,role:b.role});console.log("Пользователь создан:",T.data),alert("Пользователь создан успешно"),E({username:"",password:"",role:"buyer"}),_(!1),S()}catch(T){console.error("Ошибка создания пользователя:",T),alert(((D=(R=T.response)==null?void 0:R.data)==null?void 0:D.error)||"Ошибка при создании пользователя")}finally{r(!1)}},O=async(y,R)=>{try{r(!0),await U.put(`/api/users/${y}`,R),alert("Пользователь обновлен успешно"),v(null),S()}catch(D){console.error("Ошибка обновления пользователя:",D),alert("Ошибка при обновлении пользователя")}finally{r(!1)}},L=async y=>{var R,D;if(confirm("Вы уверены, что хотите удалить этого пользователя?"))try{r(!0),await U.delete(`/api/users/${y}`),alert("Пользователь удален успешно"),S()}catch(T){console.error("Ошибка удаления пользователя:",T),alert(((D=(R=T.response)==null?void 0:R.data)==null?void 0:D.error)||"Ошибка при удалении пользователя")}finally{r(!1)}},N=async(y,R)=>{confirm(`Изменить роль пользователя на "${R}"?`)&&await O(y,{role:R})},j=async y=>{try{r(!0);const R=await U.get(`/api/portfolio/${y}`);x(R.data),f(y)}catch(R){console.error("Ошибка загрузки портфолио:",R),alert("Ошибка при загрузке портфолио")}finally{r(!1)}},I=y=>`status-badge ${({buyer:{label:"Покупатель",class:"status-created"},executor:{label:"Исполнитель",class:"status-processing"},admin:{label:"Администратор",class:"status-completed"}}[y]||{class:"status-created"}).class}`,M=y=>({buyer:"Покупатель",executor:"Исполнитель",admin:"Администратор"})[y]||y;return P.id!==1?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Доступ запрещен. Только для администраторов."})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Управление пользователями"}),s.jsxs("button",{className:"btn btn-accent",onClick:()=>_(!0),children:[s.jsx(sl,{className:"mr-2"}),"Добавить пользователя"]})]}),s.jsx("div",{className:"card mb-6",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Поиск по ID или никнейму...",className:"input pl-10 w-full",value:l,onChange:y=>a(y.target.value)})]}),s.jsx("div",{children:s.jsxs("select",{className:"input select w-full",value:i,onChange:y=>o(y.target.value),children:[s.jsx("option",{value:"",children:"Все роли"}),s.jsx("option",{value:"buyer",children:"Покупатели"}),s.jsx("option",{value:"executor",children:"Исполнители"}),s.jsx("option",{value:"admin",children:"Администраторы"})]})}),s.jsx("div",{children:s.jsxs("select",{className:"input select w-full",value:c,onChange:y=>u(y.target.value),children:[s.jsx("option",{value:"registration_date",children:"По дате регистрации"}),s.jsx("option",{value:"username",children:"По алфавиту"}),s.jsx("option",{value:"role",children:"По роли"})]})}),s.jsx("div",{children:s.jsx("button",{className:"btn btn-ghost w-full flex items-center justify-center",onClick:()=>h(d==="asc"?"desc":"asc"),children:d==="asc"?s.jsxs(s.Fragment,{children:[s.jsx(Dx,{className:"mr-2"}),"По возрастанию"]}):s.jsxs(s.Fragment,{children:[s.jsx(Fx,{className:"mr-2"}),"По убыванию"]})})})]})})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold",children:["Пользователи (",e.length,")"]})}),s.jsx("div",{className:"card-body",children:n?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка пользователей..."})]}):e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Пользователи не найдены"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"ID"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Никнейм"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Роль"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Регистрация"}),s.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Действия"})]})}),s.jsx("tbody",{children:e.map(y=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-3 font-medium",children:y.id||"N/A"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[y.avatar&&s.jsx("img",{src:y.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover",onError:R=>{R.target.style.display="none"}}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:y.username||"Неизвестный пользователь"}),y.city&&s.jsx("div",{className:"text-sm text-gray-500",children:y.city})]})]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:I(y.role||"buyer"),children:M(y.role||"buyer")})}),s.jsx("td",{className:"p-3 text-sm text-gray-600",children:y.registration_date?new Date(y.registration_date).toLocaleDateString("ru-RU"):"Неизвестно"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>v(y),title:"Редактировать",disabled:n,children:s.jsx(lo,{})}),y.role==="executor"&&s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>j(y.id),title:"Портфолио",disabled:n,children:s.jsx(Lr,{})}),s.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>N(y.id,y.role==="buyer"?"executor":"buyer"),title:"Изменить роль",disabled:n||y.id===1,children:s.jsx(km,{})}),y.id!==1&&s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>L(y.id),title:"Удалить",disabled:n,children:s.jsx(Un,{})})]})})]},y.id))})]})})})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Добавить пользователя"}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Никнейм *"}),s.jsx("input",{type:"text",className:"input w-full",value:b.username,onChange:y=>E({...b,username:y.target.value}),placeholder:"Введите никнейм",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Пароль *"}),s.jsx("input",{type:"password",className:"input w-full",value:b.password,onChange:y=>E({...b,password:y.target.value}),placeholder:"Введите пароль",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Роль"}),s.jsxs("select",{className:"input select w-full",value:b.role,onChange:y=>E({...b,role:y.target.value}),children:[s.jsx("option",{value:"buyer",children:"Покупатель"}),s.jsx("option",{value:"executor",children:"Исполнитель"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"btn btn-primary flex-1",disabled:n,children:"Создать"}),s.jsx("button",{type:"button",className:"btn btn-ghost flex-1",onClick:()=>{_(!1),E({username:"",password:"",role:"buyer"})},children:"Отмена"})]})]})]})})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Редактировать пользователя #",w.id]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Никнейм"}),s.jsx("input",{type:"text",className:"input w-full",defaultValue:w.username,onBlur:y=>v({...w,username:y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Город"}),s.jsx("input",{type:"text",className:"input w-full",defaultValue:w.city||"",onBlur:y=>v({...w,city:y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Роль"}),s.jsxs("select",{className:"input select w-full",value:w.role,onChange:y=>v({...w,role:y.target.value}),children:[s.jsx("option",{value:"buyer",children:"Покупатель"}),s.jsx("option",{value:"executor",children:"Исполнитель"}),w.id===1&&s.jsx("option",{value:"admin",children:"Администратор"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Новый пароль (оставьте пустым, если не меняете)"}),s.jsx("input",{type:"password",className:"input w-full",onBlur:y=>v({...w,password:y.target.value})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{className:"btn btn-primary flex-1",onClick:()=>{const y={...w};delete y.id,delete y.registration_date,y.password||delete y.password,O(w.id,y)},disabled:n,children:"Сохранить"}),s.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>v(null),children:"Отмена"})]})]})]})})}),C&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Портфолио пользователя #",C]}),s.jsx("button",{className:"btn btn-ghost",onClick:()=>{f(null),x([])},children:"✕"})]}),m.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"Портфолио пусто"}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map(y=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:y.image_path,alt:`Работа ${y.id}`,className:"w-full h-32 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(y.image_path,"_blank")}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 text-center",children:new Date(y.created_date).toLocaleDateString("ru-RU")})]},y.id))})]})})})]})},_0=()=>{const[e,t]=k.useState({payment_info:"",price_coefficient:5.25,discount_rules:[],show_discount_on_products:!1}),[n]=k.useState(()=>{try{return JSON.parse(localStorage.getItem("currentUser")||"{}")}catch{return{}}}),[r,l]=k.useState({name:"",type:"percentage",value:0,conditions:{min_total_spent:0,role:"",registration_date_after:"",min_order_amount:0,monthly_orders_count:0,monthly_spent_amount:0,start_date:"",end_date:"",user_id:"",product_ids:[]}}),[a,i]=k.useState(""),[o,c]=k.useState(!1);k.useEffect(()=>{JSON.parse(localStorage.getItem("currentUser")||"{}").id===1?u():console.error("Доступ к настройкам запрещен")},[]);const u=async()=>{var v,C,f;try{console.log("Загрузка настроек...");const m=await U.get("/api/settings",{timeout:15e3,headers:{"Content-Type":"application/json"}});if(console.log("Ответ сервера на загрузку настроек:",m.data),m.data&&m.status===200){let x=[];if(m.data.discount_rules)try{x=typeof m.data.discount_rules=="string"?JSON.parse(m.data.discount_rules):m.data.discount_rules}catch(E){console.warn("Ошибка парсинга discount_rules:",E),x=[]}const b={payment_info:m.data.payment_info||"",price_coefficient:parseFloat(m.data.price_coefficient)||5.25,discount_rules:Array.isArray(x)?x:[],show_discount_on_products:!!m.data.show_discount_on_products};console.log("Успешно загружены настройки:",b),t(b)}else console.warn("Сервер не вернул корректные данные, используем значения по умолчанию"),d()}catch(m){console.error("Критическая ошибка загрузки настроек:",{message:m.message,response:(v=m.response)==null?void 0:v.data,status:(C=m.response)==null?void 0:C.status,stack:m.stack}),d(),((f=m.response)==null?void 0:f.status)===404?console.info("API настроек недоступно, используем локальные значения"):m.code==="ECONNABORTED"?alert("Превышено время ожидания загрузки настроек"):alert("Ошибка при загрузке настроек. Используются значения по умолчанию.")}},d=()=>{console.log("Установка настроек по умолчанию"),t({payment_info:`Реквизиты для оплаты:
Банковская карта: 1234 5678 9012 3456
Яндекс.Деньги: 410011234567890
QIWI: +79001234567`,price_coefficient:5.25,discount_rules:[],show_discount_on_products:!1})},h=async v=>{var C,f,m;if(!v){alert("Некорректные данные для обновления");return}try{c(!0),console.log("Подготовка данных для отправки:",v);const x={payment_info:String(v.payment_info||""),price_coefficient:parseFloat(v.price_coefficient)||5.25,discount_rules:JSON.stringify(Array.isArray(v.discount_rules)?v.discount_rules:[]),show_discount_on_products:!!v.show_discount_on_products};console.log("Валидированные данные для отправки:",x);const b=await U.put("/api/settings",x,{headers:{"Content-Type":"application/json"},timeout:2e4});if(console.log("Успешный ответ сервера:",b.data),b.status===200)t({...v,discount_rules:Array.isArray(v.discount_rules)?v.discount_rules:[]}),alert("Настройки успешно обновлены");else throw new Error(`Неожиданный статус ответа: ${b.status}`)}catch(x){console.error("Критическая ошибка обновления настроек:",{message:x.message,response:(C=x.response)==null?void 0:C.data,status:(f=x.response)==null?void 0:f.status,stack:x.stack});let b="Ошибка при обновлении настроек";x.response?x.response.status===403?b="Недостаточно прав для изменения настроек":x.response.status===500?b="Ошибка сервера при сохранении настроек":b+=`: ${((m=x.response.data)==null?void 0:m.error)||x.response.statusText}`:x.code==="ECONNABORTED"?b="Превышено время ожидания. Проверьте соединение с сервером.":x.request?b="Нет ответа от сервера. Проверьте подключение к интернету.":b+=`: ${x.message}`,alert(b)}finally{c(!1)}},p=async()=>{if(!r.name||!r.name.trim()){alert("Укажите название скидки");return}if(!r.value||parseFloat(r.value)<=0){alert("Укажите корректное значение скидки");return}if(r.type==="percentage"&&parseFloat(r.value)>100){alert("Процентная скидка не может превышать 100%");return}try{const v={...r,id:Date.now()+Math.random(),name:r.name.trim(),value:parseFloat(r.value),conditions:{...r.conditions,min_total_spent:parseFloat(r.conditions.min_total_spent)||0,min_order_amount:parseFloat(r.conditions.min_order_amount)||0,monthly_orders_count:parseInt(r.conditions.monthly_orders_count)||0,monthly_spent_amount:parseFloat(r.conditions.monthly_spent_amount)||0}};console.log("Добавляется новая скидка:",v);const C=[...e.discount_rules||[],v];console.log("Обновленный список скидок:",C),await h({...e,discount_rules:C}),l({name:"",type:"percentage",value:0,conditions:{min_total_spent:0,role:"",registration_date_after:"",min_order_amount:0,monthly_orders_count:0,monthly_spent_amount:0,start_date:"",end_date:"",user_id:"",product_ids:[]}}),console.log("Скидка успешно добавлена и форма сброшена")}catch(v){console.error("Ошибка при добавлении скидки:",v),alert("Ошибка при добавлении скидки. Попробуйте еще раз.")}},_=v=>{const C=e.discount_rules.filter(f=>f.id!==v);h({...e,discount_rules:C})},w=async()=>{var v,C,f;if(!a||!a.trim()){alert("Введите сообщение для рассылки");return}if(!n||!n.id){alert("Ошибка: не определен текущий пользователь");return}try{c(!0);const m={message:a.trim(),from_user_id:n.id};console.log("Отправка рассылки с данными:",m);const x=await U.post("/api/chat/broadcast",m,{headers:{"Content-Type":"application/json"},timeout:15e3});if(console.log("Полный ответ сервера на рассылку:",x),x.status===200||x.status===201){const b=x.data;let E="Рассылка отправлена успешно!";b&&(b.count!==void 0&&(E+=`
Отправлено сообщений: ${b.count}`),b.recipients!==void 0&&(E+=`
Получателей: ${b.recipients}`),b.message&&(E+=`
${b.message}`)),alert(E),i(""),console.log("Рассылка успешно завершена")}else throw new Error(`Неожиданный статус ответа: ${x.status}`)}catch(m){console.error("Критическая ошибка при рассылке:",{message:m.message,response:(v=m.response)==null?void 0:v.data,status:(C=m.response)==null?void 0:C.status,stack:m.stack});let x="Ошибка при отправке рассылки";if(m.response){const b=m.response.status,E=(f=m.response.data)==null?void 0:f.error;b===403?x="Недостаточно прав для отправки рассылки":b===404?x="API рассылки не найдено":b===500?x="Ошибка сервера при отправке рассылки":E?x+=`: ${E}`:x+=`: HTTP ${b}`}else m.code==="ECONNABORTED"?x="Превышено время ожидания отправки рассылки":m.request?x="Нет соединения с сервером":x+=`: ${m.message}`;alert(x)}finally{c(!1)}};return!n.id||n.id!==1?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Доступ запрещен. Только для администраторов."})}):s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-black mb-8",children:"Системные настройки"}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Информация для оплаты"})}),s.jsxs("div",{className:"card-body",children:[s.jsx("textarea",{className:"input textarea w-full mb-4",placeholder:"Введите реквизиты для оплаты...",value:e.payment_info,onChange:v=>t({...e,payment_info:v.target.value}),rows:4}),s.jsx("button",{className:"btn btn-primary",onClick:()=>h(e),disabled:o,children:"Сохранить реквизиты"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Коэффициент стоимости"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("label",{className:"text-gray-700",children:"Коэффициент:"}),s.jsx("input",{type:"number",step:"0.01",className:"input w-32",value:e.price_coefficient,onChange:v=>t({...e,price_coefficient:parseFloat(v.target.value)||0})}),s.jsx("span",{className:"text-gray-500",children:"(по умолчанию 5.25 = +0%)"})]}),s.jsx("button",{className:"btn btn-primary",onClick:()=>h(e),disabled:o,children:"Обновить коэффициент"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Управление скидками"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Активные скидки"}),e.discount_rules.length===0?s.jsx("p",{className:"text-gray-500",children:"Скидки не настроены"}):s.jsx("div",{className:"space-y-3",children:e.discount_rules.map(v=>s.jsx("div",{className:"border rounded p-4 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-black",children:v.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Тип: ",v.type==="percentage"?"Процент":"Фиксированная сумма"," - ",v.value,v.type==="percentage"?"%":"₽"]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[v.conditions.min_total_spent>0&&`Мин. потрачено: ${v.conditions.min_total_spent}₽ `,v.conditions.role&&`Роль: ${v.conditions.role} `,v.conditions.min_order_amount>0&&`Мин. сумма заказа: ${v.conditions.min_order_amount}₽ `]})]}),s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>_(v.id),children:"Удалить"})]})},v.id))})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Добавить новую скидку"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Название скидки"}),s.jsx("input",{type:"text",className:"input w-full",value:r.name,onChange:v=>l({...r,name:v.target.value}),placeholder:"Например: Скидка постоянным клиентам"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Тип скидки"}),s.jsxs("select",{className:"input select w-full",value:r.type,onChange:v=>l({...r,type:v.target.value}),children:[s.jsx("option",{value:"percentage",children:"Процент"}),s.jsx("option",{value:"fixed",children:"Фиксированная сумма"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Значение"}),s.jsx("input",{type:"number",className:"input w-full",value:r.value,onChange:v=>l({...r,value:parseFloat(v.target.value)||0}),placeholder:r.type==="percentage"?"10":"500"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-md font-medium mb-2",children:"Условия применения"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Мин. потрачено всего (₽)"}),s.jsx("input",{type:"number",className:"input w-full text-sm",value:r.conditions.min_total_spent,onChange:v=>l({...r,conditions:{...r.conditions,min_total_spent:parseFloat(v.target.value)||0}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Роль"}),s.jsxs("select",{className:"input select w-full text-sm",value:r.conditions.role,onChange:v=>l({...r,conditions:{...r.conditions,role:v.target.value}}),children:[s.jsx("option",{value:"",children:"Любая"}),s.jsx("option",{value:"buyer",children:"Покупатель"}),s.jsx("option",{value:"executor",children:"Исполнитель"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Мин. сумма заказа (₽)"}),s.jsx("input",{type:"number",className:"input w-full text-sm",value:r.conditions.min_order_amount,onChange:v=>l({...r,conditions:{...r.conditions,min_order_amount:parseFloat(v.target.value)||0}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"ID пользователя"}),s.jsx("input",{type:"text",className:"input w-full text-sm",value:r.conditions.user_id,onChange:v=>l({...r,conditions:{...r.conditions,user_id:v.target.value}}),placeholder:"Оставить пустым для всех"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Дата начала"}),s.jsx("input",{type:"date",className:"input w-full text-sm",value:r.conditions.start_date,onChange:v=>l({...r,conditions:{...r.conditions,start_date:v.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Дата окончания"}),s.jsx("input",{type:"date",className:"input w-full text-sm",value:r.conditions.end_date,onChange:v=>l({...r,conditions:{...r.conditions,end_date:v.target.value}})})]})]})]}),s.jsx("button",{className:"btn btn-accent mr-4",onClick:p,disabled:o,children:"Добавить скидку"})]}),s.jsxs("div",{className:"border-t pt-4 mt-6",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.show_discount_on_products,onChange:v=>t({...e,show_discount_on_products:v.target.checked})}),s.jsx("span",{className:"text-sm",children:"Отображать применение скидки на товарах"})]}),s.jsx("button",{className:"btn btn-secondary mt-2",onClick:()=>h(e),disabled:o,children:"Сохранить настройку отображения"})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Общая рассылка"})}),s.jsxs("div",{className:"card-body",children:[s.jsx("textarea",{className:"input textarea w-full mb-4",placeholder:"Введите сообщение для рассылки всем пользователям...",value:a,onChange:v=>i(v.target.value),rows:3}),s.jsx("button",{className:"btn btn-accent",onClick:w,disabled:o||!a.trim(),children:"Отправить рассылку"})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white p-6 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-2"}),s.jsx("p",{children:"Обновление настроек..."})]})})})]})},Kc=()=>{const[e,t]=k.useState("catalog"),[n,r]=k.useState(null),[l,a]=k.useState([]),[i,o]=k.useState(""),[c,u]=k.useState(!1),[d,h]=k.useState([]),[p,_]=k.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalRequests:0}),[w,v]=k.useState(!1);k.useEffect(()=>{const g=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!g.id||g.id!==1){alert("Доступ запрещен. Только для администраторов."),window.location.href="#/login";return}r(g),C(),f(),m()},[]);const C=async()=>{try{u(!0);const g=new URLSearchParams;i&&g.append("search",i),g.append("admin","true");const O=await U.get(`/api/products?${g.toString()}`);a(O.data)}catch(g){console.error("Ошибка загрузки товаров:",g)}finally{u(!1)}},f=async()=>{if(n!=null&&n.id)try{const[g,O,L]=await Promise.all([U.get(`/api/chat?user_id=${n.id}`),U.get("/api/orders"),U.get("/api/custom-requests")]),N=g.data.filter(y=>new Date(y.created_date)>new Date(Date.now()-24*60*60*1e3)&&y.to_user_id===n.id).length,j=O.data.filter(y=>new Date(y.created_date)>new Date(Date.now()-24*60*60*1e3)).length,I=L.data.filter(y=>new Date(y.created_date)>new Date(Date.now()-24*60*60*1e3)).length,M=[];N>0&&M.push(`${N} новых сообщений`),j>0&&M.push(`${j} новых заказов`),I>0&&M.push(`${I} новых заявок`),h(M)}catch(g){console.error("Ошибка загрузки уведомлений:",g)}},m=async()=>{try{const[g,O,L,N]=await Promise.all([U.get("/api/products?admin=true"),U.get("/api/orders"),U.get("/api/users"),U.get("/api/custom-requests")]);_({totalProducts:g.data.length,totalOrders:O.data.length,totalUsers:L.data.length,totalRequests:N.data.length})}catch(g){console.error("Ошибка загрузки статистики:",g)}},x=g=>{f()},b=async()=>{try{const g=await U.get("/api/backup/all"),O=JSON.stringify(g.data,null,2),L=new Blob([O],{type:"application/json"}),N=URL.createObjectURL(L),j=document.createElement("a");j.href=N,j.download=`backup_${new Date().toISOString().split("T")[0]}.json`,j.click(),URL.revokeObjectURL(N),alert("Резервная копия создана успешно")}catch(g){console.error("Ошибка создания резервной копии:",g),alert("Ошибка при создании резервной копии")}},E=()=>{v(!1)},P=g=>{t(g),E()};k.useEffect(()=>{C()},[i]);const S=()=>{switch(e){case"catalog":return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-black",children:"Каталог товаров"}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:s.jsx("input",{type:"text",placeholder:"Поиск товаров...",className:"input flex-1 sm:flex-none",value:i,onChange:g=>o(g.target.value)})})]}),c?s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Загрузка товаров..."})]}):l.length===0?s.jsx("div",{className:"text-center py-8 sm:py-12",children:s.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Товары не найдены"})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6",children:l.map(g=>s.jsx(Mr,{product:g,onAddToCart:x,showCustomRequest:!1},g.id))})]});case"dashboard":return s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-black mb-4 sm:mb-6",children:"Панель управления"}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center p-3 sm:p-6",children:[s.jsx(Re,{className:"text-2xl sm:text-3xl text-accent-blue mx-auto mb-2"}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1",children:"Товары"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-accent-blue",children:p.totalProducts})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center p-3 sm:p-6",children:[s.jsx(it,{className:"text-2xl sm:text-3xl text-accent-blue mx-auto mb-2"}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1",children:"Заказы"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-accent-blue",children:p.totalOrders})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center p-3 sm:p-6",children:[s.jsx(xs,{className:"text-2xl sm:text-3xl text-accent-blue mx-auto mb-2"}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1",children:"Пользователи"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-accent-blue",children:p.totalUsers})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center p-3 sm:p-6",children:[s.jsx(At,{className:"text-2xl sm:text-3xl text-accent-blue mx-auto mb-2"}),s.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1",children:"Заявки"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-accent-blue",children:p.totalRequests})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Быстрые действия"})}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs("button",{className:"btn btn-accent text-xs sm:text-sm",onClick:()=>t("product-manager"),children:[s.jsx(Re,{className:"mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Управление "}),"товарами"]}),s.jsxs("button",{className:"btn btn-accent text-xs sm:text-sm",onClick:()=>t("orders"),children:[s.jsx(it,{className:"mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Управление "}),"заказами"]}),s.jsxs("button",{className:"btn btn-accent text-xs sm:text-sm",onClick:()=>t("user-manager"),children:[s.jsx(xs,{className:"mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Управление "}),"пользователями"]}),s.jsxs("button",{className:"btn btn-accent text-xs sm:text-sm",onClick:b,children:[s.jsx(Px,{className:"mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Создать "}),"резервную копию"]})]})})]})]});case"orders":return s.jsx(uo,{isAdmin:!0});case"custom-requests":return s.jsx(Dr,{});case"chat":return s.jsx(mo,{});case"product-manager":return s.jsx(S0,{});case"user-manager":return s.jsx(k0,{});case"settings":return s.jsx(_0,{});case"profile":return s.jsx(co,{});default:return s.jsx("div",{children:"Страница не найдена"})}};return n?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"nav shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[s.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"header-logo-container",children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/fb4e11b1-32cb-4ee9-a6b8-90711522901e_1759499694999.jpg",alt:"NIGHTINGALE EMPIRE Logo",className:"logo-image"}),s.jsx("h1",{className:"text-base sm:text-xl font-bold text-white",children:"NIGHTINGALE EMPIRE"})]}),s.jsx("button",{className:"md:hidden text-white p-1",onClick:()=>v(!w),children:w?s.jsx(qr,{size:20}):s.jsx(bl,{size:20})})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link text-sm ${e==="dashboard"?"active":""}`,onClick:()=>t("dashboard"),children:[s.jsx(Tc,{className:"mr-2"}),"Панель"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="catalog"?"active":""}`,onClick:()=>t("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon"}),"Каталог"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="orders"?"active":""}`,onClick:()=>t("orders"),children:[s.jsx(it,{className:"mr-2"}),"Заказы"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="custom-requests"?"active":""}`,onClick:()=>t("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon"}),"Заявки"]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[d.length>0&&s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"text-white text-base sm:text-lg"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:d.length})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link text-sm ${e==="product-manager"?"active":""}`,onClick:()=>t("product-manager"),children:[s.jsx(Re,{className:"mr-2"}),"Товары"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="user-manager"?"active":""}`,onClick:()=>t("user-manager"),children:[s.jsx(xs,{className:"mr-2"}),"Пользователи"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="chat"?"active":""}`,onClick:()=>t("chat"),children:[s.jsx(At,{className:"mr-2"}),"Чат"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="settings"?"active":""}`,onClick:()=>t("settings"),children:[s.jsx(Lc,{className:"mr-2"}),"Настройки"]}),s.jsxs("button",{className:`nav-link text-sm ${e==="profile"?"active":""}`,onClick:()=>t("profile"),children:[s.jsx(qe,{className:"mr-2"}),"Профиль"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.avatar&&s.jsx("img",{src:n.avatar,alt:"Avatar",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"}),s.jsxs("div",{className:"text-xs sm:text-sm hidden sm:block",children:[s.jsx("div",{className:"font-medium",children:n.username}),s.jsx("div",{className:"text-xs text-gray-300",children:"Администратор"})]})]}),s.jsx("button",{className:"btn btn-ghost text-white hover:bg-gray-800 text-xs sm:text-sm px-2 sm:px-4",onClick:()=>{localStorage.removeItem("currentUser"),window.location.href="#/login"},children:"Выход"})]})]}),w&&s.jsx("div",{className:"md:hidden bg-gray-800 mt-2 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[s.jsxs("button",{className:`mobile-nav-link ${e==="dashboard"?"active":""}`,onClick:()=>P("dashboard"),children:[s.jsx(Tc,{className:"mr-3"}),"Панель управления"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="catalog"?"active":""}`,onClick:()=>P("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon mr-3"}),"Каталог"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="orders"?"active":""}`,onClick:()=>P("orders"),children:[s.jsx(it,{className:"mr-3"}),"Заказы"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>P("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon mr-3"}),"Заявки на замер"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="product-manager"?"active":""}`,onClick:()=>P("product-manager"),children:[s.jsx(Re,{className:"mr-3"}),"Управление товарами"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="user-manager"?"active":""}`,onClick:()=>P("user-manager"),children:[s.jsx(xs,{className:"mr-3"}),"Управление пользователями"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="chat"?"active":""}`,onClick:()=>P("chat"),children:[s.jsx(At,{className:"mr-3"}),"Чат"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="settings"?"active":""}`,onClick:()=>P("settings"),children:[s.jsx(Lc,{className:"mr-3"}),"Настройки"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="profile"?"active":""}`,onClick:()=>P("profile"),children:[s.jsx(qe,{className:"mr-3"}),"Профиль"]})]})})]})}),d.length>0&&s.jsx("div",{className:"bg-accent-blue bg-opacity-10 border-b border-accent-blue",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-2 sm:py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(on,{className:"text-accent-blue flex-shrink-0"}),s.jsx("div",{className:"text-xs sm:text-sm text-accent-blue overflow-hidden",children:s.jsx("div",{className:"truncate",children:d.join(", ")})})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:S()}),s.jsx("style",{jsx:!0,children:`
        .mobile-nav-link {
          display: flex;
          align-items: center;
          padding: 12px 16px;
          color: white;
          text-decoration: none;
          border-radius: 6px;
          transition: background-color 0.2s;
          font-size: 14px;
          width: 100%;
          text-align: left;
          background: none;
          border: none;
          cursor: pointer;
        }
        
        .mobile-nav-link:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .mobile-nav-link.active {
          background-color: var(--accent-blue);
        }
        
        @media (max-width: 640px) {
          .nav {
            position: sticky;
            top: 0;
            z-index: 40;
          }
          
          .nav-link {
            padding: 6px 12px;
            font-size: 12px;
          }
          
          .btn {
            padding: 6px 12px;
            font-size: 12px;
          }
          
          .card {
            margin: 0.5rem 0;
          }
          
          .card-body {
            padding: 1rem;
          }
          
          .grid {
            gap: 0.75rem;
          }
          
          h1, h2, h3 {
            font-size: 0.9rem;
          }
          
          .product-grid {
            grid-template-columns: 1fr;
          }
        }
      `})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Загрузка..."})]})})},C0=()=>{const[e,t]=k.useState([]),[n,r]=k.useState(!1),[l,a]=k.useState(!1),[i,o]=k.useState([]),[c,u]=k.useState([]),[d,h]=k.useState(null),p=JSON.parse(localStorage.getItem("currentUser")||"{}");k.useEffect(()=>{_()},[]);const _=async()=>{var b,E,P,S;if(!(p!=null&&p.id)){console.warn("Нет ID пользователя для загрузки портфолио");return}try{r(!0),console.log("Загрузка портфолио для пользователя:",p.id);const g=await U.get(`/api/portfolio/${p.id}`,{timeout:1e4,headers:{"Content-Type":"application/json"}});g.data&&Array.isArray(g.data)?t(g.data):(console.warn("Некорректные данные портфолио:",g.data),t([]))}catch(g){console.error("Детальная ошибка загрузки портфолио:",{message:g.message,response:(b=g.response)==null?void 0:b.data,status:(E=g.response)==null?void 0:E.status}),((P=g.response)==null?void 0:P.status)===403?console.error("Портфолио доступно только для исполнителей"):((S=g.response)==null?void 0:S.status)===404?(console.log("Портфолио пусто - это нормально для нового пользователя"),t([])):console.error("Ошибка сервера при загрузке портфолио"),t([])}finally{r(!1)}},w=b=>{const E=Array.from(b.target.files);if(e.length+E.length>20){alert("Максимум 20 изображений в портфолио");return}if(E.filter(O=>O.size>5*1024*1024).length>0){alert("Максимальный размер файла: 5MB");return}if(E.filter(O=>!O.type.startsWith("image/")).length>0){alert("Разрешены только изображения");return}o(E);const g=E.map(O=>URL.createObjectURL(O));u(g)},v=async()=>{var b,E,P;if(i.length===0){alert("Выберите изображения для загрузки");return}if(!(p!=null&&p.id)){alert("Ошибка: не определен пользователь");return}try{a(!0),console.log("Начало загрузки изображений:",i.length);const S=new FormData;S.append("user_id",p.id),i.forEach((L,N)=>{console.log(`Добавляем изображение ${N+1}:`,L.name,L.size),S.append("images",L)});const g=await U.post("/api/portfolio",S,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});console.log("Ответ сервера на загрузку:",g.status,g.data),alert("Изображения успешно загружены"),o([]),u([]);const O=document.getElementById("portfolio-upload");O&&(O.value=""),await _()}catch(S){console.error("Детальная ошибка загрузки изображений:",{message:S.message,response:(b=S.response)==null?void 0:b.data,status:(E=S.response)==null?void 0:E.status});let g="Ошибка при загрузке изображений";S.response?S.response.status===413?g="Файлы слишком большие. Максимальный размер: 5MB":S.response.status===403?g="Недостаточно прав для загрузки в портфолио":(P=S.response.data)!=null&&P.error&&(g=S.response.data.error):S.code==="ECONNABORTED"&&(g="Превышено время ожидания загрузки. Попробуйте еще раз."),alert(g)}finally{a(!1)}},C=async b=>{var E,P,S,g,O,L;if(!b){alert("Ошибка: не указан ID изображения");return}if(confirm("Удалить это изображение?"))try{console.log("Удаление изображения с ID:",b);const N=await U.delete(`/api/portfolio/${b}`,{timeout:1e4});console.log("Ответ сервера на удаление:",N.status),alert("Изображение удалено"),await _()}catch(N){console.error("Детальная ошибка удаления изображения:",{message:N.message,response:(E=N.response)==null?void 0:E.data,status:(P=N.response)==null?void 0:P.status,imageId:b});let j="Ошибка при удалении изображения";((S=N.response)==null?void 0:S.status)===404?j="Изображение не найдено":((g=N.response)==null?void 0:g.status)===403?j="Недостаточно прав для удаления":(L=(O=N.response)==null?void 0:O.data)!=null&&L.error&&(j=N.response.data.error),alert(j)}},f=()=>{o([]),u([]);const b=document.getElementById("portfolio-upload");b&&(b.value="")},m=b=>{h(b)},x=()=>{h(null)};return!p||!p.id?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка данных пользователя..."})]}):p.role!=="executor"?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("p",{className:"text-gray-500",children:"Портфолио доступно только для исполнителей"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Ваша роль: ",p.role||"неопределена"]})]}):s.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-black",children:"Моё портфолио"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[e.length,"/20 изображений"]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx($x,{className:"text-accent-blue"}),"Загрузить изображения"]})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{htmlFor:"portfolio-upload",className:"block text-sm font-medium mb-2",children:["Выберите изображения (максимум ",20-e.length,", до 5MB каждое)"]}),s.jsx("input",{id:"portfolio-upload",type:"file",multiple:!0,accept:"image/*",onChange:w,className:"input w-full",disabled:e.length>=20||l}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Поддерживаемые форматы: JPG, PNG, GIF, WebP"})]}),c.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Выбранные изображения:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-4",children:c.map((b,E)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:b,alt:`Превью ${E+1}`,className:"w-full h-24 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(b,"_blank")}),s.jsx("div",{className:"absolute top-1 right-1 bg-black bg-opacity-50 text-white text-xs px-1 rounded",children:E+1})]},E))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn btn-primary",onClick:v,disabled:l,children:l?"Загрузка...":"Загрузить изображения"}),s.jsx("button",{className:"btn btn-ghost",onClick:f,disabled:l,children:"Отменить"})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Lr,{className:"text-accent-blue"}),"Галерея работ"]})}),s.jsx("div",{className:"card-body",children:n?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка портфолио..."})]}):e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Lr,{className:"text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Ваше портфолио пусто"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Загрузите изображения своих работ, чтобы показать их администратору и клиентам"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e.map(b=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-lg border hover:border-accent-blue transition-colors",children:[s.jsx("img",{src:b.image_path,alt:`Работа ${b.id}`,className:"w-full h-32 object-cover cursor-pointer hover:scale-105 transition-transform",onClick:()=>m(b)}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn btn-sm bg-white text-black hover:bg-gray-100",onClick:()=>m(b),title:"Просмотр",children:s.jsx(Sl,{})}),s.jsx("button",{className:"btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>C(b.id),title:"Удалить",children:s.jsx(Un,{})})]})})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 text-center",children:new Date(b.created_date).toLocaleDateString("ru-RU")})]},b.id))})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:x,children:s.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[s.jsx("img",{src:d.image_path,alt:`Работа ${d.id}`,className:"max-w-full max-h-full object-contain rounded-lg",onClick:b=>b.stopPropagation()}),s.jsx("button",{className:"absolute top-4 right-4 btn btn-sm bg-white text-black hover:bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center",onClick:x,children:"✕"}),s.jsx("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-75 text-white px-3 py-2 rounded",children:s.jsxs("p",{className:"text-sm",children:["Загружено: ",new Date(d.created_date).toLocaleString("ru-RU")]})}),s.jsxs("button",{className:"absolute bottom-4 right-4 btn btn-sm bg-red-500 text-white hover:bg-red-600",onClick:()=>{x(),C(d.id)},children:[s.jsx(Un,{className:"mr-1"}),"Удалить"]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-black",children:"Загрузка изображений..."})]})})]})},Gc=()=>{const[e,t]=k.useState("catalog"),[n,r]=k.useState(null),[l,a]=k.useState([]),[i,o]=k.useState(""),[c,u]=k.useState(!1),[d,h]=k.useState([]),[p,_]=k.useState([]),[w,v]=k.useState(!1),[C,f]=k.useState(""),[m,x]=k.useState(!1);k.useEffect(()=>{const j=JSON.parse(localStorage.getItem("currentUser")||"{}");if(!j.id||j.role!=="executor"){window.location.href="#/login";return}r(j),b(),E(),P();const I=M=>{f(M.detail.productId),v(!0),t("custom-requests")};return window.addEventListener("openCustomRequest",I),()=>window.removeEventListener("openCustomRequest",I)},[]);const b=async()=>{try{u(!0);const j=new URLSearchParams;i&&j.append("search",i);const I=await U.get(`/api/products?${j.toString()}`);a(I.data)}catch(j){console.error("Ошибка загрузки товаров:",j)}finally{u(!1)}},E=async()=>{if(n!=null&&n.id)try{const j=JSON.parse(localStorage.getItem(`favorites_${n.id}`)||"[]");h(j)}catch(j){console.error("Ошибка загрузки избранного:",j)}},P=async()=>{if(n!=null&&n.id)try{const[j,I]=await Promise.all([U.get(`/api/chat?user_id=${n.id}`),U.get(`/api/orders?user_id=${n.id}&role=${n.role}`)]),M=j.data.filter(D=>new Date(D.created_date)>new Date(Date.now()-24*60*60*1e3)).length,y=I.data.filter(D=>new Date(D.created_date)>new Date(Date.now()-24*60*60*1e3)).length,R=[];M>0&&R.push(`${M} новых сообщений`),y>0&&R.push(`${y} новых заказов`),_(R)}catch(j){console.error("Ошибка загрузки уведомлений:",j)}},S=()=>l.filter(j=>d.includes(j.id)),g=j=>{P()},O=()=>{x(!1)},L=j=>{t(j),O()};k.useEffect(()=>{b()},[i]);const N=()=>{switch(e){case"catalog":return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-black",children:"Каталог товаров"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[s.jsx("input",{type:"text",placeholder:"Поиск товаров...",className:"input flex-1 sm:flex-none",value:i,onChange:j=>o(j.target.value)}),s.jsx("button",{className:"btn btn-accent whitespace-nowrap",onClick:()=>v(!0),children:"Подать заявку"})]})]}),c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка товаров..."})]}):l.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Товары не найдены"})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:l.map(j=>s.jsx(Mr,{product:j,onAddToCart:g,showCustomRequest:!0},j.id))})]});case"cart":return s.jsx(Zm,{});case"profile":return s.jsx(co,{});case"orders":return s.jsx(uo,{isExecutor:!0});case"custom-requests":return s.jsx(Dr,{productId:C,onClose:()=>{v(!1),f("")}});case"chat":return s.jsx(mo,{});case"portfolio":return s.jsx(C0,{});case"favorites":return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black mb-6",children:"Избранные товары"}),d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($t,{className:"text-6xl text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Нет избранных товаров"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:S().map(j=>s.jsx(Mr,{product:j,onAddToCart:g,showCustomRequest:!0},j.id))})]});default:return s.jsx("div",{children:"Страница не найдена"})}};return n?s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"nav shadow-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"header-logo-container",children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/fb4e11b1-32cb-4ee9-a6b8-90711522901e_1759499694999.jpg",alt:"NIGHTINGALE EMPIRE Logo",className:"logo-image"}),s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white",children:"NIGHTINGALE EMPIRE"})]}),s.jsx("button",{className:"md:hidden text-white p-2",onClick:()=>x(!m),children:m?s.jsx(qr,{}):s.jsx(bl,{})})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link ${e==="catalog"?"active":""}`,onClick:()=>t("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon"}),"Каталог"]}),s.jsxs("button",{className:`nav-link ${e==="cart"?"active":""}`,onClick:()=>t("cart"),children:[s.jsx(Re,{className:"mr-2"}),"Корзина"]}),s.jsxs("button",{className:`nav-link ${e==="orders"?"active":""}`,onClick:()=>t("orders"),children:[s.jsx(it,{className:"mr-2"}),"Заказы"]}),s.jsxs("button",{className:`nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>t("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon"}),"Заявки на замер"]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[p.length>0&&s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"text-white text-lg"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:p.length})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[s.jsxs("button",{className:`nav-link ${e==="portfolio"?"active":""}`,onClick:()=>t("portfolio"),children:[s.jsx(Lr,{className:"mr-2"}),"Портфолио"]}),s.jsxs("button",{className:`nav-link ${e==="favorites"?"active":""}`,onClick:()=>t("favorites"),children:[s.jsx($t,{className:"mr-2"}),"Избранное"]}),s.jsxs("button",{className:`nav-link ${e==="chat"?"active":""}`,onClick:()=>t("chat"),children:[s.jsx(At,{className:"mr-2"}),"Чат"]}),s.jsxs("button",{className:`nav-link ${e==="profile"?"active":""}`,onClick:()=>t("profile"),children:[s.jsx(qe,{className:"mr-2"}),"Профиль"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.avatar&&s.jsx("img",{src:n.avatar,alt:"Avatar",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"}),s.jsxs("div",{className:"text-xs sm:text-sm hidden sm:block",children:[s.jsx("div",{className:"font-medium",children:n.username}),s.jsx("div",{className:"text-xs text-gray-300",children:"Исполнитель"})]})]}),s.jsx("button",{className:"btn btn-ghost text-white hover:bg-gray-800 text-xs sm:text-sm px-2 sm:px-4",onClick:()=>{localStorage.removeItem("currentUser"),window.location.href="#/login"},children:"Выход"})]})]}),m&&s.jsx("div",{className:"md:hidden bg-gray-800 mt-2 rounded-lg overflow-hidden",children:s.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[s.jsxs("button",{className:`mobile-nav-link ${e==="catalog"?"active":""}`,onClick:()=>L("catalog"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/d808c41c-8078-41ec-9530-8a0955f2cc4e_1759499878628.jpg",alt:"Catalog Icon",className:"catalog-icon mr-3"}),"Каталог"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="cart"?"active":""}`,onClick:()=>L("cart"),children:[s.jsx(Re,{className:"mr-3"}),"Корзина"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="orders"?"active":""}`,onClick:()=>L("orders"),children:[s.jsx(it,{className:"mr-3"}),"Заказы"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="custom-requests"?"active":""}`,onClick:()=>L("custom-requests"),children:[s.jsx("img",{src:"https://haisnap.tos-cn-beijing.volces.com/image/78891927-a4e5-4a24-990f-9f9ef122df28_1759499812794.jpg",alt:"Measurement Icon",className:"measurement-icon mr-3"}),"Заявки на замер"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="portfolio"?"active":""}`,onClick:()=>L("portfolio"),children:[s.jsx(Lr,{className:"mr-3"}),"Портфолио"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="favorites"?"active":""}`,onClick:()=>L("favorites"),children:[s.jsx($t,{className:"mr-3"}),"Избранное"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="chat"?"active":""}`,onClick:()=>L("chat"),children:[s.jsx(At,{className:"mr-3"}),"Чат"]}),s.jsxs("button",{className:`mobile-nav-link ${e==="profile"?"active":""}`,onClick:()=>L("profile"),children:[s.jsx(qe,{className:"mr-3"}),"Профиль"]})]})})]})}),p.length>0&&s.jsx("div",{className:"bg-accent-blue bg-opacity-10 border-b border-accent-blue",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(on,{className:"text-accent-blue flex-shrink-0"}),s.jsx("div",{className:"text-sm text-accent-blue overflow-hidden",children:s.jsx("div",{className:"truncate",children:p.join(", ")})})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:N()}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Подача заявки на замер"}),s.jsx("button",{className:"btn btn-ghost p-2",onClick:()=>{v(!1),f("")},children:"✕"})]}),s.jsx(Dr,{productId:C,onClose:()=>{v(!1),f("")}})]})})}),s.jsx("style",{jsx:!0,children:`
        .mobile-nav-link {
          display: flex;
          align-items: center;
          padding: 12px 16px;
          color: white;
          text-decoration: none;
          border-radius: 6px;
          transition: background-color 0.2s;
          font-size: 14px;
          width: 100%;
          text-align: left;
          background: none;
          border: none;
          cursor: pointer;
        }
        
        .mobile-nav-link:hover {
          background-color: rgba(255, 255, 255, 0.1);
        }
        
        .mobile-nav-link.active {
          background-color: var(--accent-blue);
        }
        
        @media (max-width: 640px) {
          .product-grid {
            grid-template-columns: 1fr;
          }
        }
        
        @media (max-width: 768px) {
          .nav {
            position: sticky;
            top: 0;
            z-index: 40;
          }
          
          .nav-link {
            padding: 8px 12px;
            font-size: 14px;
          }
          
          .btn {
            padding: 8px 12px;
            font-size: 14px;
          }
        }
      `})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка..."})]})})},E0=({onLogin:e})=>{const[t,n]=k.useState({username:"",password:""}),[r,l]=k.useState(!1),[a,i]=k.useState(!1),o=async u=>{if(u.preventDefault(),!t.username.trim()||!t.password.trim()){alert("Заполните все поля");return}i(!0);try{if(r){const d=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,role:"buyer"})}),h=await d.json();if(!d.ok)throw new Error(h.error||"Ошибка регистрации");alert(h.message||"Регистрация успешна! Теперь войдите в систему."),l(!1)}else{const d=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})}),h=await d.json();d.ok?e(h.user):alert(h.error||"Ошибка входа в систему")}}catch(d){console.error("Ошибка:",d),alert("Произошла ошибка при "+(r?"регистрации":"входе"))}finally{i(!1)}},c=u=>{n({...t,[u.target.name]:u.target.value})};return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:s.jsxs("div",{className:"card max-w-md w-full",children:[s.jsxs("div",{className:"card-header text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-black mb-2",children:"ЦИФРОВАЯ СРЕДА NIGHTINGALE"}),s.jsx("p",{className:"text-gray-600",children:r?"Регистрация в системе":"Вход в систему"})]}),s.jsxs("div",{className:"card-body",children:[s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-black",children:"Имя пользователя"}),s.jsx("input",{type:"text",name:"username",className:"input w-full",value:t.username,onChange:c,placeholder:"Введите имя пользователя",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 text-black",children:"Пароль"}),s.jsx("input",{type:"password",name:"password",className:"input w-full",value:t.password,onChange:c,placeholder:"Введите пароль",required:!0})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a,children:a?"Подождите...":r?"Зарегистрироваться":"Войти"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{className:"btn btn-ghost",onClick:()=>l(!r),disabled:a,children:r?"Уже есть аккаунт? Войти":"Нет аккаунта? Зарегистрироваться"})})]})]})})},P0=()=>{const[e,t]=k.useState(null),[n,r]=k.useState(!0);k.useEffect(()=>{const i=localStorage.getItem("currentUser");if(i)try{t(JSON.parse(i))}catch(o){console.error("Ошибка восстановления пользователя:",o),localStorage.removeItem("currentUser")}r(!1)},[]);const l=i=>{t(i),localStorage.setItem("currentUser",JSON.stringify(i))};if(n)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-blue mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Загрузка приложения..."})]})});if(!e)return s.jsx(E0,{onLogin:l});const a=()=>{switch(e.role){case"admin":return e.id===1?s.jsx(Kc,{}):s.jsx(hs,{to:"/buyer",replace:!0});case"executor":return s.jsx(Gc,{});case"buyer":default:return s.jsx(Qc,{})}};return s.jsx(vx,{children:s.jsxs(hx,{children:[s.jsx(hn,{path:"/",element:a()}),s.jsx(hn,{path:"/buyer",element:s.jsx(Qc,{})}),s.jsx(hn,{path:"/admin",element:e.id===1?s.jsx(Kc,{}):s.jsx(hs,{to:"/buyer",replace:!0})}),s.jsx(hn,{path:"/executor",element:e.role==="executor"?s.jsx(Gc,{}):s.jsx(hs,{to:"/buyer",replace:!0})}),s.jsx(hn,{path:"*",element:s.jsx(hs,{to:"/",replace:!0})})]})})},Xc=()=>{const e=document.getElementById("initial-loading");e&&(e.style.display="none")},ef=e=>{const t=document.getElementById("root");t&&(t.innerHTML=`
      <div style="
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
        text-align: center;
        background: #ffffff;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      ">
        <div style="color: #e53e3e; font-size: 24px; margin-bottom: 16px;">
          Ошибка загрузки приложения
        </div>
        <div style="color: #666666; margin-bottom: 20px; max-width: 600px; line-height: 1.5;">
          ${e}
        </div>
        <button onclick="window.location.reload()" style="
          padding: 10px 20px;
          background: #1a365d;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          font-size: 14px;
        ">
          Перезагрузить страницу
        </button>
      </div>
    `)},Yc=()=>{try{const e=document.getElementById("root");if(!e)throw new Error("Элемент #root не найден в DOM");Xc(),cm(e).render(s.jsx(pt.StrictMode,{children:s.jsx(P0,{})})),console.log("3D Print Marketplace успешно загружен")}catch(e){console.error("Ошибка инициализации приложения:",e),Xc(),ef("Не удалось инициализировать приложение. Проверьте консоль браузера для получения подробной информации.")}};window.addEventListener("error",e=>{console.error("Глобальная ошибка:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Необработанное отклонение промиса:",e.reason),e.preventDefault()});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Yc):Yc();window.__APP_DEBUG__={showError:ef,reload:()=>window.location.reload()};
